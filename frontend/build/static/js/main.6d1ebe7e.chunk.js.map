{"version":3,"sources":["components/ItemTotal.js","components/DefectOptions.js","components/DefectList.js","components/ShowAlert.js","components/CheckList.js","components/UploadForm.js","components/Spinner.js","components/SearchKey.js","components/MainMenu.js","components/SearchedMC.js","components/SupplierInfo.js","components/MfrSelection.js","components/Misc.js","components/Result.js","components/ChangeTrack.js","components/SharePoint.js","components/ShowSharePointFiles.js","components/ShowSpinner.js","AppInspection.js","Home.js","XDaysResult.js","components/UserProfile.js","App.js","index.js"],"names":["ItemTotal","props","setItems","items","mcTable","addMC","currentSU","currentMF","setItemSearchString","editMode","setDisplayAlert","ship","setShip","poList","setPOList","totalShip","totalInspect","totalSample","getLocal","useState","mc","setMC","useEffect","listener","event","code","preventDefault","document","getElementById","click","addEventListener","removeEventListener","el","sortTable","sort","order","nPOList","a","b","po_no","customer","handleInputChange","value","target","displayAlert","message","position","timeout","color","handleInspQty","item_no","nShip","index","findIndex","r","newEntry","find","inspect_qty","parseInt","reset","prev","map","x","sample_qty","className","type","id","name","justify","placeholder","onChange","readOnly","onClick","found","mc_no","duplicate","sameMF","su_no","mf_no","undefined","validateMC","ship_qty","e","nItems","filter","deletePO","onInput","toUpperCase","min","max","deleteItem","DefectOptions","defects","setDefectLanguage","defectLanguage","defectList","showFull","addToDefectList","currentProduct","setCurrentProduct","currentDefectArea","setCurrentDefectArea","currentDefectAreaCode","setCurrentDefectAreaCode","currentDefectDetail","setCurrentDefectDetail","currentDefectDetailCode","setCurrentDefectDetailCode","currentMajor","setCurrentMajor","currentMinor","setCurrentMinor","optionListDefect","setOptionListDefect","optionListDefectDetail","setOptionListDefectDetail","buildOptDefectList","useCallback","choice","_list","product","lang","defect_area","defect_code","code_area","concat","Set","_defect_code","split","defect_detail_code","defect_detail","code_detail","length","disabled","area_array","detail_array","major_int","isNaN","minor_int","handleAddDefect","DefectList","isCriticalDefect","defect_lang","area_code","detail","defect_area_code","defect_detail_area","style","major","minor","deleteDefect","colSpan","ShowAlert","alert","class_var","CheckList","checkList","selected","y","result","nextSelected","handleCheckItemChange","onSubmit","width","category","item","separator","UploadForm","inspectionID","setShowSharePointFiles","sharePointPath","inspectionDate","selectedFile","setSelectedFile","multiple","file","files","formData","FormData","i","append","inspection_date","getMonth","getDate","getFullYear","trackPromise","axios","url","method","data","headers","inspection_id","iteration","charAt","relative_url","then","res","catch","err","error","Spinner","promiseInProgress","usePromiseTracker","area","spinnerMessage","marginTop","height","display","justifyContent","alignItems","fontWeight","SearchKey","checkDuplicateID","setInspectionID","clearScreen","searchInspByMC","inspType","handleKeyChange","insp_type","insp_type_long","MainMenu","handleSave","handleDelete","handleSearch","printReport","setEditMode","userProfile","misc","updateHistory","submitted","editable","ignore_submit","handleClick","window","confirm","SearchedMC","searchedMC","setShowSearchedMC","newSearchedMC","push","SupplierInfo","currentSUName","currentMFName","setSelectingSupplier","setShowFull","setMFRsearch","toLowerCase","MfrSelection","partyTable","setCurrentSU","setCurrentMF","setCurrentSUName","setCurrentMFName","selectingSupplier","mfrSearch","getMCtable","textTransform","SU_NAME","SU","MF","MF_NAME","search","su","mf","su_name","mf_name","Misc","setInspectionDate","setMisc","mqaMembers","packTypes","productCategories","handleChange","element","yes_or_no","newMisc","product_type","lab_test_report","lab_child_safety_report","fibre_content","comments","governance_inspection","props65_report","ship_mode","pack_pct","ship_window","carton_list","carton_total","pack_type","qa_type","sqa","email","mqa","correlation_inspection","product_category","console","log","dateFormat","date","handleDate","checked","label","rows","cols","Result","visualResult","calculateFinalResult","calculate_final_result","packing_result","measurement_result","param2","final_result","defective_result","sample_threshold","visual_result","ChangeTrack","showHistory","setShowHistory","convertToLocal","history","Date","parse","updated_time","root","querySelector","setProperty","line","updated_by","updated_mode","SharePoint","getSharePointFiles","showSharePointFiles","setSharePointFiles","createsharePointPDF","src","alt","getTime","newWindow","open","opener","handleClick_view","handleClick_add","ShowSharePointFiles","sharePointFiles","downloadSharePointFile","handleDeleteSPfile","ext","isSupportPicExt","filename","includes","editor","last_editor","modified","size","folder","unique_id","ShowSpinner","App","showSearchedMC","setDefects","setAlert","setMCTable","setCheckList","uploads","setUploads","setUserProfile","setSearchedMC","itemSearchString","setPartyTable","mfList","setMfList","aqlTable","setAqlTable","main","setMain","setVisualResult","setUpdateHistory","checkListTemplate","setCheckListTemplate","setDefectList","criticalDefects","setCriticalDefects","setSharePointPath","setPackTypes","setMQAmembers","setProductCategories","setInspType","setTotalShip","setTotalInspect","setTotalSample","initialLoad","useRef","userAgent","navigator","test","api","response","fetch","json","j","scroll_y","getElementsByClassName","len","first_found","backgroundColor","firstElementChild","innerHTML","scrollTo","scrollHeight","scrollBy","getElementsByName","children","labels","uniqueLabels","join","sampleThreshold","defectiveResult","sampleThresholdMajor","sampleThresholdMinor","total_major","total_minor","total_critical","critical","toString","Math","floor","aql","size_start","size_end","po_list","oItems","v","indexOf","forEach","u","reduce","curr","order_qty","item_list","oList","unique","total_qty","round","current","_aql","totSampleQty","handleSupplierInfo","uuidv4","item_desc","fabric_note","fillCheckList","setTimeout","JSON","stringify","_id","localStorage","setItem","status","location","delay","ms","Promise","handleSessionTimeOut","defect","t","toTimeString","local","toDateString","local_end","substring","newCheckList","itemsTotal","file_name","draft","localTime","now","blob","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","parentNode","removeChild","getItem","defect_language","change","file_url","downloadDoc","Home","env","title","border","About","setResult","_result","sortInspectionDate","first_name","UserProfile","to","gotoPowerBI","clear","path","environment","AppInspection","XDaysResult","ReactDOM","render"],"mappings":"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","file":"static/js/main.6d1ebe7e.chunk.js","sourcesContent":["import { React, useEffect, useState } from \"react\"\n\nconst ItemTotal = props => {\n  const { setItems, items, mcTable, addMC, currentSU, currentMF, setItemSearchString, editMode, setDisplayAlert, ship, setShip, poList, setPOList, totalShip, totalInspect, totalSample, getLocal } = props\n\n  const [mc, setMC] = useState(\"\")\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"itemTable_MCBtn\").click()\n      }\n    }\n\n    if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").addEventListener(\"keydown\", listener)\n\n    return () => {\n      if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").removeEventListener(\"keydown\", listener)\n    }\n  }, [])\n\n  /* Item Total */\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"highLightItemBtn\").click()\n      }\n    }\n    var el = document.getElementById(\"itemTotal_searchString\")\n\n    if (el) {\n      el.addEventListener(\"keydown\", listener)\n      return () => {\n        el.removeEventListener(\"keydown\", listener)\n      }\n    }\n  }, [])\n\n  const sortTable = (sort, order) => {\n    const nPOList = [...poList]\n    /*table = document.getElementById(\"itemTable\") */\n    if (sort === 0 && order === \"asc\") {\n      nPOList.sort(function (a, b) {\n        return a.po_no > b.po_no ? 1 : -1\n      })\n    } else if (sort === 0 && order === \"desc\") {\n      nPOList.sort(function (a, b) {\n        return a.po_no < b.po_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"asc\") {\n      nPOList.sort(function (a, b) {\n        return a.customer > b.customer ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"desc\") {\n      nPOList.sort(function (a, b) {\n        return a.customer < b.customer ? 1 : -1\n      })\n    }\n    setPOList(nPOList)\n  }\n\n  //* add new MC\n\n  const handleInputChange = event => {\n    const value = event.target.value\n    setMC(value)\n  }\n\n  const validateMC = () => {\n    //event.preventDefault()\n\n    const found = mcTable.find(x => x.mc_no === mc)\n    const duplicate = items.find(x => x.mc_no === mc)\n    const sameMF = mcTable.find(x => x.mc_no === mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else if (duplicate === undefined) {\n      addMC(mc)\n    } else {\n      displayAlert(\"MC was already entered in the item list, please check ! \")\n    }\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 1, timeout: 1500, color: \"alert__red\" })\n  }\n\n  const deleteItem = item_no => {\n    setItems(x => x.filter(x => x.item_no !== item_no))\n  }\n\n  const handleShipQty = item_no => event => {\n    let value = event.target.value\n\n    if (value === \"\") {\n      return\n    }\n    if (parseInt(value) > 20000) {\n      value = 20000\n      setDisplayAlert({ message: \"Number of ship units is too large!\", position: 1, timeout: 3000, color: \"alert__red\" })\n    }\n\n    const nShip = [...ship]\n    const index = nShip.findIndex(r => r.item_no === item_no)\n    const newEntry = nShip.find(r => r.item_no === item_no)\n    nShip[index] = { ...newEntry, ship_qty: parseInt(value) }\n    setShip(nShip)\n  }\n\n  const handleInspQty = item_no => event => {\n    let value = event.target.value\n    const nShip = [...ship]\n    const index = nShip.findIndex(r => r.item_no === item_no)\n    const newEntry = nShip.find(r => r.item_no === item_no)\n    nShip[index] = { ...newEntry, inspect_qty: parseInt(value) }\n    setShip(nShip)\n  }\n\n  // reset inspection qty\n  const reset = () => {\n    setShip(prev => prev.map(x => ({ ...x, inspect_qty: x.sample_qty })))\n  }\n\n  const deletePO = po_no => {\n    const nItems = [...items].filter(x => x.po_no !== po_no)\n    const nPOList = [...poList].filter(x => x.po_no !== po_no)\n    setItems(nItems)\n    setPOList(nPOList)\n  }\n\n  return (\n    // present the table\n\n    <div className=\"itemTable_2col\">\n      <div>\n        <div className=\"itemTable_Section\">\n          <div>Add MC:</div>\n          &nbsp;\n          <div>{editMode ? <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Additional MC here\" onChange={handleInputChange} /> : <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Include additional MC here\" readOnly onChange={handleInputChange} />}</div>\n          &nbsp;&nbsp;\n          <div>\n            {editMode ? (\n              <i\n                id=\"itemTable_MCBtn\"\n                className=\"fa fa-plus clickable\"\n                onClick={() => {\n                  validateMC(mc)\n                }}\n              ></i>\n            ) : null}\n          </div>\n        </div>\n        <div className=\"itemTable_Header\">\n          <div>\n            PO#&nbsp;\n            <i\n              className=\"fa fa-chevron-circle-up clickable\"\n              onClick={() => {\n                sortTable(0, \"asc\")\n              }}\n            ></i>\n            &nbsp;\n            <i\n              className=\"fa fa-chevron-circle-down clickable\"\n              onClick={() => {\n                sortTable(0, \"desc\")\n              }}\n            ></i>\n          </div>\n\n          <div>\n            DIV&nbsp;\n            <i\n              className=\"fa fa-chevron-circle-up clickable\"\n              onClick={() => {\n                sortTable(1, \"asc\")\n              }}\n            ></i>\n            &nbsp;\n            <i\n              className=\"fa fa-chevron-circle-down clickable\"\n              onClick={() => {\n                sortTable(1, \"desc\")\n              }}\n            ></i>\n          </div>\n          <div>Order</div>\n          <div>Delete</div>\n          <div></div>\n        </div>\n\n        <div id=\"itemTableScroller\" className=\"itemTable_GridContainer\">\n          {!poList\n            ? null\n            : poList.map((x, index) => (\n                <div key={index} className=\"itemTable_Detail\">\n                  <div>{x.po_no}</div>\n                  <div>{x.customer}</div>\n                  <div>{x.ship_qty}</div>\n                  <div>{editMode ? <button onClick={e => deletePO(x.po_no)}>x</button> : null}</div>\n                </div>\n              ))}\n        </div>\n      </div>\n      <div></div>\n      <div>\n        <div className=\"itemTotal_Section\">\n          <div>Highlight item :</div>\n\n          <div>\n            <input type=\"text\" name=\"itemTotal_searchString\" id=\"itemTotal_searchString\" justify=\"left\" onInput={e => (e.target.value = (\"\" + e.target.value).toUpperCase())} placeholder=\"Enter item here\" />\n          </div>\n\n          <div>\n            <i\n              className=\"fa fa-search clickable\"\n              id=\"highLightItemBtn\"\n              onClick={() => {\n                setItemSearchString(document.getElementById(\"itemTotal_searchString\").value)\n              }}\n            ></i>\n          </div>\n\n          <div>\n            Refresh Qty.&nbsp;\n            <i\n              className=\"fa fa-angle-double-right itemTotal_arrow_color clickable\"\n              onClick={() => {\n                reset()\n              }}\n            ></i>\n            <i\n              className=\"fa fa-angle-double-right  itemTotal_arrow_color clickable\"\n              onClick={() => {\n                reset()\n              }}\n            ></i>\n          </div>\n\n          <div>\n            {/* Undo\n            <i\n              className=\"fa fa-undo clickable\"\n              onClick={() => {\n                getLocal()\n              }}\n            ></i> */}\n          </div>\n        </div>\n\n        <div className=\"itemTotal_Header\">\n          <div>By Item</div>\n          <div>Ship</div>\n          <div>Sample</div>\n          <div>Inspect</div>\n          <div>Delete</div>\n        </div>\n\n        <div id=\"scroller\" className=\"itemTotal_GridContainer\">\n          {!ship\n            ? null\n            : ship.map((x, index) => (\n                <div key={index} className=\"itemTotal_Detail\">\n                  <div>{x.item_no}</div>\n                  <div>\n                    <input type=\"number\" id=\"itemTotal_shipQty\" name=\"itemTotal_shipQty\" value={x.ship_qty || 1} min=\"1\" max=\"15000\" justify=\"left\" onChange={handleShipQty(x.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                  </div>\n                  <div>{x.sample_qty}</div>\n                  <div>\n                    <input type=\"number\" id=\"itemTotal_InspectQty\" name=\"itemTotal_InspectQty\" value={x.inspect_qty || 1} min=\"1\" max=\"15000\" justify=\"left\" onChange={handleInspQty(x.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                  </div>\n                  <div>\n                    {editMode ? (\n                      <i\n                        className=\"fa fa-times clickable\"\n                        onClick={() => {\n                          deleteItem(x.item_no)\n                        }}\n                      ></i>\n                    ) : null}\n                  </div>\n                </div>\n              ))}\n        </div>\n\n        <div className=\"itemTotal_Total\">\n          <div> Total :</div>\n          <div>{totalShip}</div>\n          <div>{totalSample}</div>\n          <div className={totalSample !== totalInspect ? \"highlightSection\" : null}>{totalInspect}</div>\n          <div></div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTotal\n","import React, { useState, Fragment, useEffect, useCallback } from \"react\"\n\nconst DefectOptions = props => {\n  // remove columns : mc_no and id in prepration for calculating total by item#\n  const { editMode, defects, setDisplayAlert, setDefectLanguage, defectLanguage, defectList, showFull, addToDefectList } = props\n\n  const [currentProduct, setCurrentProduct] = useState(\"Select\")\n\n  const [currentDefectArea, setCurrentDefectArea] = useState(\"\")\n  const [currentDefectAreaCode, setCurrentDefectAreaCode] = useState(\"\")\n\n  const [currentDefectDetail, setCurrentDefectDetail] = useState(\"\")\n  const [currentDefectDetailCode, setCurrentDefectDetailCode] = useState(\"\")\n\n  const [currentMajor, setCurrentMajor] = useState(\"\")\n  const [currentMinor, setCurrentMinor] = useState(\"\")\n\n  const [optionListDefect, setOptionListDefect] = useState([])\n  const [optionListDefectDetail, setOptionListDefectDetail] = useState([])\n\n  //  prepare for the defect selection - need to associate based on each specific product and then its associted defect.\n  //  Trying to shortlist the defect code based on product\n\n  const buildOptDefectList = useCallback(\n    (choice, value) => {\n      //console.log(\"Callback called\")\n      let _list = \"\"\n      switch (choice) {\n        case \"defect\": // select defect\n          _list = defectList.filter(x => x.product === value && x.lang === defectLanguage)\n          _list = _list.map(({ defect_area, defect_code }) => ({ code_area: \"\".concat(defect_code, \"~\", defect_area) }))\n          _list = _list.map(({ code_area }) => code_area)\n          _list = [...new Set(_list)].sort()\n          setOptionListDefect(_list)\n          break\n        case \"detail\": // select detail\n          const _defect_code = value.split(\"~\")[0] // based defect code\n          _list = defectList.filter(x => x.product === currentProduct && x.lang === defectLanguage && x.defect_code === _defect_code)\n          _list = _list.map(({ defect_detail_code, defect_detail }) => ({ code_detail: \"\".concat(defect_detail_code, \"~\", defect_detail) }))\n          _list = _list.map(({ code_detail }) => code_detail)\n          _list = [...new Set(_list)].sort()\n          setOptionListDefectDetail(_list)\n          break\n        default:\n          break\n      }\n    },\n    [defectList, currentProduct, defectLanguage]\n  )\n\n  useEffect(() => {\n    if (currentProduct && currentProduct !== \"Select\") {\n      buildOptDefectList(\"defect\", currentProduct)\n    }\n  }, [currentProduct, buildOptDefectList])\n\n  useEffect(() => {\n    if (!showFull) {\n      setCurrentDefectArea(\"\")\n      setCurrentDefectAreaCode(\"\")\n      setCurrentMajor(\"\")\n      setCurrentMinor(\"\")\n    } else if (showFull && defects.length > 0) {\n      setCurrentProduct(defects[0].product)\n      //buildOptDefectList(\"defect\", defects[0].product)\n    } else if (showFull && defects.length === 0) {\n      setCurrentProduct(\"\")\n      setCurrentDefectArea(\"Select\")\n      setCurrentMajor(\"\")\n      setCurrentMinor(\"\")\n      setCurrentDefectAreaCode(\"\")\n      setCurrentDefectDetailCode(\"\")\n    }\n  }, [showFull, defects])\n\n  const handleSelectChangeProduct = event => {\n    const { value } = event.target\n\n    // check if the switching language (=value) exists\n    const total_lang_rec = defectList.filter(x => x.product === value && x.lang === defectLanguage)\n    // Following if block must precede other\n\n    if (total_lang_rec.length === 0) {\n      setDisplayAlert({ message: \"No product selected or Language has NOT been set for this product !!\", position: 2, timeout: 2500, color: \"alert__red\" })\n      return\n    }\n\n    if (disableProductSelect() === \"disabled\") {\n      if (value !== defects[0].product) {\n        setDisplayAlert({ message: \"Product '\" + defects[0].product + \"' has already been chosen !! Please empty all defects if you decide to change product ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n        return\n      }\n      document.getElementById(\"defectOptionsProduct\").value = defects[0].product\n      document.getElementById(\"defectOptionsDefectArea\").value = \"Select\"\n      setCurrentProduct(defects[0].product)\n    } else {\n      setCurrentProduct(value)\n    }\n\n    buildOptDefectList(\"defect\", value)\n    setCurrentDefectArea(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n    setCurrentDefectAreaCode(\"\")\n    setCurrentDefectDetailCode(\"\")\n  }\n\n  function disableProductSelect() {\n    if (defects.length > 0) {\n      return \"disabled\"\n    } else return null\n  }\n\n  const handleSelectChangeDefect = event => {\n    const { value } = event.target\n    const area_array = value.split(\"~\")\n    setCurrentDefectAreaCode(area_array[0])\n    setCurrentDefectArea(area_array[1])\n    buildOptDefectList(\"detail\", value)\n    setCurrentDefectDetail(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleSelectChangeDefectDetail = event => {\n    const { value } = event.target\n    const detail_array = value.split(\"~\")\n    setCurrentDefectDetailCode(detail_array[0])\n    setCurrentDefectDetail(detail_array[1])\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleCurrentMajorChange = event => {\n    const { value } = event.target\n    setCurrentMajor(value)\n  }\n\n  const handleCurrentMinorChange = event => {\n    const { value } = event.target\n    setCurrentMinor(value)\n  }\n\n  const handleChangeDefectLanguage = event => {\n    const { value } = event.target\n\n    // check if the switching language (=value) exists\n    const total_lang_rec = defectList.filter(x => x.product === currentProduct && x.lang === value)\n    // Following if block must precede other\n\n    if (total_lang_rec.length === 0) {\n      setDisplayAlert({ message: \"No product selected or Language has NOT been set for this product !!\", position: 2, timeout: 2500, color: \"alert__red\" })\n      return\n    }\n    setDefectLanguage(value)\n    setCurrentDefectArea(\"Select\")\n    setOptionListDefectDetail([])\n  }\n\n  const handleAddDefect = event => {\n    //event.preventDefault()\n    const major_int = isNaN(parseInt(currentMajor)) // check if empty, return true if empty\n    const minor_int = isNaN(parseInt(currentMinor)) // check if empty, return true if empty\n\n    if (currentProduct === \"Select\" || currentDefectArea === \"Select\" || currentDefectDetail === \"Select\") {\n      props.setDisplayAlert({ message: \"Please make sure you select Product, Defect and Defect Detail ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else if (major_int || minor_int || (currentMajor < 1 && currentMinor < 1)) {\n      props.setDisplayAlert({ message: \"Please make sure you enter either Major and Minor quantity ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else {\n      addToDefectList(currentProduct, currentDefectArea, currentDefectDetail, currentMajor, currentMinor, currentDefectAreaCode, currentDefectDetailCode, defectLanguage)\n    }\n  }\n\n  return (\n    // present the table\n\n    <Fragment>\n      <div className=\"defectOption_header\">\n        <div>Language</div>\n\n        <div>&nbsp;&nbsp;&nbsp;&nbsp;</div>\n        <div>\n          <select className=\"defectOption_language  clickable\" onChange={handleChangeDefectLanguage} value={defectLanguage}>\n            <option value=\"en\">English</option>\n            <option value=\"zh\">Chinese</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"defectOption\">\n        <div className=\"defectOption_product\">\n          <select onChange={handleSelectChangeProduct} id=\"defectOptionsProduct\" className=\"clickable\" value={currentProduct}>\n            {/* <option disabled={disableProductSelect()}  value=\"Select\">Select</option> */}\n            <option value=\"Select\">Select</option>\n            <option value=\"Fashion Jewelry\" disabled={editMode ? \"\" : \"disabled\"}>\n              Fashion Jewelry\n            </option>\n            <option value=\"Footwear\" disabled={editMode ? \"\" : \"disabled\"}>\n              Footware\n            </option>\n            <option value=\"Handbags\" disabled={editMode ? \"\" : \"disabled\"}>\n              Handbags\n            </option>\n            <option value=\"Hardlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Hardlines\n            </option>\n            <option value=\"Softlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Softlines\n            </option>\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectArea\">\n          <select onChange={handleSelectChangeDefect} id=\"defectOptionsDefectArea\" className=\"clickable\" value={currentDefectAreaCode + \"~\" + currentDefectArea}>\n            <option value=\"Select\">Select</option>\n            {optionListDefect.map((x, index) => (\n              <option key={index} value={x} disabled={editMode ? \"\" : \"disabled\"}>\n                {x}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectDetail\">\n          <select onChange={handleSelectChangeDefectDetail} id=\"defectOptionsDefectDetail\" className=\"clickable\" value={currentDefectDetailCode + \"~\" + currentDefectDetail}>\n            <option value=\"Select\">Select</option>\n            {optionListDefectDetail.map((x, index) => (\n              <option key={index} value={x} disabled={editMode ? \"\" : \"disabled\"}>\n                {x}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_major\">\n          <input type=\"number\" name=\"major\" placeholder=\" Major\" value={currentMajor} min=\"0\" max=\"5\" onChange={handleCurrentMajorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div className=\"defectOption_minor\">\n          <input type=\"number\" name=\"minor\" placeholder=\" Minor\" value={currentMinor} min=\"0\" max=\"5\" onChange={handleCurrentMinorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div>\n          {editMode ? (\n            <button\n              onClick={() => {\n                handleAddDefect()\n              }}\n            >\n              Add\n            </button>\n          ) : null}\n        </div>\n        <div></div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectOptions\n","import React, { Fragment } from \"react\"\n\nconst DefectList = props => {\n  const { defects, editMode, isCriticalDefect, defectLanguage, defectList } = props\n\n  function defect_lang(product, area_code, detail) {\n    //console.log(\"input\", product, area_code, detail)\n    const defect = defectList.filter(x => x.product === product && x.defect_code === area_code && x.defect_detail_code === detail && x.lang === defectLanguage)\n    return defect[0]\n  }\n\n  return (\n    // present the table\n    // adding span below appends ... to the off-limit text\n    <Fragment>\n      <div className=\"defectList\">\n        <div className=\"defectList_gridHeader\">\n          <div>Product</div>\n          <div>Defect</div>\n          <div>Defect Detail</div>\n          <div className=\"defectList_major_header\">\n            Major/<br></br>Critical\n          </div>\n          <div className=\"defectList_minor_header\">Minor</div>\n          <div>Delete</div>\n        </div>\n\n        {defects.length > 0 ? (\n          defects.map(x => (\n            <div className=\"defectList_gridDetail\" key={x.id}>\n              <div className=\"defectList_gridItem defectList_product\">{x.product}</div>\n              <div className=\"defectList_gridItem defectList_defectArea\">{x.defect_area_code + \"~\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_area}</div>\n              <div className=\"defectList_gridItem  defectList_defectDetail\" style={{ color: isCriticalDefect(x.product, x.defect_detail_area) ? \"red\" : \"inherit\" }}>\n                <span>{x.defect_detail_area + \"~\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_detail}</span>\n              </div>\n              <div className=\"defectList_major\">{x.major}</div>\n              <div className=\"defectList_minor\">{x.minor}</div>\n              <div className=\"defectList_deleteButton\">\n                {editMode ? (\n                  <button\n                    onClick={() => {\n                      props.deleteDefect(x.id)\n                    }}\n                  >\n                    &times;\n                  </button>\n                ) : null}\n              </div>\n              <div></div>\n            </div>\n          ))\n        ) : (\n          <div>\n            <div colSpan={3}>No Defects</div>\n          </div>\n        )}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectList\n","import React from \"react\"\n\nconst ShowAlert = props => {\n  const alert = props.alert\n  const class_var = \"alert \".concat(alert.color)\n\n  return (\n    // present the table\n    <h5 className={class_var}>{alert.message}</h5>\n  )\n}\nexport default ShowAlert\n","import React from \"react\"\n\nconst CheckList = props => {\n  const { editMode, checkList } = props\n\n  checkList.sort((a, b) => a.id - b.id) // must sort to present in order...\n\n  const handleInputChange = (id, x) => {\n    var selected = []\n    if (editMode) {\n      if (id === 88) {\n        // Further Comments\n        selected = [\"Select\", \"Yes\", \"No\", \"Select\"]\n      } else {\n        selected = [\"Select\", \"OK\", \"NA\", \"X\", \"NI\"]\n      }\n\n      let index = selected.findIndex(y => y === x.result)\n      if (index === 4) {\n        index = 1\n      } else {\n        index = index + 1\n      }\n      const nextSelected = selected[index]\n      props.handleCheckItemChange(id, { ...x, result: nextSelected })\n    }\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault() //  props.updateItem(item.id, item)\n      }}\n    >\n      <div className=\"checkList_header\">Basic Check List</div>\n      <div className=\"checkFormGrid\">\n        <div>\n          <table id=\"checkListTable\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id > 0 && y.id <= 42)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 43 && y.id <= 68)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 81)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            // bgcolor=\"white\"\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </form>\n  )\n}\n\nexport default CheckList\n","import React, { Fragment, useState } from \"react\"\nimport axios from \"axios\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst UploadForm = props => {\n  const { setDisplayAlert, inspectionID, editMode, currentSU, currentMF, setShowSharePointFiles, sharePointPath, inspectionDate } = props\n  const [selectedFile, setSelectedFile] = useState()\n\n  const handleFile = event => {\n    setSelectedFile({ file: event.target.files })\n  }\n\n  const handleUpload = event => {\n    //event.preventDefault()\n\n    //displayAlert('Do not hit \"UPLOAD\" button again ! Upload in progress')\n\n    const formData = new FormData()\n\n    try {\n      const files = selectedFile.file\n\n      for (let i = 0; i < files.length; i++) {\n        formData.append(`files[]`, files[i])\n        //console.log(files[i], \"hello  ---$$$\")\n      }\n\n      const inspection_date = inspectionDate.getMonth() + 1 + \"/\" + inspectionDate.getDate() + \"/\" + inspectionDate.getFullYear()\n\n      trackPromise(\n        axios({\n          url: \"/api/upload\",\n          method: \"POST\",\n          data: formData,\n          headers: {\n            inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type.charAt(0),\n            //relative_url: \"2022InspRpt/SU\" + currentSU + \"MF\" + currentMF\n            relative_url: sharePointPath.concat(\"/\", \"SU\", currentSU, \"MF\", currentMF),\n            inspection_date: inspection_date\n          }\n        })\n          .then(res => {\n            for (var i = 0; i < res.data.length; i++) {\n              //const _id = res.data[i]._id\n              //const inspection_id = inspectionID\n              //const file_name = res.data[i].file_name\n              //const mime_type = res.data[i].mime_type\n              setShowSharePointFiles(true)\n            }\n            document.getElementById(\"sharePoint_file\").value = null\n            document.getElementById(\"sharePoint_refresh\").click()\n          })\n          // process upload erros if any\n          .catch(err => {\n            //console.log(\"err\", err.message)\n\n            // if (err.response.status === 413) {\n            //   setDisplayAlert({ message: err.response.data, position: 3, timeout: 4000, color: \"alert__red\" })\n            // } else {\n            setDisplayAlert({ message: \"Exceed a size limit of upload !!\", position: 3, timeout: 4000, color: \"alert__red\" })\n          }),\n        \"sharePointUpload\"\n      )\n    } catch (error) {\n      displayAlert(\"Please select files and try again !!\")\n    }\n  }\n\n  // function getExtension(file_name) {\n  //   var parts = file_name.split(\".\")\n  //   return parts[parts.length - 1]\n  // }\n\n  // function showMimeIcon(file_name) {\n  //   const iconTypes = [\n  //     { ext: \"jpeg\", icon: \"file-image-o\" },\n  //     { ext: \"jpg\", icon: \"file-image-o\" },\n  //     { ext: \"bmp\", icon: \"file-image-o\" },\n  //     { ext: \"png\", icon: \"file-image-o\" },\n  //     { ext: \"jif\", icon: \"file-image-o\" },\n  //     { ext: \"mp4\", icon: \"file-movie-o\" },\n  //     { ext: \"avi\", icon: \"file-movie-o\" },\n  //     { ext: \"mpg\", icon: \"file-movie-o\" },\n  //     { ext: \"txt\", icon: \"file-text-o\" },\n  //     { ext: \"xlsx\", icon: \"file-excel-o\" },\n  //     { ext: \"xls\", icon: \"file-excel-o\" },\n  //     { ext: \"doc\", icon: \"file-word-o\" },\n  //     { ext: \"docx\", icon: \"file-word-o\" },\n  //     { ext: \"ppt\", icon: \"file-powepoint-o\" },\n  //     { ext: \"pdf\", icon: \"file-pdf-o\" },\n  //     { ext: \"pptx\", icon: \"file-pdf-o\" },\n  //     { ext: \"zip\", icon: \"file-zip-o\" }\n  //   ]\n\n  //   const fileExtension = getExtension(file_name)\n  //   const iconType = iconTypes.find(x => x.ext === fileExtension.toLowerCase()).icon\n  //   const iconFont = iconType ? iconType : \"fa-fa-file\" // file type not registered\n  //   return \"fa fa-\" + iconFont + \" addSpace\"\n  // }\n\n  // const deleteUpload = id => {\n  //   const newUploadTable = [...uploads]\n  //   const index = newUploadTable.findIndex(r => r._id === id)\n  //   const uploadItem = newUploadTable.find(r => r._id === id)\n  //   newUploadTable[index] = { ...uploadItem, enable: false }\n  //   //console.log(newUploadTable)\n  //   setUploads(newUploadTable)\n  // }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 3, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"uploadDoc\">\n        {editMode ? (\n          <form>\n            <input type=\"file\" multiple name=\"file\" id=\"sharePoint_file\" onChange={handleFile} />\n            <button type=\"button\" onClick={handleUpload}>\n              Upload files\n            </button>\n          </form>\n        ) : null}\n\n        {/* <table id=\"uploadFiles\">\n          <tbody>\n            {uploads\n              .filter(y => y.enable)\n              .map(x => (\n                <tr key={x._id}>\n                  <td>\n                    <button\n                      className=\"button-delete small-button\"\n                      onClick={() => {\n                        deleteUpload(x._id)\n                      }}\n                    >\n                      &times;\n                    </button>\n                    <a href=\"/#\" onClick={downloadDoc(x._id, x.file_name)}>\n                      <i className={showMimeIcon(x.file_name)} />\n                      {x.file_name}\n                    </a>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table> */}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default UploadForm\n","import React from \"react\"\nimport { usePromiseTracker } from \"react-promise-tracker\"\nimport Loader from \"react-loader-spinner\"\n\nexport const Spinner = props => {\n  const { promiseInProgress } = usePromiseTracker({ area: props.area })\n  const { spinnerMessage } = props\n\n  return (\n    promiseInProgress && (\n      <div\n        style={{\n          marginTop: \"0.5rem\",\n          width: \"100%\",\n          height: \"30\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"green\",\n          fontWeight: \"bold\"\n        }}\n      >\n        {/* <Loader type=\"ThreeDots\" color=\"#2BAD60\" height=\"50\" width=\"100\" /> */}\n        {/* <Loader type=\"Circles\" color=\"rgba(129, 160, 250, 255)\" height=\"40\" width=\"100\" /> */}\n        {spinnerMessage}\n        <Loader type=\"Circles\" color=\"green\" height=\"30\" width=\"100\" />\n      </div>\n    )\n  )\n}\n","import React, { Fragment } from \"react\"\n//import axios from \"axios\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchKey = props => {\n  const { checkDuplicateID, mcTable, setDisplayAlert, inspectionID, setInspectionID, clearScreen, searchInspByMC, currentMF, currentSU, editMode, inspType, showFull } = props\n\n  const handleKeyChange = event => {\n    const id = event.target.id\n    const { value } = event.target\n\n    switch (id) {\n      case \"searchKey_mc\":\n        setInspectionID({ ...inspectionID, mc: value })\n        if (value.length >= 3) searchInspByMC(value)\n        // pass first few characters of MC entered\n        else clearScreen()\n        break\n      case \"searchKey_iteration\":\n        setInspectionID({ ...inspectionID, iteration: value })\n        break\n      case \"searchKey_type\":\n        setInspectionID({ ...inspectionID, type: value })\n        break\n      default:\n        break\n    }\n  }\n\n  const validateMC = id => {\n    clearScreen()\n\n    const found = mcTable.find(x => x.mc_no === id.mc)\n    const sameMF = mcTable.find(x => x.mc_no === id.mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else {\n      checkDuplicateID(id)\n    }\n  }\n\n  function isInvalidID() {\n    if (inspectionID.mc === \"\" || inspectionID.iteration === \"Select\" || inspectionID.iteration === \"\" || inspectionID.type === \"Select\") return true\n    else return false\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"searchKey\">\n        <div className=\"searchKey_pair\">\n          <label>MC# : </label>\n          <input type=\"text\" name=\"searchKey_mc\" id=\"searchKey_mc\" onChange={handleKeyChange} readOnly={showFull ? \"readOnly\" : \"\"} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Iteration : </label>\n          <input type=\"number\" name=\"searchKey_iteration\" id=\"searchKey_iteration\" placeholder=\"Iteration\" min=\"1\" max=\"9\" onChange={handleKeyChange} readOnly={showFull ? \"readOnly\" : \"\"} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Type : </label>\n          <select name=\"searchKey_type\" id=\"searchKey_type\" onChange={handleKeyChange}>\n            <option value=\"Select\">Select</option>\n            {inspType &&\n              inspType.map(x => (\n                <option key={x.insp_type} value={x.insp_type} disabled={showFull ? \"disabled\" : \"\"}>\n                  {x.insp_type_long}\n                </option>\n              ))}\n          </select>\n        </div>\n        <div></div>\n        {!editMode ? (\n          <div>\n            {!isInvalidID() ? (\n              <div>\n                <button\n                  onClick={() => {\n                    validateMC(inspectionID)\n                  }}\n                >\n                  Create Inspection\n                </button>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n      </div>\n      <Spinner area=\"searchKey\" />\n    </Fragment>\n  )\n}\n\nexport default SearchKey\n","import React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { handleSave, handleDelete, handleSearch, inspectionID, printReport, editMode, setEditMode, userProfile, misc, showFull, clearScreen, updateHistory } = props\n\n  const submitted = misc.submitted\n  const editable = userProfile.ignore_submit === undefined ? false : userProfile.ignore_submit\n\n  const handleClick = event => {\n    const id = event.target.id\n\n    setEditMode(false)\n\n    if (id === \"save\") {\n      submitted ? handleSave(true) : handleSave(false)\n    }\n\n    if (id === \"edit\") {\n      setEditMode(true)\n    }\n\n    if (id === \"delete\") {\n      handleDelete(inspectionID)\n    }\n    if (id === \"search\") {\n      setEditMode(false)\n      handleSearch(inspectionID)\n    }\n    if (id === \"print\") {\n      printReport(\"Inspection_Report.xlsx\", false)\n    }\n    if (id === \"print_draft\") {\n      // print draft watermark\n      printReport(\"Inspection_Report.xlsx\", true)\n    }\n\n    if (id === \"cancel\") {\n      setEditMode(false)\n      clearScreen()\n    }\n  }\n  return (\n    <Fragment>\n      <div className=\"mainMenu\">\n        <div className=\"mainMenu_inspectionKey\">\n          Inspection Key : &nbsp;&nbsp;\n          {/* {(submitted || \"\") && showFull ? <i className=\"fa fa-lock mainMenu_lock\"></i> : null} */}\n          {(submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-lock mainMenu_lock clickable\"\n              onClick={() => {\n                if (editable) {\n                  var confirm = window.confirm(\"Are you sure you want to unlock this inspeciton ? \")\n                  if (confirm === true) {\n                    handleSave(false)\n                  }\n                } else {\n                  alert(\"You have no rights to unlock this inspeciton !\")\n                }\n              }}\n            ></i>\n          ) : null}\n          {(!submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-unlock mainMenu_unlock clickable\"\n              onClick={() => {\n                var confirm = window.confirm(\"Are you sure you want to submit or lock this inspeciton ? \")\n                if (confirm === true) {\n                  handleSave(true)\n                }\n              }}\n            ></i>\n          ) : null}\n        </div>\n        {editMode || \"\" ? (\n          <button id=\"save\" onClick={handleClick}>\n            Save\n          </button>\n        ) : null}\n        {!editMode ? (\n          <button id=\"search\" onClick={handleClick}>\n            Search\n          </button>\n        ) : null}\n        {!editMode && showFull && (!submitted || editable) ? (\n          <button id=\"edit\" onClick={handleClick}>\n            Edit&nbsp;\n            {(submitted || \"\") && showFull ? <i className=\"fa fa-lock\"></i> : null}\n          </button>\n        ) : null}\n        {showFull && (!submitted || editable) ? (\n          // {editMode ? (\n          <button id=\"cancel\" onClick={handleClick}>\n            Cancel\n          </button>\n        ) : null}\n        {!editMode && submitted ? (\n          <button id=\"print\" onClick={handleClick}>\n            Print\n          </button>\n        ) : null}\n        {!editMode && !submitted && showFull ? (\n          <button id=\"print_draft\" onClick={handleClick}>\n            Print Draft\n          </button>\n        ) : null}\n\n        {(showFull || \"\") && editable && showFull && updateHistory.length > 0 ? (\n          <button id=\"delete\" onClick={handleClick} className=\"deleteButton\">\n            Delete\n          </button>\n        ) : null}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchedMC = props => {\n  const { setInspectionID, handleSearch, searchedMC, setShowSearchedMC, mcTable, currentSU, currentMF } = props\n\n  const newSearchedMC = []\n  for (var i = 0; i < searchedMC.length; i++) {\n    const mc_no = searchedMC[i].mc\n    const rec = mcTable.find(x => x.mc_no === mc_no && x.su_no === currentSU && x.mf_no === currentMF)\n    if (rec) {\n      newSearchedMC.push(searchedMC[i])\n    }\n  }\n\n  const handleClick = id => {\n    setInspectionID(id)\n    handleSearch(id)\n    // Set search fields in SearchKey.js\n    document.getElementById(\"searchKey_mc\").value = id.mc\n    document.getElementById(\"searchKey_iteration\").value = id.iteration\n    document.getElementById(\"searchKey_type\").value = id.type\n    setShowSearchedMC(false)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      <div className=\"searchedMC\">\n        <div className=\"searchedMC_header1 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Iteration</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n        <div className=\"searchedMC_header2 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Iteration</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n        <div className=\"searchedMC_header3 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Iteration</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n\n        {newSearchedMC.length > 0\n          ? newSearchedMC.map(x => (\n              <div\n                className=\"searchedMC_detail\"\n                key={x.id}\n                onClick={() => {\n                  handleClick({ mc: x.mc, iteration: x.iteration, type: x.type })\n                }}\n              >\n                <div></div>\n                <div>{x.mc}</div>\n                <div className=\"searchedMC_detail_center\">{x.iteration}</div>\n                <div className=\"searchedMC_detail_center\">{x.type}</div>\n              </div>\n            ))\n          : null}\n      </div>\n      <Spinner area=\"mfrSelection\" />\n    </Fragment>\n  )\n}\n\nexport default SearchedMC\n","import React, { Fragment } from \"react\"\n\nconst SupplierInfo = props => {\n  const { currentSU, currentMF, currentSUName, currentMFName, setSelectingSupplier, setShowFull, setMFRsearch } = props\n\n  const changeSelectingSuppler = () => {\n    setMFRsearch(\"\")\n    setSelectingSupplier(true)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {!!currentSU ? (\n        <div className=\"supplierInfo\">\n          <button\n            onClick={() => {\n              setShowFull(false)\n              changeSelectingSuppler()\n            }}\n          >\n            Select\n          </button>\n          <div className=\"supplierInfo_capitalize supplierInfoSU\" id=\"supplierInfo_bar\">\n            {currentSUName.toLowerCase()} ({currentSU})\n          </div>\n          <div className=\"supplierInfo_capitalize supplierInfoMF\">\n            {currentMFName.toLowerCase()} ({currentMF})\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default SupplierInfo\n","import React, { Fragment } from \"react\"\n\nconst MfrSelection = props => {\n  const { partyTable, setCurrentSU, setCurrentMF, setCurrentSUName, setCurrentMFName, selectingSupplier, setSelectingSupplier, setMFRsearch, mfrSearch, getMCtable } = props\n\n  const handleClick = (su, mf, su_name, mf_name) => {\n    setCurrentSU(su)\n    setCurrentMF(mf)\n    setCurrentSUName(su_name)\n    setCurrentMFName(mf_name)\n    setSelectingSupplier(false)\n    getMCtable(su, mf)\n  }\n\n  const handleMFRsearch = event => {\n    const { value } = event.target\n    setMFRsearch(value.toUpperCase())\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {partyTable && selectingSupplier ? (\n        <div>\n          <div className=\"mfrSelection_header\"> Select a manufacturer below:</div>\n          <div className=\"mfrSelection_input\">\n            <input type=\"text\" id=\"mfrSearch\" name=\"mfrSearch\" value={mfrSearch || \"\"} justify=\"left\" onChange={handleMFRsearch} style={{ textTransform: \"uppercase\" }} placeholder=\"Type to search\" />\n          </div>\n        </div>\n      ) : null}\n\n      {partyTable && selectingSupplier\n        ? partyTable\n            .filter(y => mfrSearch.length === 0 || \"\".concat(\" \", y.SU_NAME, \" \", y.SU, \" \", y.MF, \" \", y.MF_NAME).search(mfrSearch) > 0)\n            .map(x => (\n              <div\n                className=\"mfrSelection\"\n                key={x.SU.concat(x.MF)}\n                onClick={() => {\n                  handleClick(x.SU, x.MF, x.SU_NAME, x.MF_NAME)\n                }}\n              >\n                <div className=\"mfrSelectionSU\">\n                  {x.SU_NAME} ({x.SU}){\" \"}\n                </div>\n                <div className=\"mfrSelectionMF\">\n                  {x.MF_NAME} ({x.MF}){\" \"}\n                </div>\n              </div>\n            ))\n        : null}\n    </Fragment>\n  )\n}\nexport default MfrSelection\n","import React from \"react\"\nimport DatePicker from \"react-datepicker\"\n\nconst Misc = props => {\n  const { setInspectionDate, inspectionDate, setMisc, misc, editMode, mqaMembers, packTypes, userProfile, productCategories } = props\n\n  const handleDate = date => {\n    setInspectionDate(date)\n  }\n\n  // Misc Fields (Text) Capture\n  const handleChange = (element, yes_or_no) => event => {\n    let value = event.target.value\n\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 2: //b\n          newMisc = { ...newMisc, product_type: value }\n          break\n        case 3: //c\n          newMisc = { ...newMisc, lab_test_report: value }\n          break\n        case 4: //d\n          newMisc = { ...newMisc, lab_child_safety_report: value }\n          break\n        case 5: //e\n          newMisc = { ...newMisc, fibre_content: value }\n          break\n        case 6: //f\n          newMisc = { ...newMisc, comments: value }\n          break\n        case 7: //g\n          newMisc = { ...newMisc, governance_inspection: yes_or_no }\n          break\n        case 8: //h\n          newMisc = { ...newMisc, props65_report: value }\n          break\n        case 9: //i\n          newMisc = { ...newMisc, ship_mode: value }\n          break\n        case 10: //j\n          newMisc = { ...newMisc, pack_pct: value }\n          break\n        case 11: //k\n          newMisc = { ...newMisc, ship_window: value }\n          break\n        case 12: //l\n          newMisc = { ...newMisc, carton_list: value }\n          break\n        case 13: //m\n          newMisc = { ...newMisc, carton_total: value }\n          break\n        case 14: //n\n          newMisc = { ...newMisc, pack_type: value }\n          break\n        case 15: //O\n          newMisc = { ...newMisc, qa_type: value }\n          if (value === \"SQA\") newMisc = { ...newMisc, sqa: userProfile.email }\n          break\n        case 16: //p\n          newMisc = { ...newMisc, mqa: value }\n          break\n        case 17: //p\n          newMisc = { ...newMisc, sqa: value }\n          break\n        case 18: //q\n          newMisc = { ...newMisc, correlation_inspection: yes_or_no }\n          break\n        case 19: //r\n          newMisc = { ...newMisc, product_category: value }\n          break\n\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <div className=\"misc\">\n      <div className=\"misc_a\">\n        <div className=\"misc_title misc_grid_a\">\n          <div>Inspection Date (A)</div>\n          <DatePicker className=\"datePicker\" dateFormat=\"MM/dd/yy\" selected={inspectionDate} onChange={date => handleDate(date)} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n      </div>\n\n      <div className=\"misc_g misc_grid_g\">\n        <div className=\"misc_title\">Governance Inspection (G)</div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_yes\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"Yes\"} onChange={handleChange(7, \"Yes\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>Yes</div>\n        <div></div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_no\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"No\"} onChange={handleChange(7, \"No\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>No</div>\n      </div>\n\n      <div className=\"misc_j misc_grid_j\">\n        <div className=\"misc_title\">Pack % During Inspection (J)</div>\n        <input type=\"text\" id=\"misc_packPct\" name=\"misc_packPct\" value={misc.pack_pct || \"\"} justify=\"left\" placeholder=\"%\" onChange={handleChange(10)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_k misc_grid_k\">\n        <div className=\"misc_title\">Ship Window (K)</div>\n        <input type=\"text\" id=\"misc_shipWindow\" name=\"misc_shipWindow\" value={misc.ship_window || \"\"} justify=\"left\" placeholder=\"Ship Window\" onChange={handleChange(11)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_b misc_grid_b\">\n        <div className=\"misc_title\">Product Type (B)</div>\n        <input type=\"text\" id=\"misc_productType\" name=\"misc_productType\" value={misc.product_type || \"\"} justify=\"left\" placeholder=\"Product Type\" onChange={handleChange(2)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_o misc_grid_o\">\n        <div className=\"misc_title\">QA Type (O)</div>\n\n        <select id=\"misc_qaType\" name=\"misc_qaType\" value={misc.qa_type || \"Select\"} justify=\"left\" placeholder=\"QA Type\" onChange={handleChange(15)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"MQA\" disabled={editMode ? \"\" : \"disabled\"}>\n            MQA\n          </option>\n          <option value=\"SQA\" disabled={editMode ? \"\" : \"disabled\"}>\n            SQA\n          </option>\n        </select>\n      </div>\n\n      {/* <div className=\"misc_n misc_grid_n\">\n        <div className=\"misc_title\">Inspector (N)</div>\n        <input type=\"text\" id=\"misc_inspector\" name=\"misc_inspector\" value={misc.inspector || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(14)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div> */}\n\n      <div className=\"misc_c misc_grid_c\">\n        <div className=\"misc_title\">Lab Test Report (C)</div>\n\n        <select id=\"misc_labTest\" name=\"misc_labTest\" value={misc.lab_test_report || \"Select\"} justify=\"left\" placeholder=\"Test result\" onChange={handleChange(3)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Pass\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pass\n          </option>\n          <option value=\"Fail\" disabled={editMode ? \"\" : \"disabled\"}>\n            Fail\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_d misc_grid_d\">\n        <div className=\"misc_title\">Child Safety Report (D)</div>\n\n        <select id=\"misc_childSafetyReport\" name=\"misc_childSafetyReport\" value={misc.lab_child_safety_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(4)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_h misc_grid_h\">\n        <div className=\"misc_title\">Props 65 Report (H)</div>\n        <select id=\"misc_props65Report\" name=\"misc_props65Report\" value={misc.props65_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(8)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_i misc_grid_i\">\n        <div className=\"misc_title\">Ship Mode (I)</div>\n\n        <select id=\"misc_shipMode\" name=\"misc_shipMode\" value={misc.ship_mode || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(9)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"Ocean\" disabled={editMode ? \"\" : \"disabled\"}>\n            Ocean\n          </option>\n          <option value=\"Air\" disabled={editMode ? \"\" : \"disabled\"}>\n            Air\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_s misc_grid_s\">\n        <div className=\"misc_title\">Brand (S)</div>\n        <input type=\"text\" id=\"misc_label\" name=\"misc_label\" value={misc.label || \"\"} justify=\"left\" readOnly=\"readOnly\" />\n      </div>\n\n      <div className=\"misc_e misc_grid_e\">\n        <div className=\"misc_title\">Fibre Content (E)</div>\n        <input type=\"text\" id=\"misc_fibreContent\" name=\"misc_fibreContent\" value={misc.fibre_content || \"\"} justify=\"left\" placeholder=\"Fibre Content\" onChange={handleChange(5)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_f misc_grid_f\">\n        <div className=\"misc_title\">Comments (F)</div>\n        <textarea rows=\"5\" cols=\"50\" id=\"misc_comments\" name=\"misc_comments\" value={misc.comments || \"\"} justify=\"left\" placeholder=\"Comments\" onChange={handleChange(6)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_l misc_grid_l\">\n        <div className=\"misc_title\">Carton List (L)</div>\n        <textarea rows=\"3\" cols=\"50\" id=\"misc_cartonList\" name=\"misc_cartonList\" value={misc.carton_list || \"\"} justify=\"left\" placeholder=\"Carton List\" onChange={handleChange(12)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_m misc_grid_m\">\n        <div className=\"misc_title\">Carton Total (M)</div>\n        <input type=\"text\" id=\"misc_cartonTotal\" name=\"misc_cartonTotal\" value={misc.carton_total || \"\"} justify=\"left\" placeholder=\"Carton Total\" onChange={handleChange(13)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_i misc_grid_i\">\n        <div className=\"misc_title\">Ship Mode (I)</div>\n        <select id=\"misc_shipMode\" name=\"misc_shipMode\" value={misc.ship_mode || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(9)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"Ocean\" disabled={editMode ? \"\" : \"disabled\"}>\n            Ocean\n          </option>\n          <option value=\"Air\" disabled={editMode ? \"\" : \"disabled\"}>\n            Air\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_p misc_grid_p\">\n        <div className=\"misc_title\">{misc.qa_type === \"MQA\" || misc.qa_type === undefined ? <span>MQA (P)</span> : <span>SQA (P)</span>}</div>\n        {misc.qa_type === \"MQA\" || misc.qa_type === undefined ? (\n          <select id=\"misc_mqa\" name=\"misc_mqa\" value={misc.mqa || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(16)}>\n            <option value=\"Select\">Select</option>\n            {mqaMembers &&\n              mqaMembers.map(x => (\n                <option key={x.mqa} value={x.mqa} disabled={editMode ? \"\" : \"disabled\"}>\n                  {x.mqa}\n                </option>\n              ))}\n          </select>\n        ) : (\n          <input type=\"text\" id=\"misc_sqa\" name=\"misc_sqa\" value={misc.sqa || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(17)} readOnly=\"readOnly\" />\n        )}\n      </div>\n\n      <div className=\"misc_n misc_grid_n\">\n        <div className=\"misc_title\">Pack Type (N)</div>\n\n        <select id=\"misc_pack_type\" name=\"misc_pack_type\" value={misc.pack_type || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(14)}>\n          <option value=\"Select\">Select</option>\n          {packTypes &&\n            packTypes.map(x => (\n              <option key={x.type} value={x.type} disabled={editMode ? \"\" : \"disabled\"}>\n                {x.type}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div className=\"misc_q misc_grid_q\">\n        <div className=\"misc_title\">Correlation Inspection (Q)</div>\n        <div>\n          <input type=\"radio\" id=\"misc_correlation_yes\" name=\"misc_correlation_inspection\" value={misc.correlation_inspection || \"\"} checked={misc.correlation_inspection === \"Yes\"} onChange={handleChange(18, \"Yes\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>Yes</div>\n        <div></div>\n        <div>\n          <input type=\"radio\" id=\"misc_correlation_inspection_no\" name=\"misc_correlation_inspection\" value={misc.correlation_inspection || \"\"} checked={misc.correlation_inspection === \"No\"} onChange={handleChange(18, \"No\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>No</div>\n      </div>\n\n      <div className=\"misc_r misc_grid_r\">\n        <div className=\"misc_title\">Product Category (R)</div>\n\n        <select id=\"misc_product_category\" name=\"misc_product_category\" value={misc.product_category || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(19)}>\n          <option value=\"Select\">Select</option>\n          {productCategories &&\n            productCategories.map(x => (\n              <option key={x.category} value={x.category} disabled={editMode ? \"\" : \"disabled\"}>\n                {x.category}\n              </option>\n            ))}\n        </select>\n      </div>\n    </div>\n  )\n}\nexport default Misc\n","import React, { Fragment } from \"react\"\n\nconst Result = props => {\n  const { setMisc, misc, editMode, visualResult, calculateFinalResult } = props\n\n  function calculate_final_result(misc) {\n    if (misc.packing_result === \"Failed\" || (misc.measurement_result === \"Failed\") | (visualResult === \"Failed\")) {\n      return \"Failed\"\n    } else {\n      return \"Passed\"\n    }\n  }\n\n  const handleChange = (element, param2) => event => {\n    let value = event.target.value\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 1: //a  Packing\n          newMisc = { ...newMisc, packing_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(newMisc) }\n          }\n          break\n        case 2: //b  Measurement\n          newMisc = { ...newMisc, measurement_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(newMisc) }\n          }\n          break\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"result\">\n        <div className=\"result_f result_grid_f\"> Inspection Result Summary</div>\n        <div></div>\n        <div></div>\n\n        <div className=\"result_a result_grid_a\">\n          <div className=\"result_title\">Packing</div>\n          <select id=\"result_packingResult\" name=\"misc_packingResult\" value={misc.packing_result || \"Select\"} justify=\"left\" placeholder=\"Packing Result\" onChange={handleChange(1)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_b result_grid_b\">\n          <div className=\"result_title\">Measurement</div>\n          <select id=\"result_measurementResult\" name=\"misc_measurementResult\" value={misc.measurement_result || \"Select\"} justify=\"left\" placeholder=\"Measurement result\" onChange={handleChange(2)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_c result_grid_c\">\n          <div className=\"result_title\">Critical / Major / Minor</div>\n          <input type=\"text\" id=\"result_defectiveResult\" name=\"result_defectiveResult\" value={visualResult.defective_result || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_d result_grid_d\">\n          <div className=\"result_title\">Sample Threshold (Major / Minor)</div>\n          <input type=\"text\" id=\"result_sampleThreshold\" name=\"result_sampleThreshold\" value={visualResult.sample_threshold || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_e result_grid_e\">\n          <div className=\"result_title\">Final Result</div>\n          <input type=\"text\" id=\"result_finalResult\" name=\"result_finalResult\" value={calculateFinalResult()} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_g result_grid_g\">\n          <div className=\"result_title\">Visual Result</div>\n          <input type=\"text\" id=\"result_visualResult\" name=\"result_visualResult\" value={visualResult.visual_result || \"Passed\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default Result\n","import { React, Fragment } from \"react\"\n\nconst ChangeTrack = props => {\n  const { updateHistory, showHistory, setShowHistory, convertToLocal } = props\n\n  var history = [...updateHistory]\n\n  history.sort(function (a, b) {\n    // note : must change the string back to date object for comparison\n    if (Date.parse(a.updated_time) > Date.parse(b.updated_time)) return -1\n    else return 1\n  })\n\n  let root = document.querySelector(\":root\")\n\n  return (\n    <Fragment>\n      <div className=\"changeTrack_section_upper\">\n        <div>Change History</div>\n        <div></div>\n        <div>\n          Show &nbsp;\n          <i\n            className=\"clickable fa fa-plus\"\n            onClick={() => {\n              setShowHistory(true)\n            }}\n          ></i>\n          &nbsp;&nbsp;Hide &nbsp;\n          <i\n            className=\"clickable fa fa-minus\"\n            onClick={() => {\n              setShowHistory(false)\n            }}\n          ></i>\n        </div>\n        <div></div>\n        <div>\n          Expand &nbsp;\n          <i\n            className=\"clickable fa fa-plus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"100rem\")\n            }}\n          ></i>\n          &nbsp;&nbsp; Collapse &nbsp;\n          <i\n            className=\"clickable fa fa-minus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"4.3rem\")\n            }}\n          ></i>\n        </div>\n        <div></div>\n      </div>\n      {showHistory ? (\n        <div className=\"changeTrack_section_bottom\">\n          <div className=\"changeTrack_grid_header\">\n            <div>Local Time</div>\n            <div>Updated By</div>\n            <div>Mode</div>\n            <div>Result Details</div>\n            <div></div>\n          </div>\n\n          <div className=\"changeTrack_grid_outer_detail\">\n            {history.length > 0\n              ? history.map(line => (\n                  <div key={line.id} className=\"changeTrack_grid_detail\">\n                    <div>{convertToLocal(line.updated_time)}</div>\n                    <div>{line.updated_by}</div>\n                    <div>{line.updated_mode}</div>\n                    <div>{line.misc}</div>\n                  </div>\n                ))\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\n\nexport default ChangeTrack\n","import React, { Fragment } from \"react\"\n\nconst SharePoint = props => {\n  const { inspectionID, currentSU, currentMF, getSharePointFiles, setShowSharePointFiles, showSharePointFiles, setSharePointFiles, sharePointPath, createsharePointPDF, editMode } = props\n\n  const handleClick_add = () => {\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/\".concat(sharePointPath, \"/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F\", sharePointPath, \"%2F\", \"SU\", currentSU, \"MF\", currentMF, \"&dt=\", new Date().getTime())\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleClick_view = () => {\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/\".concat(sharePointPath, \"/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F\", sharePointPath, \"%2F\", \"SU\", currentSU, \"MF\", currentMF, \"&view=7&q=\", inspectionID.mc, \"&FilterField1=Inspection_x0020_ID&FilterValue1=\", inspectionID.mc, \"-\", inspectionID.iteration, \"-\", inspectionID.type[0], \"&dt=\", new Date().getTime())\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleToggleSharePointFiles = () => {\n    if (showSharePointFiles === true) {\n      setShowSharePointFiles(false)\n      setSharePointFiles([])\n    } else {\n      setShowSharePointFiles(true)\n      getSharePointFiles()\n    }\n  }\n\n  const handleGetSharePointFiles = () => {\n    if (showSharePointFiles) {\n      setSharePointFiles([])\n      getSharePointFiles()\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"sharePoint_section\">Document Management on SharePoint</div>\n      <div className=\"sharePoint_grid\">\n        <div className=\"sharePoint_cell\">\n          <img src=\"../static/img/sharePointx.jpg\" alt=\"sharePoint\" className=\"sharePoint_photo\" />\n        </div>\n        <div></div>\n\n        <div className=\"sharePoint_cell\">\n          View files&nbsp;\n          <i\n            className=\"fa  fa-sign-in clickable\"\n            onClick={() => {\n              handleClick_view()\n            }}\n          ></i>\n        </div>\n\n        {editMode ? (\n          <div className=\"sharePoint_cell\">\n            Add files&nbsp;\n            <i\n              className=\"fa  fa-sign-in clickable\"\n              onClick={() => {\n                handleClick_add()\n              }}\n            ></i>\n          </div>\n        ) : (\n          <div className=\"sharePoint_cell\"></div>\n        )}\n\n        {/* Combine photo into PDF */}\n        {/* disable below 3/9/22 */}\n        {false ? (\n          <div className=\"sharePoint_cell\">\n            Create Photo Album&nbsp;\n            <i\n              className=\"fa  fa-file-pdf-o clickable\"\n              onClick={() => {\n                createsharePointPDF()\n              }}\n            ></i>\n          </div>\n        ) : null}\n\n        <div className=\"sharePoint_cell\">\n          Instant View : &nbsp;&nbsp;\n          {showSharePointFiles ? \"Collapse\" : \"Expand\"}\n          &nbsp;\n          <i\n            className={\"clickable fa \" + (showSharePointFiles ? \"fa-minus\" : \"fa-plus\")}\n            onClick={() => {\n              handleToggleSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n          <i\n            id=\"sharePoint_refresh\"\n            className=\"clickable fa fa-refresh\"\n            onClick={() => {\n              handleGetSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default SharePoint\n","import React, { Fragment } from \"react\"\n\nconst ShowSharePointFiles = props => {\n  const { sharePointFiles, downloadSharePointFile, showSharePointFiles, convertToLocal, editMode, handleDeleteSPfile } = props\n\n  const ext = [\".jpg\", \".png\"]\n  function isSupportPicExt(filename) {\n    for (let i = 0; i < ext.length; i++) {\n      if (filename.toLowerCase().includes(ext[i])) {\n        return true\n      }\n    }\n    return false\n  }\n\n  // const openPhoto = url => {\n  //   const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  //   if (newWindow) newWindow.opener = null\n  // }\n\n  return (\n    <Fragment>\n      {showSharePointFiles ? (\n        <div className=\"showSharePointFiles_section\">\n          <div className=\"showSharePointFiles_grid_header\">\n            <div>File Name</div>\n            <div>Last Editor</div>\n            <div>Last Edit Time</div>\n            <div>File Size</div>\n            <div>Download</div>\n            <div>File Type</div>\n            <div>Delete</div>\n          </div>\n\n          <div>\n            {sharePointFiles.length > 0\n              ? sharePointFiles.map(line =>\n                  line.filename === \"No files\" ? (\n                    <div className=\"sharePointFiles_no_files\">{line.filename}</div>\n                  ) : (\n                    <div key={line.unique_id} className=\"showSharePointFiles_grid_detail\">\n                      <div>{line.filename}</div>\n                      <div>{line.editor === \"SharePoint App\" ? line.last_editor : line.editor}</div>\n                      <div>{convertToLocal(line.modified)}</div>\n                      <div>{line.size}</div>\n                      <div>\n                        <i\n                          className=\"clickable fa fa-download\"\n                          onClick={() => {\n                            downloadSharePointFile(line.filename)\n                          }}\n                        ></i>\n                      </div>\n                      {isSupportPicExt(line.filename) ? (\n                        <div className=\"sharePointFiles_photoBlock\">\n                          <img src={\"/showPhoto?folder=\" + line.folder + \"&filename=\" + line.filename} alt=\"\" />\n                        </div>\n                      ) : (\n                        <div>\n                          <i className=\"fa fa-file fa-file-doc\"></i>\n                        </div>\n                      )}\n\n                      {editMode ? (\n                        <div>\n                          <button\n                            id=\"sharePointFiles_deleteButton\"\n                            onClick={() => {\n                              handleDeleteSPfile(line.unique_id)\n                              //props.deleteDefect(x.id)\n                            }}\n                          >\n                            &times;\n                          </button>\n                        </div>\n                      ) : (\n                        <div>&nbsp;</div>\n                      )}\n                    </div>\n                  )\n                )\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default ShowSharePointFiles\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst ShowSpinner = props => {\n  const { position } = props\n\n  return (\n    <Fragment>\n      {position === 1 ? <Spinner area=\"getUserProfile\" spinnerMessage=\"Loading your profile, please wait... \" /> : null}\n      {position === 2 ? (\n        <div>\n          <Spinner area=\"printReport\" spinnerMessage=\"Preparing the report, please wait... \" />\n          <Spinner area=\"saveInspection\" spinnerMessage=\"Saving the changes, please wait... \" />\n          <Spinner area=\"deleteInspection\" spinnerMessage=\"Deleting, please wait... \" />\n          <Spinner area=\"createInspection\" spinnerMessage=\"Loading, please wait... \" />\n          <Spinner area=\"getMCtable\" spinnerMessage=\"Getting MC data, please wait... \" />\n        </div>\n      ) : null}\n      {position === 3 ? (\n        <div>\n          <Spinner area=\"sharePointFiles\" spinnerMessage=\"Loading SharePoint info, please wait... \" />\n          <Spinner area=\"downloadSharePointfiles\" spinnerMessage=\"Downloading SharePoint info, please wait... \" />\n          <Spinner area=\"sharePointUpload\" spinnerMessage=\"Uploading file(s) to SharePoint, please wait... \" />\n        </div>\n      ) : null}\n      {position === 10 ? <Spinner area=\"pastInspection\" spinnerMessage=\"Loading past inspections, please wait... \" /> : null}\n    </Fragment>\n  )\n}\nexport default ShowSpinner\n","import React, { useState, Fragment, useEffect, useRef } from \"react\"\n\nimport axios from \"axios\"\n//import ItemTable from \"./components/ItemTable\"\nimport ItemTotal from \"./components/ItemTotal\"\nimport DefectOptions from \"./components/DefectOptions\"\nimport DefectList from \"./components/DefectList\"\nimport ShowAlert from \"./components/ShowAlert\"\nimport CheckList from \"./components/CheckList\"\nimport UploadForm from \"./components/UploadForm\"\nimport SearchKey from \"./components/SearchKey\"\nimport MainMenu from \"./components/MainMenu\"\nimport SearchedMC from \"./components/SearchedMC\"\nimport SupplierInfo from \"./components/SupplierInfo\"\n// import PhotoBlock from \"./components/PhotoBlock\"\nimport MfrSelection from \"./components/MfrSelection\"\nimport Misc from \"./components/Misc\"\nimport Result from \"./components/Result\"\nimport ChangeTrack from \"./components/ChangeTrack\"\nimport SharePoint from \"./components/SharePoint\"\nimport ShowSharePointFiles from \"./components/ShowSharePointFiles\"\n\nimport { v4 as uuidv4 } from \"uuid\"\nimport { trackPromise } from \"react-promise-tracker\"\nimport ShowSpinner from \"./components/ShowSpinner\"\n\nconst App = () => {\n  //const initialFormState = { id: null, mc_no: \"\", item_no: \"\", order_qty: \"\", ship_qty: \"\" }\n  const initialInspectionID = { mc: \"\", iteration: \"Select\", type: \"Select\" }\n\n  // Setting state\n  const [items, setItems] = useState([])\n  const [showSearchedMC, setShowSearchedMC] = useState(false)\n  const [defects, setDefects] = useState([])\n  // set position 100 as impossible range as equivalent to empty\n  const [alert, setAlert] = useState({ position: 100 })\n  const [mcTable, setMCTable] = useState([])\n  const [checkList, setCheckList] = useState([])\n  const [inspectionDate, setInspectionDate] = useState(new Date())\n  const [inspectionID, setInspectionID] = useState(initialInspectionID)\n  const [uploads, setUploads] = useState([])\n  const [userProfile, setUserProfile] = useState([])\n  const [currentSU, setCurrentSU] = useState(\"\")\n  const [currentMF, setCurrentMF] = useState(\"\")\n  const [searchedMC, setSearchedMC] = useState([])\n  const [itemSearchString, setItemSearchString] = useState(\"\")\n  const [partyTable, setPartyTable] = useState([])\n  const [currentSUName, setCurrentSUName] = useState(\"\")\n  const [currentMFName, setCurrentMFName] = useState(\"\")\n  const [selectingSupplier, setSelectingSupplier] = useState(true)\n  const [mfList, setMfList] = useState([])\n  const [aqlTable, setAqlTable] = useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [misc, setMisc] = useState({})\n  const [main, setMain] = useState({})\n  const [showFull, setShowFull] = useState(false)\n  //const [itemsTotal, setItemsTotal] = useState([])   by vincent\n\n  const [visualResult, setVisualResult] = useState({})\n\n  const [updateHistory, setUpdateHistory] = useState([])\n  const [showHistory, setShowHistory] = useState(false)\n  const [sharePointFiles, setSharePointFiles] = useState([])\n  const [showSharePointFiles, setShowSharePointFiles] = useState(false)\n  const [checkListTemplate, setCheckListTemplate] = useState([])\n\n  const [defectLanguage, setDefectLanguage] = useState(\"en\")\n  const [defectList, setDefectList] = useState([])\n  const [criticalDefects, setCriticalDefects] = useState([])\n\n  const [sharePointPath, setSharePointPath] = useState()\n  const [mfrSearch, setMFRsearch] = useState(\"\")\n\n  const [packTypes, setPackTypes] = useState(\"\")\n\n  const [mqaMembers, setMQAmembers] = useState(\"\")\n  const [productCategories, setProductCategories] = useState(\"\")\n  const [inspType, setInspType] = useState(\"\")\n\n  const [ship, setShip] = useState([])\n  const [totalShip, setTotalShip] = useState(0)\n  const [totalInspect, setTotalInspect] = useState(0)\n  const [totalSample, setTotalSample] = useState(0)\n\n  const [poList, setPOList] = useState([])\n\n  const initialLoad = useRef(false)\n\n  // Data\n\n  useEffect(() => {\n    let root = document.querySelector(\":root\")\n    const userAgent = navigator.userAgent.toLowerCase()\n    const isTablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent)\n\n    // Remove padding of scroll width if it is tablet to make columns of ChangeTrack section aligned\n    if (isTablet) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    } else {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"6.7fr\")\n    }\n\n    // check Safari browser\n    if (userAgent.includes(\"safari\") && userAgent.includes(\"macintosh\")) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    }\n\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n          setMCTable(response[\"mcTable\"])\n          setPartyTable(response[\"partyTable\"])\n          setMfList(response[\"mfList\"])\n          setAqlTable(response[\"aqlTable\"])\n          setCheckListTemplate(response[\"checkListTemplate\"])\n          setSharePointPath(response[\"sharePointPath\"])\n          setMQAmembers(response[\"mqaMembers\"])\n          setPackTypes(response[\"packTypes\"])\n          setProductCategories(response[\"productCategories\"])\n          setInspType(response[\"inspType\"])\n        })\n        .catch(error => {\n          console.log(error)\n        }),\n      \"getUserProfile\"\n    )\n\n    fetch(\"/api/getDefectTable\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setDefectList(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    fetch(\"/api/getCriticalDefects\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setCriticalDefects(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  useEffect(() => {\n    var x = document.getElementsByClassName(\"itemTotal_Detail\")\n    var len = x.length\n    var first_found = -1\n    var i, j, long, scroll_y\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      const currentChild = x[i].firstElementChild.innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"scroller\").scrollTo(0, 0)\n      long = document.getElementById(\"scroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"scroller\").scrollBy(0, scroll_y)\n    } else {\n      document.getElementsByName(\"itemTotal_searchString\")[0].value = \"\"\n      //document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"Not found! Try again!\"\n      document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"\"\n    }\n\n    //document.getElementsByName('mc_no')[0].value =  search_string    // trigger highlight in item table - itemTable block.\n\n    x = document.getElementsByClassName(\"itemTable_Detail\")\n    len = x.length\n    first_found = -1\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      // children[2] is the item_no\n      const currentChild = x[i].children[2].innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"itemTableScroller\").scrollTo(0, 0)\n      long = document.getElementById(\"itemTableScroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"itemTableScroller\").scrollBy(0, scroll_y)\n    }\n  }, [itemSearchString, items])\n\n  // update label based on itemsc change.\n  useEffect(() => {\n    // update label\n    const labels = items.map(({ label }) => label)\n    const uniqueLabels = [...new Set(labels)]\n    setMisc(prev => ({ ...prev, label: uniqueLabels.sort().join() }))\n  }, [items])\n\n  // updateMiscResult\n\n  useEffect(() => {\n    var sampleThreshold = \"\"\n    var defectiveResult = \"\"\n    var visualResult = \"\"\n\n    var sampleThresholdMajor = 0\n    var sampleThresholdMinor = 0\n\n    var total_major = 0\n    var total_minor = 0\n    var total_critical = 0\n\n    for (var i = 0; i < defects.length; i += 1) {\n      if (defects[i].critical) {\n        total_critical = total_critical + parseInt(defects[i].major)\n      } else if (parseInt(defects[i].major) > 0) {\n        total_major = total_major + parseInt(defects[i].major)\n      }\n\n      if (parseInt(defects[i].minor) > 0) {\n        total_minor = total_minor + parseInt(defects[i].minor)\n      }\n    }\n\n    // Check Inspection Result -  1) If Critical -> Failed,  2) Major + (Minor/4) > Threshold of Major -> Failed, 3) Packing Failed or Measurement Failed -> Failed\n\n    if (total_critical + total_major + total_minor > 0) {\n      defectiveResult = \" \" + total_critical.toString() + \" / \" + total_major.toString() + \" / \" + total_minor.toString()\n\n      if (total_major + Math.floor(total_minor / 4) > sampleThresholdMajor) {\n        visualResult = \"Failed\"\n      } else if (total_minor > sampleThresholdMinor) {\n        visualResult = \"Failed\"\n      }\n    }\n\n    if (total_critical > 0) {\n      visualResult = \"Failed\"\n    }\n\n    if (visualResult !== \"Failed\" && defectiveResult.length > 0) {\n      visualResult = \"Passed\"\n    }\n\n    if (totalShip) {\n      const aql = aqlTable.filter(x => x.size_start <= totalShip && x.size_end >= totalShip)\n      sampleThreshold = aql[0][\"25accept\"].toString() + \" / \" + aql[0][\"40accept\"].toString()\n      sampleThresholdMajor = aql[0][\"25accept\"]\n      sampleThresholdMinor = aql[0][\"40accept\"]\n    }\n\n    setVisualResult({ visual_result: visualResult, defective_result: defectiveResult, sample_threshold: sampleThreshold })\n  }, [defects, aqlTable, totalShip])\n\n  // **** Items ***//\n\n  useEffect(() => {\n    let po_list = []\n    let oItems = [...items]\n    let pos = oItems.map(x => x.po_no)\n    let unique = pos.filter((v, i, a) => a.indexOf(v) === i)\n    unique.forEach(function (u) {\n      const ship_qty = mcTable.filter(x => x.po_no === u).reduce((prev, curr) => prev + parseInt(curr.order_qty), 0)\n      const customer = oItems.filter(x => x.po_no === u)[0][\"customer\"]\n      po_list.push({ po_no: u, ship_qty: ship_qty, customer: customer })\n    })\n    setPOList(po_list)\n    //console.log(\"useEffect - setPOList\")\n  }, [items, mcTable])\n\n  useEffect(() => {\n    let item_list = []\n    let oList = [...items]\n    let nShip = oList.map(x => x.item_no)\n    let unique = nShip.filter((v, i, a) => a.indexOf(v) === i)\n\n    // calcualte total shipped\n    const total_qty = oList.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n\n    unique.forEach(function (u) {\n      const ship_qty = oList.filter(x => x.item_no === u).reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n      const sample_qty = Math.round((ship_qty / total_qty) * 100)\n      item_list.push({ item_no: u, ship_qty: ship_qty, inspect_qty: sample_qty, sample_qty: sample_qty })\n    })\n\n    if (!initialLoad.current) {\n      //console.log(\"executed\")\n      setShip(item_list)\n    } else {\n      //console.log(\"change to false\", initialLoad.current)\n    }\n  }, [items])\n\n  // update Sample\n  useEffect(() => {\n    const _aql = aqlTable.filter(x => x.size_start <= totalShip && x.size_end >= totalShip)\n    if (_aql.length <= 0) {\n      return\n    }\n    //  > 0.5 roundup to integer\n    if (!initialLoad.current) {\n      setShip(prev => prev.map(x => ({ ...x, sample_qty: Math.round((x.ship_qty / totalShip) * _aql[0][\"25sample\"]), inspect_qty: Math.round((x.ship_qty / totalShip) * _aql[0][\"25sample\"]) })))\n    } else {\n      initialLoad.current = false\n    }\n    //console.log(\"useEffect - updateSample\")\n  }, [totalShip, aqlTable])\n\n  // update Total Sample\n  useEffect(() => {\n    if (totalShip > 0) {\n      const _aql = aqlTable.filter(x => x.size_start <= totalShip && x.size_end >= totalShip)\n      const totSampleQty = _aql[0][\"25sample\"]\n      setTotalSample(totSampleQty)\n    } else setTotalSample(0)\n\n    //const totSampleQty = ship.reduce((prev, curr) => prev + parseInt(curr.sample_qty), 0)\n  }, [ship, aqlTable, totalShip])\n\n  // update Total Ship and Inspect\n  useEffect(() => {\n    let oList = [...ship]\n    const ship_qty = oList.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n    const inspect_qty = oList.reduce((prev, curr) => prev + parseInt(curr.inspect_qty), 0)\n    setTotalShip(ship_qty)\n    setTotalInspect(inspect_qty)\n  }, [ship])\n\n  const getLocal = () => {\n    initialLoad.current = true\n    setItems(JSON.parse(localStorage.getItem(\"appItems\")))\n    setShip(JSON.parse(localStorage.getItem(\"appShip\")))\n  }\n\n  /**** */\n\n  const handleSupplierInfo = (su, mf) => {\n    partyTable.map(x => (x.SU === su ? setCurrentSUName(x.SU_NAME) : null))\n    partyTable.map(x => (x.MF === mf ? setCurrentMFName(x.MF_NAME) : null))\n  }\n\n  // CRUD operations\n  const addMC = mc => {\n    mcTable.map(\n      x => (x.mc_no === mc ? ((x.id = uuidv4()), setItems(prev => prev.concat(x)), setMisc({ ...misc, ship_window: x.ship_window, product_type: x.item_desc, fibre_content: x.fabric_note })) : null)\n      // setDefaultShipWindow(x.ship_window), setDefaultFibreContent(x.fabric_note), setDefaultProductType(x.item_desc\n    )\n    handleSupplierInfo(currentSU, currentMF)\n    setShowFull(true)\n    setEditMode(true)\n    fillCheckList() // since it's empty\n  }\n\n  const addToDefectList = (product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language) => {\n    setDefects(prev => prev.concat({ id: uuidv4(), product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language, critical: isCriticalDefect(product, defect_detail_area) }))\n  }\n\n  const deleteDefect = id => {\n    // setEditing(false)\n    setDefects(defects.filter(defect => defect.id !== id))\n  }\n\n  const setDisplayAlert = alert => {\n    //{ message: \"hi\", position: 0, timeout: 3000, color: \"alert__green\" }\n    setAlert(alert)\n    setTimeout(function () {\n      setAlert({ position: 100 })\n    }, alert.timeout)\n  }\n\n  const handleCheckItemChange = (id, change) => {\n    const newCheckList = [...checkList]\n    const index = newCheckList.findIndex(r => r.id === id)\n    newCheckList[index] = change\n    setCheckList(newCheckList)\n    //setCheckList([...checkList], { id: change })\n  }\n\n  const handleSave = submitted => {\n    // Convert inspection date to time 00.00.00\n    const main = { su_no: currentSU, mf_no: currentMF, inspection_date: inspectionDate.toDateString(), submitted: submitted }\n    const _id = { mc: inspectionID.mc, iteration: inspectionID.iteration, type: inspectionID.type }\n    let newMisc = { ...misc }\n    newMisc = { ...newMisc, final_result: calculateFinalResult(), visual_result: visualResult, defectLanguage: defectLanguage, submitted: submitted }\n\n    trackPromise(\n      axios({\n        url: \"/api/save\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: _id, main: main, misc: newMisc, mf: currentMF, checkList: checkList, items: items, itemsTotal: ship, defects: defects, uploads: uploads, updateHistory: updateHistory })\n      })\n        .then(res => {\n          clearScreen()\n          setDisplayAlert({ message: \"Saved Successfully !\", position: 0, timeout: 1000, color: \"alert__green\" })\n        })\n        .catch(err => {\n          console.log(err.response.data)\n          setDisplayAlert({ message: \"There was an error in saving, please contact the admin !!\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"saveInspection\"\n    )\n  }\n\n  const handleSearch = id => {\n    //console.log(\"entering api/search\")\n\n    trackPromise(\n      axios({\n        url: \"/api/search\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        // .then(response => {\n        //   console.log(\"status\", response.status)\n        // })\n        .then(response => response.data)\n        .then(response => {\n          setShowFull(true)\n\n          //  the order is very important here\n          initialLoad.current = true\n\n          setItems(response[\"items\"])\n          setShip(response[\"itemsTotal\"])\n\n          localStorage.setItem(\"appItems\", JSON.stringify(response[\"items\"]))\n          localStorage.setItem(\"appShip\", JSON.stringify(response[\"itemsTotal\"]))\n\n          setInspectionDate(response[\"main\"].inspection_date ? new Date(response[\"main\"].inspection_date) : null)\n          setMain(response[\"main\"])\n          setMisc(response[\"misc\"] ? response[\"misc\"] : {})\n          if (response[\"misc\"][\"defectLanguage\"] === undefined) {\n            setDefectLanguage(\"en\")\n          } else {\n            setDefectLanguage(response[\"misc\"][\"defectLanguage\"])\n          }\n\n          setCheckList(response[\"checkList\"])\n\n          handleSupplierInfo(response[\"main\"].su_no, response[\"main\"].mf_no)\n\n          if (response[\"defects\"] === undefined) {\n            setDefects([])\n          } else {\n            //console.log(response[\"defects\"])\n            setDefects(response[\"defects\"])\n          }\n\n          if (response[\"uploads\"] === undefined) {\n            setUploads(\"\")\n          } else {\n            //console.log(response[\"uploads\"])\n            setUploads(response[\"uploads\"])\n          }\n          if (response[\"update_history\"] === undefined) {\n            setUpdateHistory([])\n          } else {\n            setUpdateHistory(response[\"update_history\"])\n          }\n          setSharePointFiles(false)\n          setShowSharePointFiles(false)\n          setShowHistory(false)\n        })\n        .catch(err => {\n          //console.log(\"err\", err.response.status)\n          if (err.response.status === 406) {\n            setDisplayAlert({ message: \"Not a valid MC for this manufacturer !\", position: 0, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 501) {\n            window.location = \"/login/timeout\"\n          } else setDisplayAlert({ message: \"No such Inspection ID, please try again !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"searchKey\"\n    )\n  }\n\n  const handleDelete = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete this inspection ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/delete\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (clearScreen(), setDisplayAlert({ message: \"Deleted successfully !\", position: 0, timeout: 1500, color: \"alert__green\" })) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the inspection ID !\", position: 0, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  const clearScreen = () => {\n    setItems([])\n    setDefects([])\n    setCheckList([])\n    setSearchedMC([])\n    setUploads([])\n    setShowSearchedMC(false)\n    setMisc([])\n    setUpdateHistory([])\n    setShowFull(false)\n    setEditMode(false)\n    setShowHistory(false)\n    setSharePointFiles([])\n    setShowSharePointFiles(false)\n    setShowHistory(true)\n  }\n\n  // ** implement delay function\n  const delay = ms => new Promise(res => setTimeout(res, ms))\n\n  const handleSessionTimeOut = async () => {\n    setDisplayAlert({ message: \"Session timeout, please login again !\", position: 0, timeout: 3000, color: \"alert__red\" })\n    await delay(3000)\n    window.location = \"/login/timeout\"\n  }\n\n  const searchInspByMC = mc => {\n    setShowSearchedMC(true)\n\n    trackPromise(\n      //fetch(\"/api/searchInspByMC\", {\n      axios({\n        url: \"/api/searchInspByMC\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ mc: mc, mfList: mfList })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSearchedMC(response)\n          setSharePointFiles(false)\n        })\n        .catch(err => {\n          //console.log('err', err)\n          err.response.status === 501 ? handleSessionTimeOut() : setDisplayAlert({ message: \"Something went wrong !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"mfrSelection\"\n    )\n  }\n\n  const downloadDoc = (_id, file_name) => event => {\n    //event.preventDefault()\n\n    fetch(\"/download/\" + _id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        \"Content-Disposition\": \"attachment\"\n      }\n    })\n      .then(response => response.blob())\n      .then(blob => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]))\n        const link = document.createElement(\"a\")\n        link.href = url\n        link.setAttribute(\"download\", file_name)\n\n        // Append to html link element page\n        document.body.appendChild(link)\n\n        // Start download\n        link.click()\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link)\n      })\n  }\n\n  const downloadSharePointFile = file_name => {\n    //event.preventDefault()\n\n    const file_url = \"/sites/OSO/\".concat(sharePointPath, \"/\", \"SU\", currentSU, \"MF\", currentMF, \"/\", file_name)\n\n    trackPromise(\n      fetch(\"/downloadSharePointFile\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          file_url: file_url\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"downloadSharePointfiles\"\n    )\n  }\n\n  const printReport = (file_name, draft) => {\n    //event.preventDefault()\n    if (misc.qa_type === undefined) {\n      setDisplayAlert({ message: \"QA Type must be chosen !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n    if (misc.qa_type === \"MQA\" && (misc.mqa === undefined || misc.mqa === \"Select\")) {\n      setDisplayAlert({ message: \"MQA must be specified !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n\n    file_name = \"MMG Inspection Report - \" + inspectionID[\"mc\"] + \"-\" + inspectionID[\"iteration\"] + \"-\" + inspectionID[\"type\"] + (draft ? \" (Draft) \" : \"\") + \".xlsx\"\n\n    trackPromise(\n      fetch(\"/printreport\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          inspectionID: JSON.stringify({ inspectionID }),\n          localTime: JSON.stringify(convertToLocal(Date.now()))\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"printReport\"\n    )\n  }\n\n  const getSharePointFiles = () => {\n    trackPromise(\n      axios({\n        url: \"/api/getsharepointfiles\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSharePointFiles(response)\n        })\n        .catch(err => {\n          if (err.response.status === 404) {\n            setDisplayAlert({ message: \"Folder on SharePoint was not created !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          }\n        }),\n      \"sharePointFiles\"\n    )\n  }\n\n  const createsharePointPDF = () => {\n    var confirm = window.confirm(\"You're recommended to use Microsoft Lens to create PDF file.  For non-chart photos with lesser resolution (around 400px *400px), you can try this function but all photo files will be zipped !  Please use with care !\")\n    if (confirm !== true) {\n      return\n    }\n    const inspection_date = inspectionDate.getMonth() + 1 + \"/\" + inspectionDate.getDate() + \"/\" + inspectionDate.getFullYear()\n    trackPromise(\n      axios({\n        url: \"/api/createsharepointpdf\",\n        timeout: 1000 * 28, // Wait for 28 seconds\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\",\n          inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type,\n          //relative_url: \"2022InspRpt/SU\" + currentSU + \"MF\" + currentMF\n          relative_url: sharePointPath.concat(\"/\", \"SU\", currentSU, \"MF\", currentMF),\n          inspection_date: inspection_date\n        },\n        data: JSON.stringify({ folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSharePointFiles(response)\n          document.getElementById(\"sharePoint_refresh\").click()\n        })\n        .catch(err => {\n          const errMsg = err.message\n          if (errMsg.includes(\"timeout\")) {\n            setDisplayAlert({ message: \"Warning : Server timeout interruption and some files may be lost ! Please refresh SharePoint status to make sure all photos are there and reduce the size of your photos and resubmit as neccessary, or use Microsft Lens on your mobile device!\", position: 3, timeout: 9000, color: \"alert__red\" })\n          }\n          if (err.response.status === 404) {\n            setDisplayAlert({ message: \"PDF creation error !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 405) {\n            setDisplayAlert({ message: \"No photos to generate PDF !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          }\n        }),\n      \"sharePointFiles\"\n    )\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  const checkDuplicateID = id => {\n    trackPromise(\n      axios({\n        url: \"/api/checkDuplicateID\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      }).then(res => (res.status === 200 ? displayAlert(\"This key has been used by previous inspection ! Please check and or consider a new iteration!\") : addMC(id.mc))),\n      \"createInspection\"\n    )\n  }\n\n  const handleDeleteSPfile = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete the SharePoint file ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/deleteSPfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (setDisplayAlert({ message: \"SharePoint file deleted successfully !\", position: 3, timeout: 3000, color: \"alert__green\" }), document.getElementById(\"sharePoint_refresh\").click()) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the SP file !\", position: 4, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  const getMCtable = (su, mf) => {\n    trackPromise(\n      axios({\n        url: \"/api/getMCtable\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ su: su, mf: mf })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setMCTable(response)\n        })\n        .catch(err => {\n          setDisplayAlert({ message: \"Error getting MC\", position: 4, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"getMCtable\"\n    )\n  }\n\n  function isCriticalDefect(product, defect) {\n    for (var i = 0; i < criticalDefects.length; i += 1) {\n      if (criticalDefects[i].product === product && criticalDefects[i].defect_detail_code === defect) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function calculateFinalResult() {\n    let final_result = \"\"\n    if (misc.measurement_result === \"Failed\" || misc.packing_result === \"Failed\" || visualResult.visual_result === \"Failed\") {\n      final_result = \"Failed\"\n    } else if (visualResult.visual_result === \"\") {\n      final_result = \"Passed\"\n    } else {\n      final_result = \"Passed\"\n    }\n    return final_result\n  }\n\n  // convert to local time\n  function convertToLocal(date) {\n    const t = new Date(date).toTimeString()\n    const d = new Date(date).toDateString()\n    var local = d + \" \" + t\n    var local_end = local.search(\"GMT+\") - 1\n    local = local.substring(0, local_end)\n    return local\n  }\n\n  const fillCheckList = () => {\n    // Populate values to the checklist template.\n    const newCheckList = [...checkListTemplate]\n    newCheckList.sort((a, b) => a.id - b.id) // must sort to present in order...\n    setCheckList(newCheckList)\n  }\n\n  return (\n    <Fragment>\n      {/* <UserProfile userProfile={userProfile} /> */}\n      <SupplierInfo currentSU={currentSU} currentMF={currentMF} currentSUName={currentSUName} currentMFName={currentMFName} setSelectingSupplier={setSelectingSupplier} setShowFull={setShowFull} setMFRsearch={setMFRsearch} />\n      <MfrSelection partyTable={partyTable} setCurrentSU={setCurrentSU} setCurrentMF={setCurrentMF} setCurrentSUName={setCurrentSUName} setCurrentMFName={setCurrentMFName} selectingSupplier={selectingSupplier} setSelectingSupplier={setSelectingSupplier} setMFRsearch={setMFRsearch} mfrSearch={mfrSearch} getMCtable={getMCtable} />\n\n      <ShowSpinner position={1} />\n      <MainMenu handleSave={handleSave} handleSearch={handleSearch} inspectionID={inspectionID} handleDelete={handleDelete} printReport={printReport} editMode={editMode} setEditMode={setEditMode} userProfile={userProfile} main={main} misc={misc} showFull={showFull} clearScreen={clearScreen} updateHistory={updateHistory} />\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <Fragment>\n            {/* <h2>Search Inspection</h2> */}\n            <SearchKey checkDuplicateID={checkDuplicateID} mcTable={mcTable} setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setInspectionID={setInspectionID} clearScreen={clearScreen} searchInspByMC={searchInspByMC} currentSU={currentSU} currentMF={currentMF} editMode={editMode} inspType={inspType} showFull={showFull} />\n\n            {showSearchedMC ? <SearchedMC inspectionID={inspectionID} setInspectionID={setInspectionID} handleSearch={handleSearch} searchInspByMC={searchInspByMC} searchedMC={searchedMC} setShowSearchedMC={setShowSearchedMC} mcTable={mcTable} currentSU={currentSU} currentMF={currentMF} /> : null}\n          </Fragment>\n        </div>\n      </div>\n      {alert.position === 0 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <ShowSpinner position={2} />\n\n      {/* Result  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Result setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode} isCriticalDefect={isCriticalDefect} aqlTable={aqlTable} visualResult={visualResult} calculateFinalResult={calculateFinalResult}></Result>\n          </Fragment>\n        </div>\n      </div>\n\n      {/* Misc section with inspection Date  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Misc setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode} mqaMembers={mqaMembers} packTypes={packTypes} productCategories={productCategories} userProfile={userProfile} items={items}></Misc>\n          </Fragment>\n        </div>\n      </div>\n\n      {alert.position === 1 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <ItemTotal setItems={setItems} items={items} mcTable={mcTable} addMC={addMC} currentSU={currentSU} currentMF={currentMF} setItemSearchString={setItemSearchString} editMode={editMode} aqlTable={aqlTable} setDisplayAlert={setDisplayAlert} ship={ship} setShip={setShip} poList={poList} setPOList={setPOList} totalShip={totalShip} setTotalShip={setTotalShip} totalInspect={totalInspect} setTotalInspect={setTotalInspect} totalSample={totalSample} setTotalSample={setTotalSample} getLocal={getLocal} />\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectOptions items={items} addToDefectList={addToDefectList} setDisplayAlert={setDisplayAlert} editMode={editMode} defects={defects} defectLanguage={defectLanguage} setDefectLanguage={setDefectLanguage} defectList={defectList} showFull={showFull} />\n        </div>\n      </div>\n      {alert.position === 2 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectList defects={defects} deleteDefect={deleteDefect} editMode={editMode} isCriticalDefect={isCriticalDefect} defectLanguage={defectLanguage} defectList={defectList} />\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <CheckList checkList={checkList} handleCheckItemChange={handleCheckItemChange} editMode={editMode} />\n        </div>\n      </div>\n      {alert.position === 3 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <SharePoint currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} editMode={editMode} getSharePointFiles={getSharePointFiles} setShowSharePointFiles={setShowSharePointFiles} showSharePointFiles={showSharePointFiles} setSharePointFiles={setSharePointFiles} sharePointPath={sharePointPath} createsharePointPDF={createsharePointPDF} />\n          <ShowSpinner position={3} />\n        </div>\n      </div>\n\n      {alert.position === 4 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ShowSharePointFiles sharePointFiles={sharePointFiles} downloadSharePointFile={downloadSharePointFile} showSharePointFiles={showSharePointFiles} convertToLocal={convertToLocal} editMode={editMode} handleDeleteSPfile={handleDeleteSPfile} />\n        </div>\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        {/* <div className={\"flex-row  hideSection\"}> */}\n        <div className=\"flex-large \">\n          <UploadForm setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setUploads={setUploads} uploads={uploads} downloadDoc={downloadDoc} editMode={editMode} currentSU={currentSU} currentMF={currentMF} setShowSharePointFiles={setShowSharePointFiles} sharePointPath={sharePointPath} inspectionDate={inspectionDate} />\n        </div>\n\n        {/* <div className=\"flex-large\">\n          <PhotoBlock uploadTable={uploads} downloadDoc={downloadDoc} currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} />\n        </div> */}\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ChangeTrack updateHistory={updateHistory} showHistory={showHistory} setShowHistory={setShowHistory} convertToLocal={convertToLocal} />\n        </div>\n      </div>\n      <div>&nbsp;</div>\n      <div>&nbsp;</div>\n    </Fragment>\n  )\n}\nexport default App\n","import React from \"react\"\r\n\r\nconst Home = props => {\r\n  const { env } = props\r\n\r\n  return (\r\n    <div className=\"welcome\">\r\n      <div>\r\n        {/* <img src=\"static/img/frontpageMap.jpg\" aria-hidden alt=\"MMG Inspection Map\"  />                 */}\r\n        {env === \"DEV\" ? <iframe src=\"http://localhost:5000/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe> : <iframe src=\"https://mmgapp2.herokuapp.com/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home\r\n","import { React, useState, useEffect, Fragment } from \"react\"\r\nimport axios from \"axios\"\r\n//import { Spinner } from \"./components/Spinner\"\r\nimport { trackPromise } from \"react-promise-tracker\"\r\nimport ShowSpinner from \"./components/ShowSpinner\"\r\n\r\nconst About = props => {\r\n  //const { setItems, items, setDisplayAlert, mcTable, addMC, editMode, currentSU, currentMF } = props\r\n\r\n  const [result, setResult] = useState([])\r\n\r\n  function sortInspectionDate(_result) {\r\n    _result.sort(function (a, b) {\r\n      // note : must change the string back to date object for comparison\r\n      if (Date.parse(a[\"main\"].inspection_date) > Date.parse(b[\"main\"].inspection_date)) return -1\r\n      else return 1\r\n    })\r\n\r\n    return _result\r\n  }\r\n\r\n  useEffect(() => {\r\n    trackPromise(\r\n      axios({\r\n        url: \"/api/pastXdaysResult\",\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          api: \"yes\"\r\n        }\r\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\r\n      })\r\n        .then(response => response.data)\r\n        .then(response => {\r\n          const _result = sortInspectionDate(response)\r\n          setResult(_result)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        }),\r\n      \"pastInspection\"\r\n    )\r\n    return () => {\r\n      setResult({}) // This worked for me\r\n    }\r\n  }, [])\r\n\r\n  // convert to local time\r\n  function convertToLocalDate(date) {\r\n    //const t = new Date(date).toTimeString()\r\n    //return d + \" \" + t\r\n    const d = new Date(date).toDateString()\r\n    return d\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"xDaysResult\">\r\n        {result.length > 0 ? (\r\n          <div className=\"xDaysResult_gridHeader\">\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection Date</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Supplier</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Manufacturer</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection ID</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Result</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\"></div>\r\n          </div>\r\n        ) : null}\r\n\r\n        {result.length > 0\r\n          ? result.map(item => (\r\n              <div key={item.id} className=\"xDaysResult_gridDetail\">\r\n                <div className=\"xDaysResult_gridItem\">{convertToLocalDate(item[\"main\"].inspection_date)}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].su_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].mf_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"_id\"].mc + \"-\" + item[\"_id\"].iteration + \"-\" + item[\"_id\"].type} </div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"misc\"].final_result}</div>\r\n                <div></div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n      {/* <Spinner area=\"pastInspection\" /> */}\r\n      <ShowSpinner position={10} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default About\r\n","//import React, { useState, Fragment } from \"react\"\nimport React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { userProfile } = props\n  return (\n    <Fragment>\n      <div className=\"userProfile\">\n        <div className=\"userProfile_title\">\n          <div>\n            <img src=\"static/img/macys-header.jpg\" aria-hidden alt=\"\" width=\"30\" height=\"30\" />\n          </div>\n          <div>MMG Inspection App</div>\n        </div>\n        <div className=\"userProfile_personal\">\n          <div className=\"userProfile_name\">{userProfile.first_name ? \"Hi, \" + userProfile.first_name : null} </div>\n          <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>}</div>\n        </div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import { Route, Routes, HashRouter as Router, Link } from \"react-router-dom\"\nimport React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport AppInspection from \"./AppInspection\"\nimport Home from \"./Home\"\nimport XDaysResult from \"./XDaysResult\"\nimport UserProfile from \"./components/UserProfile\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst logout = () => {\n  localStorage.clear()\n  window.location = \"/logout\"\n}\n\nconst gotoPowerBI = () => {\n  const url = \"https://app.powerbi.com/reportEmbed?reportId=f0a7cd56-e22b-490a-9ad7-012d4a0d5251&autoAuth=true&filterPanelEnabled=False&pageName=ReportSectionf1be12cf083e1c0eba15\"\n\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  if (newWindow) newWindow.opener = null\n}\n\nconst App = () => {\n  const [userProfile, setUserProfile] = useState({})\n\n  useEffect(() => {\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    )\n  }, [])\n\n  return (\n    <div className=\"container app_container\">\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <UserProfile userProfile={userProfile} />\n          <Router>\n            <nav>\n              <ul className=\"app_header\">\n                <li>\n                  <Link to=\"/\" className=\"link\">\n                    Home\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/appInspection\" className=\"link\">\n                    Inspection\n                  </Link>\n                </li>\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li>\n                    <Link to=\"/xDaysResult\" className=\"link\">\n                      Past Inspection Results\n                    </Link>\n                  </li>\n                ) : null}\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li\n                    className=\"link\"\n                    onClick={() => {\n                      gotoPowerBI()\n                    }}\n                  >\n                    Power BI\n                  </li>\n                ) : null}\n\n                <button\n                  className=\"fa fa-sign-out\"\n                  onClick={() => {\n                    logout()\n                  }}\n                >\n                  Logout\n                </button>\n                {/* <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>} </div>*/}\n              </ul>\n            </nav>\n\n            <Routes>\n              <Route path=\"/\" element={<Home env={userProfile.environment} />} />\n              <Route path=\"/appInspection\" element={<AppInspection />} />\n              <Route path=\"/xDaysResult\" element={<XDaysResult />} />\n            </Routes>\n          </Router>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./css/main.css\"\nimport \"./css/index.css\"\nimport \"./css/defectList.css\"\nimport \"./css/defectOptions.css\"\nimport \"./css/checkList.css\"\nimport \"./css/uploadDoc.css\"\nimport \"./css/photoBlock.css\"\nimport \"./css/searchKey.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/mainMenu.css\"\nimport \"./css/searchedMC.css\"\nimport \"./css/userProfile.css\"\nimport \"./css/supplierInfo.css\"\nimport \"./css/itemTable.css\"\nimport \"./css/itemTotal.css\"\nimport \"./css/misc.css\"\nimport \"./css/mfrSelection.css\"\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport \"./css/result.css\"\nimport \"./css/changeTrack.css\"\nimport \"./css/sharePoint.css\"\nimport \"./css/showSharePointFiles.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/app.css\"\nimport \"./css/xDaysResult.css\"\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}