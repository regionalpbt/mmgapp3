{"version":3,"sources":["components/ItemTotal.js","components/DefectOptions.js","components/DefectList.js","components/ShowAlert.js","components/CheckList.js","components/UploadForm.js","components/Spinner.js","components/SearchKey.js","components/MainMenu.js","components/SearchedMC.js","components/SupplierInfo.js","components/MfrSelection.js","components/Misc.js","components/Result.js","components/ChangeTrack.js","components/SharePoint.js","components/ShowSharePointFiles.js","components/ShowSpinner.js","AppInspection.js","Home.js","XDaysResult.js","components/UserProfile.js","App.js","index.js"],"names":["ItemTotal","props","setItems","items","mcTable","addMC","currentSU","currentMF","setItemSearchString","editMode","setDisplayAlert","ship","setShip","poList","setPOList","totalShip","totalInspect","totalSample","reset","useState","mc","setMC","useEffect","listener","event","code","preventDefault","document","getElementById","click","addEventListener","removeEventListener","el","sortTable","sort","order","nShip","a","b","po_no","item_no","handleInputChange","value","target","displayAlert","message","position","timeout","color","handleInspQty","index","findIndex","r","newEntry","find","inspect_qty","parseInt","className","type","id","name","justify","placeholder","onChange","readOnly","onClick","found","x","mc_no","duplicate","sameMF","su_no","mf_no","undefined","validateMC","map","customer","order_qty","ship_qty","Math","round","nItems","filter","nPOList","deletePO","onInput","e","toUpperCase","min","max","sample_qty","deleteItem","DefectOptions","defects","setDefectLanguage","defectLanguage","defectList","showFull","addToDefectList","currentProduct","setCurrentProduct","currentDefectArea","setCurrentDefectArea","currentDefectAreaCode","setCurrentDefectAreaCode","currentDefectDetail","setCurrentDefectDetail","currentDefectDetailCode","setCurrentDefectDetailCode","currentMajor","setCurrentMajor","currentMinor","setCurrentMinor","optionListDefect","setOptionListDefect","optionListDefectDetail","setOptionListDefectDetail","buildOptDefectList","useCallback","choice","_list","product","lang","defect_area","defect_code","code_area","concat","Set","_defect_code","split","defect_detail_code","defect_detail","code_detail","length","disabled","area_array","detail_array","major_int","isNaN","minor_int","handleAddDefect","DefectList","isCriticalDefect","defect_lang","area_code","detail","defect_area_code","defect_detail_area","style","major","minor","deleteDefect","colSpan","ShowAlert","alert","class_var","CheckList","checkList","selected","y","result","nextSelected","handleCheckItemChange","onSubmit","width","category","item","separator","UploadForm","inspectionID","setShowSharePointFiles","sharePointPath","inspectionDate","selectedFile","setSelectedFile","multiple","file","files","formData","FormData","i","append","inspection_date","getMonth","getDate","getFullYear","trackPromise","axios","url","method","data","headers","inspection_id","iteration","charAt","relative_url","then","res","catch","err","error","Spinner","promiseInProgress","usePromiseTracker","area","spinnerMessage","marginTop","height","display","justifyContent","alignItems","fontWeight","SearchKey","checkDuplicateID","setInspectionID","clearScreen","searchInspByMC","inspType","handleKeyChange","insp_type","insp_type_long","MainMenu","handleSave","handleDelete","handleSearch","printReport","setEditMode","userProfile","misc","updateHistory","submitted","editable","ignore_submit","handleClick","window","confirm","SearchedMC","searchedMC","setShowSearchedMC","newSearchedMC","push","SupplierInfo","currentSUName","currentMFName","setSelectingSupplier","setShowFull","setMFRsearch","toLowerCase","MfrSelection","partyTable","setCurrentSU","setCurrentMF","setCurrentSUName","setCurrentMFName","selectingSupplier","mfrSearch","getMCtable","textTransform","SU_NAME","SU","MF","MF_NAME","search","su","mf","su_name","mf_name","Misc","setInspectionDate","setMisc","mqaMembers","packTypes","productCategories","handleChange","element","yes_or_no","newMisc","product_type","lab_test_report","lab_child_safety_report","fibre_content","comments","governance_inspection","props65_report","ship_mode","pack_pct","ship_window","carton_list","carton_total","pack_type","qa_type","sqa","email","mqa","correlation_inspection","product_category","console","log","dateFormat","date","handleDate","checked","label","rows","cols","Result","visualResult","calculateFinalResult","calculate_final_result","packing_result","measurement_result","param2","final_result","defective_result","sample_threshold","visual_result","ChangeTrack","showHistory","setShowHistory","convertToLocal","history","Date","parse","updated_time","root","querySelector","setProperty","line","updated_by","updated_mode","SharePoint","getSharePointFiles","showSharePointFiles","setSharePointFiles","createsharePointPDF","src","alt","getTime","newWindow","open","opener","handleClick_view","handleClick_add","ShowSharePointFiles","sharePointFiles","downloadSharePointFile","handleDeleteSPfile","ext","isSupportPicExt","filename","includes","editor","last_editor","modified","size","folder","unique_id","ShowSpinner","App","showSearchedMC","setDefects","setAlert","setMCTable","setCheckList","uploads","setUploads","setUserProfile","setSearchedMC","itemSearchString","setPartyTable","mfList","setMfList","aqlTable","setAqlTable","main","setMain","setVisualResult","setUpdateHistory","checkListTemplate","setCheckListTemplate","setDefectList","criticalDefects","setCriticalDefects","setSharePointPath","setPackTypes","setMQAmembers","setProductCategories","setInspType","setTotalShip","setTotalInspect","setTotalSample","initLoad","useRef","currentSearchedItem","userAgent","navigator","test","api","response","fetch","json","j","scroll_y","getElementsByClassName","len","first_found","backgroundColor","getElementsByTagName","innerHTML","scrollTo","scrollHeight","scrollBy","children","labels","uniqueLabels","prev","join","sampleThreshold","defectiveResult","sampleThresholdMajor","sampleThresholdMinor","total_major","total_minor","total_critical","critical","toString","floor","aql","size_start","size_end","po_list","oItems","oShip","v","indexOf","forEach","u","reduce","curr","current","oList","total_qty","nShipQty","nInspectQty","nSampleQty","handleSupplierInfo","uuidv4","item_desc","fabric_note","fillCheckList","setTimeout","JSON","stringify","_id","localStorage","setItem","status","location","delay","ms","Promise","handleSessionTimeOut","defect","t","toTimeString","local","toDateString","local_end","substring","newCheckList","itemsTotal","file_name","draft","localTime","now","blob","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","parentNode","removeChild","defect_language","change","file_url","downloadDoc","Home","env","title","border","About","setResult","_result","sortInspectionDate","first_name","UserProfile","to","gotoPowerBI","clear","path","environment","AppInspection","XDaysResult","ReactDOM","render"],"mappings":"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","file":"static/js/main.311d97b5.chunk.js","sourcesContent":["import { React, useEffect, useState } from \"react\"\n\nconst ItemTotal = props => {\n  const { setItems, items, mcTable, addMC, currentSU, currentMF, setItemSearchString, editMode, setDisplayAlert, ship, setShip, poList, setPOList, totalShip, totalInspect, totalSample, reset } = props\n\n  const [mc, setMC] = useState(\"\")\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"itemTable_MCBtn\").click()\n      }\n    }\n\n    if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").addEventListener(\"keydown\", listener)\n\n    return () => {\n      if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").removeEventListener(\"keydown\", listener)\n    }\n  }, [])\n\n  /* Item Total */\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"highLightItemBtn\").click()\n      }\n    }\n    var el = document.getElementById(\"itemTotal_searchString\")\n\n    if (el) {\n      el.addEventListener(\"keydown\", listener)\n      return () => {\n        el.removeEventListener(\"keydown\", listener)\n      }\n    }\n  }, [])\n\n  const sortTable = (sort, order) => {\n    const nShip = [...ship]\n    /*table = document.getElementById(\"itemTable\") */\n    if (sort === 0 && order === \"asc\") {\n      nShip.sort(function (a, b) {\n        return a.po_no > b.po_no ? 1 : -1\n      })\n    } else if (sort === 0 && order === \"desc\") {\n      nShip.sort(function (a, b) {\n        return a.po_no < b.po_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"asc\") {\n      nShip.sort(function (a, b) {\n        return a.item_no > b.item_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"desc\") {\n      nShip.sort(function (a, b) {\n        return a.item_no < b.item_no ? 1 : -1\n      })\n    }\n    setShip(nShip)\n    setItemSearchString(\"\")\n  }\n\n  //* add new MC\n\n  const handleInputChange = event => {\n    const value = event.target.value\n    setMC(value)\n  }\n\n  const validateMC = () => {\n    //event.preventDefault()\n\n    const found = mcTable.find(x => x.mc_no === mc)\n    const duplicate = items.find(x => x.mc_no === mc)\n    const sameMF = mcTable.find(x => x.mc_no === mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else if (duplicate === undefined) {\n      addMC(mc)\n    } else {\n      displayAlert(\"MC was already entered in the item list, please check ! \")\n    }\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 1, timeout: 1500, color: \"alert__red\" })\n  }\n\n  const deleteItem = (po_no, item_no) => {\n    setItems(x => x.filter(x => !(x.item_no === item_no && x.po_no === po_no)))\n  }\n\n  const handleShipQty = item_no => event => {\n    let value = event.target.value\n\n    if (value === \"\") {\n      return\n    }\n    if (parseInt(value) > 20000) {\n      value = 20000\n      setDisplayAlert({ message: \"Number of ship units is too large!\", position: 1, timeout: 3000, color: \"alert__red\" })\n    }\n\n    const nShip = [...ship]\n    const index = nShip.findIndex(r => r.item_no === item_no)\n    const newEntry = nShip.find(r => r.item_no === item_no)\n    nShip[index] = { ...newEntry, ship_qty: parseInt(value) }\n    setShip(nShip)\n  }\n\n  const handleInspQty = item_no => event => {\n    let value = event.target.value\n    const nShip = [...ship]\n    const index = nShip.findIndex(r => r.item_no === item_no)\n    const newEntry = nShip.find(r => r.item_no === item_no)\n    nShip[index] = { ...newEntry, inspect_qty: parseInt(value) }\n    setShip(nShip)\n  }\n\n  const deletePO = po_no => {\n    const nItems = [...items].filter(x => x.po_no !== po_no)\n    const nPOList = [...poList].filter(x => x.po_no !== po_no)\n    setItems(nItems)\n    setPOList(nPOList)\n  }\n\n  return (\n    // present the table\n\n    <div className=\"itemTable_2col\">\n      <div>\n        <div className=\"itemTable_Section\">\n          <div>Add MC:</div>\n          &nbsp;\n          <div>{editMode ? <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Additional MC here\" onChange={handleInputChange} /> : <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Include additional MC here\" readOnly onChange={handleInputChange} />}</div>\n          &nbsp;&nbsp;\n          <div>\n            {editMode ? (\n              <i\n                id=\"itemTable_MCBtn\"\n                className=\"fa fa-plus clickable\"\n                onClick={() => {\n                  validateMC(mc)\n                }}\n              ></i>\n            ) : null}\n          </div>\n        </div>\n        <div className=\"itemTable_Header\">\n          <div>PO</div>\n          <div>DIV</div>\n          <div>Order Qty</div>\n          <div>Ship Qty</div>\n          <div>%Ship</div>\n          <div>Delete</div>\n        </div>\n\n        <div id=\"itemTableScroller\" className=\"itemTable_GridContainer\">\n          {!poList\n            ? null\n            : poList.map((x, index) => (\n                <div key={index} className=\"itemTable_Detail\">\n                  <div>{x.po_no}</div>\n                  <div>{x.customer}</div>\n                  <div>{x.order_qty}</div>\n                  <div>{x.ship_qty}</div>\n                  <div>{Math.round((x.ship_qty / x.order_qty) * 100)}%</div>\n                  <div>\n                    {/* <div>{editMode ? <button onClick={e => deletePO(x.po_no)}>x</button> : null}</div> */}\n                    {editMode ? (\n                      <i\n                        className=\"fa fa-times clickable\"\n                        onClick={() => {\n                          deletePO(x.po_no)\n                        }}\n                      ></i>\n                    ) : null}\n                  </div>\n                </div>\n              ))}\n        </div>\n      </div>\n      <div></div>\n      <div>\n        <div className=\"itemTotal_Section\">\n          <div>Highlight Item :</div>\n\n          <div>\n            <input type=\"text\" name=\"itemTotal_searchString\" id=\"itemTotal_searchString\" justify=\"left\" onInput={e => (e.target.value = (\"\" + e.target.value).toUpperCase())} placeholder=\"Enter item here\" />\n          </div>\n\n          <div>\n            <i\n              className=\"fa fa-search clickable\"\n              id=\"highLightItemBtn\"\n              onClick={() => {\n                setItemSearchString(document.getElementById(\"itemTotal_searchString\").value)\n              }}\n            ></i>\n          </div>\n\n          <div>\n            Reset Inspect &nbsp;\n            <i\n              className=\"fa fa-refresh itemTotal_refresh_color clickable\"\n              onClick={() => {\n                reset()\n              }}\n            ></i>\n          </div>\n\n          {/* <div>\n            Undo\n            <i\n              className=\"fa fa-undo itemTotal_undo_color clickable \"\n              onClick={() => {\n                getLocal()\n              }}\n            ></i>\n          </div> */}\n        </div>\n\n        <div className=\"itemTotal_Header\">\n          <div>\n            PO\n            <i\n              className=\"fa fa-chevron-circle-up clickable\"\n              onClick={() => {\n                sortTable(0, \"asc\")\n              }}\n            ></i>\n            &nbsp;\n            <i\n              className=\"fa fa-chevron-circle-down clickable\"\n              onClick={() => {\n                sortTable(0, \"desc\")\n              }}\n            ></i>\n          </div>\n          <div>\n            By Item\n            <i\n              className=\"fa fa-chevron-circle-up clickable\"\n              onClick={() => {\n                sortTable(1, \"asc\")\n              }}\n            ></i>\n            &nbsp;\n            <i\n              className=\"fa fa-chevron-circle-down clickable\"\n              onClick={() => {\n                sortTable(1, \"desc\")\n              }}\n            ></i>\n          </div>\n          <div>Ship</div>\n          <div>Sample</div>\n          <div>Inspect</div>\n          <div>Delete</div>\n        </div>\n\n        <div id=\"scroller\" className=\"itemTotal_GridContainer\">\n          {!ship\n            ? null\n            : ship.map((x, index) => (\n                <div key={index} className=\"itemTotal_Detail\">\n                  <div>{x.po_no}</div>\n                  <div>{x.item_no}</div>\n                  <div>\n                    <input type=\"number\" id=\"itemTotal_shipQty\" name=\"itemTotal_shipQty\" value={x.ship_qty || 1} min=\"1\" max=\"15000\" justify=\"left\" onChange={handleShipQty(x.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                  </div>\n                  <div>{x.sample_qty}</div>\n\n                  <div>\n                    <input type=\"number\" id=\"itemTotal_InspectQty\" name=\"itemTotal_InspectQty\" value={x.inspect_qty || 1} min=\"1\" max=\"15000\" justify=\"left\" onChange={handleInspQty(x.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                  </div>\n\n                  <div>\n                    {editMode ? (\n                      <i\n                        className=\"fa fa-times clickable\"\n                        onClick={() => {\n                          deleteItem(x.po_no, x.item_no)\n                        }}\n                      ></i>\n                    ) : null}\n                  </div>\n                </div>\n              ))}\n        </div>\n\n        <div className=\"itemTotal_Total\">\n          <div> Total :</div>\n          <div></div>\n          <div>{totalShip}</div>\n          <div>{totalSample}</div>\n          <div className={totalSample !== totalInspect ? \"highlightSection\" : null}>{totalInspect}</div>\n          <div></div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTotal\n","import React, { useState, Fragment, useEffect, useCallback } from \"react\"\n\nconst DefectOptions = props => {\n  // remove columns : mc_no and id in prepration for calculating total by item#\n  const { editMode, defects, setDisplayAlert, setDefectLanguage, defectLanguage, defectList, showFull, addToDefectList } = props\n\n  const [currentProduct, setCurrentProduct] = useState(\"Select\")\n\n  const [currentDefectArea, setCurrentDefectArea] = useState(\"\")\n  const [currentDefectAreaCode, setCurrentDefectAreaCode] = useState(\"\")\n\n  const [currentDefectDetail, setCurrentDefectDetail] = useState(\"\")\n  const [currentDefectDetailCode, setCurrentDefectDetailCode] = useState(\"\")\n\n  const [currentMajor, setCurrentMajor] = useState(\"\")\n  const [currentMinor, setCurrentMinor] = useState(\"\")\n\n  const [optionListDefect, setOptionListDefect] = useState([])\n  const [optionListDefectDetail, setOptionListDefectDetail] = useState([])\n\n  //  prepare for the defect selection - need to associate based on each specific product and then its associted defect.\n  //  Trying to shortlist the defect code based on product\n\n  const buildOptDefectList = useCallback(\n    (choice, value) => {\n      //console.log(\"Callback called\")\n      let _list = \"\"\n      switch (choice) {\n        case \"defect\": // select defect\n          _list = defectList.filter(x => x.product === value && x.lang === defectLanguage)\n          _list = _list.map(({ defect_area, defect_code }) => ({ code_area: \"\".concat(defect_code, \"~\", defect_area) }))\n          _list = _list.map(({ code_area }) => code_area)\n          _list = [...new Set(_list)].sort()\n          setOptionListDefect(_list)\n          break\n        case \"detail\": // select detail\n          const _defect_code = value.split(\"~\")[0] // based defect code\n          _list = defectList.filter(x => x.product === currentProduct && x.lang === defectLanguage && x.defect_code === _defect_code)\n          _list = _list.map(({ defect_detail_code, defect_detail }) => ({ code_detail: \"\".concat(defect_detail_code, \"~\", defect_detail) }))\n          _list = _list.map(({ code_detail }) => code_detail)\n          _list = [...new Set(_list)].sort()\n          setOptionListDefectDetail(_list)\n          break\n        default:\n          break\n      }\n    },\n    [defectList, currentProduct, defectLanguage]\n  )\n\n  useEffect(() => {\n    if (currentProduct && currentProduct !== \"Select\") {\n      buildOptDefectList(\"defect\", currentProduct)\n    }\n  }, [currentProduct, buildOptDefectList])\n\n  useEffect(() => {\n    if (!showFull) {\n      setCurrentDefectArea(\"\")\n      setCurrentDefectAreaCode(\"\")\n      setCurrentMajor(\"\")\n      setCurrentMinor(\"\")\n    } else if (showFull && defects.length > 0) {\n      setCurrentProduct(defects[0].product)\n      //buildOptDefectList(\"defect\", defects[0].product)\n    } else if (showFull && defects.length === 0) {\n      setCurrentProduct(\"\")\n      setCurrentDefectArea(\"Select\")\n      setCurrentMajor(\"\")\n      setCurrentMinor(\"\")\n      setCurrentDefectAreaCode(\"\")\n      setCurrentDefectDetailCode(\"\")\n    }\n  }, [showFull, defects])\n\n  const handleSelectChangeProduct = event => {\n    const { value } = event.target\n\n    // check if the switching language (=value) exists\n    const total_lang_rec = defectList.filter(x => x.product === value && x.lang === defectLanguage)\n    // Following if block must precede other\n\n    if (total_lang_rec.length === 0) {\n      setDisplayAlert({ message: \"No product selected or Language has NOT been set for this product !!\", position: 2, timeout: 2500, color: \"alert__red\" })\n      return\n    }\n\n    if (disableProductSelect() === \"disabled\") {\n      if (value !== defects[0].product) {\n        setDisplayAlert({ message: \"Product '\" + defects[0].product + \"' has already been chosen !! Please empty all defects if you decide to change product ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n        return\n      }\n      document.getElementById(\"defectOptionsProduct\").value = defects[0].product\n      document.getElementById(\"defectOptionsDefectArea\").value = \"Select\"\n      setCurrentProduct(defects[0].product)\n    } else {\n      setCurrentProduct(value)\n    }\n\n    buildOptDefectList(\"defect\", value)\n    setCurrentDefectArea(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n    setCurrentDefectAreaCode(\"\")\n    setCurrentDefectDetailCode(\"\")\n  }\n\n  function disableProductSelect() {\n    if (defects.length > 0) {\n      return \"disabled\"\n    } else return null\n  }\n\n  const handleSelectChangeDefect = event => {\n    const { value } = event.target\n    const area_array = value.split(\"~\")\n    setCurrentDefectAreaCode(area_array[0])\n    setCurrentDefectArea(area_array[1])\n    buildOptDefectList(\"detail\", value)\n    setCurrentDefectDetail(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleSelectChangeDefectDetail = event => {\n    const { value } = event.target\n    const detail_array = value.split(\"~\")\n    setCurrentDefectDetailCode(detail_array[0])\n    setCurrentDefectDetail(detail_array[1])\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleCurrentMajorChange = event => {\n    const { value } = event.target\n    setCurrentMajor(value)\n  }\n\n  const handleCurrentMinorChange = event => {\n    const { value } = event.target\n    setCurrentMinor(value)\n  }\n\n  const handleChangeDefectLanguage = event => {\n    const { value } = event.target\n\n    // check if the switching language (=value) exists\n    const total_lang_rec = defectList.filter(x => x.product === currentProduct && x.lang === value)\n    // Following if block must precede other\n\n    if (total_lang_rec.length === 0) {\n      setDisplayAlert({ message: \"No product selected or Language has NOT been set for this product !!\", position: 2, timeout: 2500, color: \"alert__red\" })\n      return\n    }\n    setDefectLanguage(value)\n    setCurrentDefectArea(\"Select\")\n    setOptionListDefectDetail([])\n  }\n\n  const handleAddDefect = event => {\n    //event.preventDefault()\n    const major_int = isNaN(parseInt(currentMajor)) // check if empty, return true if empty\n    const minor_int = isNaN(parseInt(currentMinor)) // check if empty, return true if empty\n\n    if (currentProduct === \"Select\" || currentDefectArea === \"Select\" || currentDefectDetail === \"Select\") {\n      props.setDisplayAlert({ message: \"Please make sure you select Product, Defect and Defect Detail ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else if (major_int || minor_int || (currentMajor < 1 && currentMinor < 1)) {\n      props.setDisplayAlert({ message: \"Please make sure you enter either Major and Minor quantity ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else {\n      addToDefectList(currentProduct, currentDefectArea, currentDefectDetail, currentMajor, currentMinor, currentDefectAreaCode, currentDefectDetailCode, defectLanguage)\n    }\n  }\n\n  return (\n    // present the table\n\n    <Fragment>\n      <div className=\"defectOption_header\">\n        <div>Language</div>\n\n        <div>&nbsp;&nbsp;&nbsp;&nbsp;</div>\n        <div>\n          <select className=\"defectOption_language  clickable\" onChange={handleChangeDefectLanguage} value={defectLanguage}>\n            <option value=\"en\">English</option>\n            <option value=\"zh\">Chinese</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"defectOption\">\n        <div className=\"defectOption_product\">\n          <select onChange={handleSelectChangeProduct} id=\"defectOptionsProduct\" className=\"clickable\" value={currentProduct}>\n            {/* <option disabled={disableProductSelect()}  value=\"Select\">Select</option> */}\n            <option value=\"Select\">Select</option>\n            <option value=\"Fashion Jewelry\" disabled={editMode ? \"\" : \"disabled\"}>\n              Fashion Jewelry\n            </option>\n            <option value=\"Footwear\" disabled={editMode ? \"\" : \"disabled\"}>\n              Footware\n            </option>\n            <option value=\"Handbags\" disabled={editMode ? \"\" : \"disabled\"}>\n              Handbags\n            </option>\n            <option value=\"Hardlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Hardlines\n            </option>\n            <option value=\"Softlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Softlines\n            </option>\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectArea\">\n          <select onChange={handleSelectChangeDefect} id=\"defectOptionsDefectArea\" className=\"clickable\" value={currentDefectAreaCode + \"~\" + currentDefectArea}>\n            <option value=\"Select\">Select</option>\n            {optionListDefect.map((x, index) => (\n              <option key={index} value={x} disabled={editMode ? \"\" : \"disabled\"}>\n                {x}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectDetail\">\n          <select onChange={handleSelectChangeDefectDetail} id=\"defectOptionsDefectDetail\" className=\"clickable\" value={currentDefectDetailCode + \"~\" + currentDefectDetail}>\n            <option value=\"Select\">Select</option>\n            {optionListDefectDetail.map((x, index) => (\n              <option key={index} value={x} disabled={editMode ? \"\" : \"disabled\"}>\n                {x}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_major\">\n          <input type=\"number\" name=\"major\" placeholder=\" Major\" value={currentMajor} min=\"0\" max=\"5\" onChange={handleCurrentMajorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div className=\"defectOption_minor\">\n          <input type=\"number\" name=\"minor\" placeholder=\" Minor\" value={currentMinor} min=\"0\" max=\"5\" onChange={handleCurrentMinorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div>\n          {editMode ? (\n            <button\n              onClick={() => {\n                handleAddDefect()\n              }}\n            >\n              Add\n            </button>\n          ) : null}\n        </div>\n        <div></div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectOptions\n","import React, { Fragment } from \"react\"\n\nconst DefectList = props => {\n  const { defects, editMode, isCriticalDefect, defectLanguage, defectList } = props\n\n  function defect_lang(product, area_code, detail) {\n    //console.log(\"input\", product, area_code, detail)\n    const defect = defectList.filter(x => x.product === product && x.defect_code === area_code && x.defect_detail_code === detail && x.lang === defectLanguage)\n    return defect[0]\n  }\n\n  return (\n    // present the table\n    // adding span below appends ... to the off-limit text\n    <Fragment>\n      <div className=\"defectList\">\n        <div className=\"defectList_gridHeader\">\n          <div>Product</div>\n          <div>Defect</div>\n          <div>Defect Detail</div>\n          <div className=\"defectList_major_header\">\n            Major/<br></br>Critical\n          </div>\n          <div className=\"defectList_minor_header\">Minor</div>\n          <div>Delete</div>\n        </div>\n\n        {defects.length > 0 ? (\n          defects.map(x => (\n            <div className=\"defectList_gridDetail\" key={x.id}>\n              <div className=\"defectList_gridItem defectList_product\">{x.product}</div>\n              <div className=\"defectList_gridItem defectList_defectArea\">{x.defect_area_code + \"~\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_area}</div>\n              <div className=\"defectList_gridItem  defectList_defectDetail\" style={{ color: isCriticalDefect(x.product, x.defect_detail_area) ? \"red\" : \"inherit\" }}>\n                <span>{x.defect_detail_area + \"~\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_detail}</span>\n              </div>\n              <div className=\"defectList_major\">{x.major}</div>\n              <div className=\"defectList_minor\">{x.minor}</div>\n              <div className=\"defectList_deleteButton\">\n                {editMode ? (\n                  <button\n                    onClick={() => {\n                      props.deleteDefect(x.id)\n                    }}\n                  >\n                    &times;\n                  </button>\n                ) : null}\n              </div>\n              <div></div>\n            </div>\n          ))\n        ) : (\n          <div>\n            <div colSpan={3}>No Defects</div>\n          </div>\n        )}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectList\n","import React from \"react\"\n\nconst ShowAlert = props => {\n  const alert = props.alert\n  const class_var = \"alert \".concat(alert.color)\n\n  return (\n    // present the table\n    <h5 className={class_var}>{alert.message}</h5>\n  )\n}\nexport default ShowAlert\n","import React from \"react\"\n\nconst CheckList = props => {\n  const { editMode, checkList } = props\n\n  checkList.sort((a, b) => a.id - b.id) // must sort to present in order...\n\n  const handleInputChange = (id, x) => {\n    var selected = []\n    if (editMode) {\n      if (id === 88) {\n        // Further Comments\n        selected = [\"Select\", \"Yes\", \"No\", \"Select\"]\n      } else {\n        selected = [\"Select\", \"OK\", \"NA\", \"X\", \"NI\"]\n      }\n\n      let index = selected.findIndex(y => y === x.result)\n      if (index === 4) {\n        index = 1\n      } else {\n        index = index + 1\n      }\n      const nextSelected = selected[index]\n      props.handleCheckItemChange(id, { ...x, result: nextSelected })\n    }\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault() //  props.updateItem(item.id, item)\n      }}\n    >\n      <div className=\"checkList_header\">Basic Check List</div>\n      <div className=\"checkFormGrid\">\n        <div>\n          <table id=\"checkListTable\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id > 0 && y.id <= 42)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 43 && y.id <= 68)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 81)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            // bgcolor=\"white\"\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </form>\n  )\n}\n\nexport default CheckList\n","import React, { Fragment, useState } from \"react\"\nimport axios from \"axios\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst UploadForm = props => {\n  const { setDisplayAlert, inspectionID, editMode, currentSU, currentMF, setShowSharePointFiles, sharePointPath, inspectionDate } = props\n  const [selectedFile, setSelectedFile] = useState()\n\n  const handleFile = event => {\n    setSelectedFile({ file: event.target.files })\n  }\n\n  const handleUpload = event => {\n    //event.preventDefault()\n\n    //displayAlert('Do not hit \"UPLOAD\" button again ! Upload in progress')\n\n    const formData = new FormData()\n\n    try {\n      const files = selectedFile.file\n\n      for (let i = 0; i < files.length; i++) {\n        formData.append(`files[]`, files[i])\n        //console.log(files[i], \"hello  ---$$$\")\n      }\n\n      const inspection_date = inspectionDate.getMonth() + 1 + \"/\" + inspectionDate.getDate() + \"/\" + inspectionDate.getFullYear()\n\n      trackPromise(\n        axios({\n          url: \"/api/upload\",\n          method: \"POST\",\n          data: formData,\n          headers: {\n            inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type.charAt(0),\n            //relative_url: \"2022InspRpt/SU\" + currentSU + \"MF\" + currentMF\n            relative_url: sharePointPath.concat(\"/\", \"SU\", currentSU, \"MF\", currentMF),\n            inspection_date: inspection_date\n          }\n        })\n          .then(res => {\n            for (var i = 0; i < res.data.length; i++) {\n              //const _id = res.data[i]._id\n              //const inspection_id = inspectionID\n              //const file_name = res.data[i].file_name\n              //const mime_type = res.data[i].mime_type\n              setShowSharePointFiles(true)\n            }\n            document.getElementById(\"sharePoint_file\").value = null\n            document.getElementById(\"sharePoint_refresh\").click()\n          })\n          // process upload erros if any\n          .catch(err => {\n            //console.log(\"err\", err.message)\n\n            // if (err.response.status === 413) {\n            //   setDisplayAlert({ message: err.response.data, position: 3, timeout: 4000, color: \"alert__red\" })\n            // } else {\n            setDisplayAlert({ message: \"Exceed a size limit of upload !!\", position: 3, timeout: 4000, color: \"alert__red\" })\n          }),\n        \"sharePointUpload\"\n      )\n    } catch (error) {\n      displayAlert(\"Please select files and try again !!\")\n    }\n  }\n\n  // function getExtension(file_name) {\n  //   var parts = file_name.split(\".\")\n  //   return parts[parts.length - 1]\n  // }\n\n  // function showMimeIcon(file_name) {\n  //   const iconTypes = [\n  //     { ext: \"jpeg\", icon: \"file-image-o\" },\n  //     { ext: \"jpg\", icon: \"file-image-o\" },\n  //     { ext: \"bmp\", icon: \"file-image-o\" },\n  //     { ext: \"png\", icon: \"file-image-o\" },\n  //     { ext: \"jif\", icon: \"file-image-o\" },\n  //     { ext: \"mp4\", icon: \"file-movie-o\" },\n  //     { ext: \"avi\", icon: \"file-movie-o\" },\n  //     { ext: \"mpg\", icon: \"file-movie-o\" },\n  //     { ext: \"txt\", icon: \"file-text-o\" },\n  //     { ext: \"xlsx\", icon: \"file-excel-o\" },\n  //     { ext: \"xls\", icon: \"file-excel-o\" },\n  //     { ext: \"doc\", icon: \"file-word-o\" },\n  //     { ext: \"docx\", icon: \"file-word-o\" },\n  //     { ext: \"ppt\", icon: \"file-powepoint-o\" },\n  //     { ext: \"pdf\", icon: \"file-pdf-o\" },\n  //     { ext: \"pptx\", icon: \"file-pdf-o\" },\n  //     { ext: \"zip\", icon: \"file-zip-o\" }\n  //   ]\n\n  //   const fileExtension = getExtension(file_name)\n  //   const iconType = iconTypes.find(x => x.ext === fileExtension.toLowerCase()).icon\n  //   const iconFont = iconType ? iconType : \"fa-fa-file\" // file type not registered\n  //   return \"fa fa-\" + iconFont + \" addSpace\"\n  // }\n\n  // const deleteUpload = id => {\n  //   const newUploadTable = [...uploads]\n  //   const index = newUploadTable.findIndex(r => r._id === id)\n  //   const uploadItem = newUploadTable.find(r => r._id === id)\n  //   newUploadTable[index] = { ...uploadItem, enable: false }\n  //   //console.log(newUploadTable)\n  //   setUploads(newUploadTable)\n  // }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 3, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"uploadDoc\">\n        {editMode ? (\n          <form>\n            <input type=\"file\" multiple name=\"file\" id=\"sharePoint_file\" onChange={handleFile} />\n            <button type=\"button\" onClick={handleUpload}>\n              Upload files\n            </button>\n          </form>\n        ) : null}\n\n        {/* <table id=\"uploadFiles\">\n          <tbody>\n            {uploads\n              .filter(y => y.enable)\n              .map(x => (\n                <tr key={x._id}>\n                  <td>\n                    <button\n                      className=\"button-delete small-button\"\n                      onClick={() => {\n                        deleteUpload(x._id)\n                      }}\n                    >\n                      &times;\n                    </button>\n                    <a href=\"/#\" onClick={downloadDoc(x._id, x.file_name)}>\n                      <i className={showMimeIcon(x.file_name)} />\n                      {x.file_name}\n                    </a>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table> */}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default UploadForm\n","import React from \"react\"\nimport { usePromiseTracker } from \"react-promise-tracker\"\nimport Loader from \"react-loader-spinner\"\n\nexport const Spinner = props => {\n  const { promiseInProgress } = usePromiseTracker({ area: props.area })\n  const { spinnerMessage } = props\n\n  return (\n    promiseInProgress && (\n      <div\n        style={{\n          marginTop: \"0.5rem\",\n          width: \"100%\",\n          height: \"30\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"green\",\n          fontWeight: \"bold\"\n        }}\n      >\n        {/* <Loader type=\"ThreeDots\" color=\"#2BAD60\" height=\"50\" width=\"100\" /> */}\n        {/* <Loader type=\"Circles\" color=\"rgba(129, 160, 250, 255)\" height=\"40\" width=\"100\" /> */}\n        {spinnerMessage}\n        <Loader type=\"Circles\" color=\"green\" height=\"30\" width=\"100\" />\n      </div>\n    )\n  )\n}\n","import React, { Fragment } from \"react\"\n//import axios from \"axios\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchKey = props => {\n  const { checkDuplicateID, mcTable, setDisplayAlert, inspectionID, setInspectionID, clearScreen, searchInspByMC, currentMF, currentSU, editMode, inspType, showFull } = props\n\n  const handleKeyChange = event => {\n    const id = event.target.id\n    const { value } = event.target\n\n    switch (id) {\n      case \"searchKey_mc\":\n        setInspectionID({ ...inspectionID, mc: value })\n        if (value.length >= 3) searchInspByMC(value)\n        // pass first few characters of MC entered\n        else clearScreen()\n        break\n      case \"searchKey_iteration\":\n        setInspectionID({ ...inspectionID, iteration: value })\n        break\n      case \"searchKey_type\":\n        setInspectionID({ ...inspectionID, type: value })\n        break\n      default:\n        break\n    }\n  }\n\n  const validateMC = id => {\n    clearScreen()\n\n    const found = mcTable.find(x => x.mc_no === id.mc)\n    const sameMF = mcTable.find(x => x.mc_no === id.mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else {\n      checkDuplicateID(id)\n    }\n  }\n\n  function isInvalidID() {\n    if (inspectionID.mc === \"\" || inspectionID.iteration === \"Select\" || inspectionID.iteration === \"\" || inspectionID.type === \"Select\") return true\n    else return false\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"searchKey\">\n        <div className=\"searchKey_pair\">\n          <label>MC# : </label>\n          <input type=\"text\" name=\"searchKey_mc\" id=\"searchKey_mc\" onChange={handleKeyChange} readOnly={showFull ? \"readOnly\" : \"\"} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Iteration : </label>\n          <input type=\"number\" name=\"searchKey_iteration\" id=\"searchKey_iteration\" placeholder=\"Iteration\" min=\"1\" max=\"9\" onChange={handleKeyChange} readOnly={showFull ? \"readOnly\" : \"\"} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Type : </label>\n          <select name=\"searchKey_type\" id=\"searchKey_type\" onChange={handleKeyChange}>\n            <option value=\"Select\">Select</option>\n            {inspType &&\n              inspType.map(x => (\n                <option key={x.insp_type} value={x.insp_type} disabled={showFull ? \"disabled\" : \"\"}>\n                  {x.insp_type_long}\n                </option>\n              ))}\n          </select>\n        </div>\n        <div></div>\n        {!editMode ? (\n          <div>\n            {!isInvalidID() ? (\n              <div>\n                <button\n                  onClick={() => {\n                    validateMC(inspectionID)\n                  }}\n                >\n                  Create Inspection\n                </button>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n      </div>\n      <Spinner area=\"searchKey\" />\n    </Fragment>\n  )\n}\n\nexport default SearchKey\n","import React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { handleSave, handleDelete, handleSearch, inspectionID, printReport, editMode, setEditMode, userProfile, misc, showFull, clearScreen, updateHistory } = props\n\n  const submitted = misc.submitted\n  const editable = userProfile.ignore_submit === undefined ? false : userProfile.ignore_submit\n\n  const handleClick = event => {\n    const id = event.target.id\n\n    setEditMode(false)\n\n    if (id === \"save\") {\n      submitted ? handleSave(true) : handleSave(false)\n    }\n\n    if (id === \"edit\") {\n      setEditMode(true)\n    }\n\n    if (id === \"delete\") {\n      handleDelete(inspectionID)\n    }\n    if (id === \"search\") {\n      setEditMode(false)\n      handleSearch(inspectionID)\n    }\n    if (id === \"print\") {\n      printReport(\"Inspection_Report.xlsx\", false)\n    }\n    if (id === \"print_draft\") {\n      // print draft watermark\n      printReport(\"Inspection_Report.xlsx\", true)\n    }\n\n    if (id === \"cancel\") {\n      setEditMode(false)\n      clearScreen()\n    }\n  }\n  return (\n    <Fragment>\n      <div className=\"mainMenu\">\n        <div className=\"mainMenu_inspectionKey\">\n          Inspection Key : &nbsp;&nbsp;\n          {/* {(submitted || \"\") && showFull ? <i className=\"fa fa-lock mainMenu_lock\"></i> : null} */}\n          {(submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-lock mainMenu_lock clickable\"\n              onClick={() => {\n                if (editable) {\n                  var confirm = window.confirm(\"Are you sure you want to unlock this inspeciton ? \")\n                  if (confirm === true) {\n                    handleSave(false)\n                  }\n                } else {\n                  alert(\"You have no rights to unlock this inspeciton !\")\n                }\n              }}\n            ></i>\n          ) : null}\n          {(!submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-unlock mainMenu_unlock clickable\"\n              onClick={() => {\n                var confirm = window.confirm(\"Are you sure you want to submit or lock this inspeciton ? \")\n                if (confirm === true) {\n                  handleSave(true)\n                }\n              }}\n            ></i>\n          ) : null}\n        </div>\n        {editMode || \"\" ? (\n          <button id=\"save\" onClick={handleClick}>\n            Save\n          </button>\n        ) : null}\n        {!editMode ? (\n          <button id=\"search\" onClick={handleClick}>\n            Search\n          </button>\n        ) : null}\n        {!editMode && showFull && (!submitted || editable) ? (\n          <button id=\"edit\" onClick={handleClick}>\n            Edit&nbsp;\n            {(submitted || \"\") && showFull ? <i className=\"fa fa-lock\"></i> : null}\n          </button>\n        ) : null}\n        {showFull && (!submitted || editable) ? (\n          // {editMode ? (\n          <button id=\"cancel\" onClick={handleClick}>\n            Cancel\n          </button>\n        ) : null}\n        {!editMode && submitted ? (\n          <button id=\"print\" onClick={handleClick}>\n            Print\n          </button>\n        ) : null}\n        {!editMode && !submitted && showFull ? (\n          <button id=\"print_draft\" onClick={handleClick}>\n            Print Draft\n          </button>\n        ) : null}\n\n        {(showFull || \"\") && editable && showFull && updateHistory.length > 0 ? (\n          <button id=\"delete\" onClick={handleClick} className=\"deleteButton\">\n            Delete\n          </button>\n        ) : null}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchedMC = props => {\n  const { setInspectionID, handleSearch, searchedMC, setShowSearchedMC, mcTable, currentSU, currentMF } = props\n\n  const newSearchedMC = []\n  for (var i = 0; i < searchedMC.length; i++) {\n    const mc_no = searchedMC[i].mc\n    const rec = mcTable.find(x => x.mc_no === mc_no && x.su_no === currentSU && x.mf_no === currentMF)\n    if (rec) {\n      newSearchedMC.push(searchedMC[i])\n    }\n  }\n\n  const handleClick = id => {\n    setInspectionID(id)\n    handleSearch(id)\n    // Set search fields in SearchKey.js\n    document.getElementById(\"searchKey_mc\").value = id.mc\n    document.getElementById(\"searchKey_iteration\").value = id.iteration\n    document.getElementById(\"searchKey_type\").value = id.type\n    setShowSearchedMC(false)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      <div className=\"searchedMC\">\n        <div className=\"searchedMC_header1 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Iteration</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n        <div className=\"searchedMC_header2 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Iteration</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n        <div className=\"searchedMC_header3 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div className=\"searchedMC_detail_center\">Iteration</div>\n          <div className=\"searchedMC_detail_center\">Type</div>\n        </div>\n\n        {newSearchedMC.length > 0\n          ? newSearchedMC.map(x => (\n              <div\n                className=\"searchedMC_detail\"\n                key={x.id}\n                onClick={() => {\n                  handleClick({ mc: x.mc, iteration: x.iteration, type: x.type })\n                }}\n              >\n                <div></div>\n                <div>{x.mc}</div>\n                <div className=\"searchedMC_detail_center\">{x.iteration}</div>\n                <div className=\"searchedMC_detail_center\">{x.type}</div>\n              </div>\n            ))\n          : null}\n      </div>\n      <Spinner area=\"mfrSelection\" />\n    </Fragment>\n  )\n}\n\nexport default SearchedMC\n","import React, { Fragment } from \"react\"\n\nconst SupplierInfo = props => {\n  const { currentSU, currentMF, currentSUName, currentMFName, setSelectingSupplier, setShowFull, setMFRsearch } = props\n\n  const changeSelectingSuppler = () => {\n    setMFRsearch(\"\")\n    setSelectingSupplier(true)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {!!currentSU ? (\n        <div className=\"supplierInfo\">\n          <button\n            onClick={() => {\n              setShowFull(false)\n              changeSelectingSuppler()\n            }}\n          >\n            Select\n          </button>\n          <div className=\"supplierInfo_capitalize supplierInfoSU\" id=\"supplierInfo_bar\">\n            {currentSUName.toLowerCase()} ({currentSU})\n          </div>\n          <div className=\"supplierInfo_capitalize supplierInfoMF\">\n            {currentMFName.toLowerCase()} ({currentMF})\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default SupplierInfo\n","import React, { Fragment } from \"react\"\n\nconst MfrSelection = props => {\n  const { partyTable, setCurrentSU, setCurrentMF, setCurrentSUName, setCurrentMFName, selectingSupplier, setSelectingSupplier, setMFRsearch, mfrSearch, getMCtable } = props\n\n  const handleClick = (su, mf, su_name, mf_name) => {\n    setCurrentSU(su)\n    setCurrentMF(mf)\n    setCurrentSUName(su_name)\n    setCurrentMFName(mf_name)\n    setSelectingSupplier(false)\n    getMCtable(su, mf)\n  }\n\n  const handleMFRsearch = event => {\n    const { value } = event.target\n    setMFRsearch(value.toUpperCase())\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {partyTable && selectingSupplier ? (\n        <div>\n          <div className=\"mfrSelection_header\"> Select a manufacturer below:</div>\n          <div className=\"mfrSelection_input\">\n            <input type=\"text\" id=\"mfrSearch\" name=\"mfrSearch\" value={mfrSearch || \"\"} justify=\"left\" onChange={handleMFRsearch} style={{ textTransform: \"uppercase\" }} placeholder=\"Type to search\" />\n          </div>\n        </div>\n      ) : null}\n\n      {partyTable && selectingSupplier\n        ? partyTable\n            .filter(y => mfrSearch.length === 0 || \"\".concat(\" \", y.SU_NAME, \" \", y.SU, \" \", y.MF, \" \", y.MF_NAME).search(mfrSearch) > 0)\n            .map(x => (\n              <div\n                className=\"mfrSelection\"\n                key={x.SU.concat(x.MF)}\n                onClick={() => {\n                  handleClick(x.SU, x.MF, x.SU_NAME, x.MF_NAME)\n                }}\n              >\n                <div className=\"mfrSelectionSU\">\n                  {x.SU_NAME} ({x.SU}){\" \"}\n                </div>\n                <div className=\"mfrSelectionMF\">\n                  {x.MF_NAME} ({x.MF}){\" \"}\n                </div>\n              </div>\n            ))\n        : null}\n    </Fragment>\n  )\n}\nexport default MfrSelection\n","import React from \"react\"\nimport DatePicker from \"react-datepicker\"\n\nconst Misc = props => {\n  const { setInspectionDate, inspectionDate, setMisc, misc, editMode, mqaMembers, packTypes, userProfile, productCategories } = props\n\n  const handleDate = date => {\n    setInspectionDate(date)\n  }\n\n  // Misc Fields (Text) Capture\n  const handleChange = (element, yes_or_no) => event => {\n    let value = event.target.value\n\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 2: //b\n          newMisc = { ...newMisc, product_type: value }\n          break\n        case 3: //c\n          newMisc = { ...newMisc, lab_test_report: value }\n          break\n        case 4: //d\n          newMisc = { ...newMisc, lab_child_safety_report: value }\n          break\n        case 5: //e\n          newMisc = { ...newMisc, fibre_content: value }\n          break\n        case 6: //f\n          newMisc = { ...newMisc, comments: value }\n          break\n        case 7: //g\n          newMisc = { ...newMisc, governance_inspection: yes_or_no }\n          break\n        case 8: //h\n          newMisc = { ...newMisc, props65_report: value }\n          break\n        case 9: //i\n          newMisc = { ...newMisc, ship_mode: value }\n          break\n        case 10: //j\n          newMisc = { ...newMisc, pack_pct: value }\n          break\n        case 11: //k\n          newMisc = { ...newMisc, ship_window: value }\n          break\n        case 12: //l\n          newMisc = { ...newMisc, carton_list: value }\n          break\n        case 13: //m\n          newMisc = { ...newMisc, carton_total: value }\n          break\n        case 14: //n\n          newMisc = { ...newMisc, pack_type: value }\n          break\n        case 15: //O\n          newMisc = { ...newMisc, qa_type: value }\n          if (value === \"SQA\") newMisc = { ...newMisc, sqa: userProfile.email }\n          break\n        case 16: //p\n          newMisc = { ...newMisc, mqa: value }\n          break\n        case 17: //p\n          newMisc = { ...newMisc, sqa: value }\n          break\n        case 18: //q\n          newMisc = { ...newMisc, correlation_inspection: yes_or_no }\n          break\n        case 19: //r\n          newMisc = { ...newMisc, product_category: value }\n          break\n\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <div className=\"misc\">\n      <div className=\"misc_a\">\n        <div className=\"misc_title misc_grid_a\">\n          <div>Inspection Date (A)</div>\n          <DatePicker className=\"datePicker\" dateFormat=\"MM/dd/yy\" selected={inspectionDate} onChange={date => handleDate(date)} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n      </div>\n\n      <div className=\"misc_g misc_grid_g\">\n        <div className=\"misc_title\">Governance Inspection (G)</div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_yes\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"Yes\"} onChange={handleChange(7, \"Yes\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>Yes</div>\n        <div></div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_no\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"No\"} onChange={handleChange(7, \"No\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>No</div>\n      </div>\n\n      <div className=\"misc_j misc_grid_j\">\n        <div className=\"misc_title\">Pack % During Inspection (J)</div>\n        <input type=\"text\" id=\"misc_packPct\" name=\"misc_packPct\" value={misc.pack_pct || \"\"} justify=\"left\" placeholder=\"%\" onChange={handleChange(10)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_k misc_grid_k\">\n        <div className=\"misc_title\">Ship Window (K)</div>\n        <input type=\"text\" id=\"misc_shipWindow\" name=\"misc_shipWindow\" value={misc.ship_window || \"\"} justify=\"left\" placeholder=\"Ship Window\" onChange={handleChange(11)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_b misc_grid_b\">\n        <div className=\"misc_title\">Product Type (B)</div>\n        <input type=\"text\" id=\"misc_productType\" name=\"misc_productType\" value={misc.product_type || \"\"} justify=\"left\" placeholder=\"Product Type\" onChange={handleChange(2)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_o misc_grid_o\">\n        <div className=\"misc_title\">QA Type (O)</div>\n\n        <select id=\"misc_qaType\" name=\"misc_qaType\" value={misc.qa_type || \"Select\"} justify=\"left\" placeholder=\"QA Type\" onChange={handleChange(15)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"MQA\" disabled={editMode ? \"\" : \"disabled\"}>\n            MQA\n          </option>\n          <option value=\"SQA\" disabled={editMode ? \"\" : \"disabled\"}>\n            SQA\n          </option>\n        </select>\n      </div>\n\n      {/* <div className=\"misc_n misc_grid_n\">\n        <div className=\"misc_title\">Inspector (N)</div>\n        <input type=\"text\" id=\"misc_inspector\" name=\"misc_inspector\" value={misc.inspector || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(14)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div> */}\n\n      <div className=\"misc_c misc_grid_c\">\n        <div className=\"misc_title\">Lab Test Report (C)</div>\n\n        <select id=\"misc_labTest\" name=\"misc_labTest\" value={misc.lab_test_report || \"Select\"} justify=\"left\" placeholder=\"Test result\" onChange={handleChange(3)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Pass\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pass\n          </option>\n          <option value=\"Fail\" disabled={editMode ? \"\" : \"disabled\"}>\n            Fail\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_d misc_grid_d\">\n        <div className=\"misc_title\">Child Safety Report (D)</div>\n\n        <select id=\"misc_childSafetyReport\" name=\"misc_childSafetyReport\" value={misc.lab_child_safety_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(4)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_h misc_grid_h\">\n        <div className=\"misc_title\">Props 65 Report (H)</div>\n        <select id=\"misc_props65Report\" name=\"misc_props65Report\" value={misc.props65_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(8)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_i misc_grid_i\">\n        <div className=\"misc_title\">Ship Mode (I)</div>\n\n        <select id=\"misc_shipMode\" name=\"misc_shipMode\" value={misc.ship_mode || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(9)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"Ocean\" disabled={editMode ? \"\" : \"disabled\"}>\n            Ocean\n          </option>\n          <option value=\"Air\" disabled={editMode ? \"\" : \"disabled\"}>\n            Air\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_s misc_grid_s\">\n        <div className=\"misc_title\">Brand (S)</div>\n        <input type=\"text\" id=\"misc_label\" name=\"misc_label\" value={misc.label || \"\"} justify=\"left\" readOnly=\"readOnly\" />\n      </div>\n\n      <div className=\"misc_e misc_grid_e\">\n        <div className=\"misc_title\">Fibre Content (E)</div>\n        <input type=\"text\" id=\"misc_fibreContent\" name=\"misc_fibreContent\" value={misc.fibre_content || \"\"} justify=\"left\" placeholder=\"Fibre Content\" onChange={handleChange(5)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_f misc_grid_f\">\n        <div className=\"misc_title\">Comments (F)</div>\n        <textarea rows=\"5\" cols=\"50\" id=\"misc_comments\" name=\"misc_comments\" value={misc.comments || \"\"} justify=\"left\" placeholder=\"Comments\" onChange={handleChange(6)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_l misc_grid_l\">\n        <div className=\"misc_title\">Carton List (L)</div>\n        <textarea rows=\"3\" cols=\"50\" id=\"misc_cartonList\" name=\"misc_cartonList\" value={misc.carton_list || \"\"} justify=\"left\" placeholder=\"Carton List\" onChange={handleChange(12)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_m misc_grid_m\">\n        <div className=\"misc_title\">Carton Total (M)</div>\n        <input type=\"text\" id=\"misc_cartonTotal\" name=\"misc_cartonTotal\" value={misc.carton_total || \"\"} justify=\"left\" placeholder=\"Carton Total\" onChange={handleChange(13)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_i misc_grid_i\">\n        <div className=\"misc_title\">Ship Mode (I)</div>\n        <select id=\"misc_shipMode\" name=\"misc_shipMode\" value={misc.ship_mode || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(9)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"Ocean\" disabled={editMode ? \"\" : \"disabled\"}>\n            Ocean\n          </option>\n          <option value=\"Air\" disabled={editMode ? \"\" : \"disabled\"}>\n            Air\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_p misc_grid_p\">\n        <div className=\"misc_title\">{misc.qa_type === \"MQA\" || misc.qa_type === undefined ? <span>MQA (P)</span> : <span>SQA (P)</span>}</div>\n        {misc.qa_type === \"MQA\" || misc.qa_type === undefined ? (\n          <select id=\"misc_mqa\" name=\"misc_mqa\" value={misc.mqa || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(16)}>\n            <option value=\"Select\">Select</option>\n            {mqaMembers &&\n              mqaMembers.map(x => (\n                <option key={x.mqa} value={x.mqa} disabled={editMode ? \"\" : \"disabled\"}>\n                  {x.mqa}\n                </option>\n              ))}\n          </select>\n        ) : (\n          <input type=\"text\" id=\"misc_sqa\" name=\"misc_sqa\" value={misc.sqa || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(17)} readOnly=\"readOnly\" />\n        )}\n      </div>\n\n      <div className=\"misc_n misc_grid_n\">\n        <div className=\"misc_title\">Pack Type (N)</div>\n\n        <select id=\"misc_pack_type\" name=\"misc_pack_type\" value={misc.pack_type || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(14)}>\n          <option value=\"Select\">Select</option>\n          {packTypes &&\n            packTypes.map(x => (\n              <option key={x.type} value={x.type} disabled={editMode ? \"\" : \"disabled\"}>\n                {x.type}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div className=\"misc_q misc_grid_q\">\n        <div className=\"misc_title\">Correlation Inspection (Q)</div>\n        <div>\n          <input type=\"radio\" id=\"misc_correlation_yes\" name=\"misc_correlation_inspection\" value={misc.correlation_inspection || \"\"} checked={misc.correlation_inspection === \"Yes\"} onChange={handleChange(18, \"Yes\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>Yes</div>\n        <div></div>\n        <div>\n          <input type=\"radio\" id=\"misc_correlation_inspection_no\" name=\"misc_correlation_inspection\" value={misc.correlation_inspection || \"\"} checked={misc.correlation_inspection === \"No\"} onChange={handleChange(18, \"No\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>No</div>\n      </div>\n\n      <div className=\"misc_r misc_grid_r\">\n        <div className=\"misc_title\">Product Category (R)</div>\n\n        <select id=\"misc_product_category\" name=\"misc_product_category\" value={misc.product_category || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(19)}>\n          <option value=\"Select\">Select</option>\n          {productCategories &&\n            productCategories.map(x => (\n              <option key={x.category} value={x.category} disabled={editMode ? \"\" : \"disabled\"}>\n                {x.category}\n              </option>\n            ))}\n        </select>\n      </div>\n    </div>\n  )\n}\nexport default Misc\n","import React, { Fragment } from \"react\"\n\nconst Result = props => {\n  const { setMisc, misc, editMode, visualResult, calculateFinalResult } = props\n\n  function calculate_final_result(misc) {\n    if (misc.packing_result === \"Failed\" || (misc.measurement_result === \"Failed\") | (visualResult === \"Failed\")) {\n      return \"Failed\"\n    } else {\n      return \"Passed\"\n    }\n  }\n\n  const handleChange = (element, param2) => event => {\n    let value = event.target.value\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 1: //a  Packing\n          newMisc = { ...newMisc, packing_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(newMisc) }\n          }\n          break\n        case 2: //b  Measurement\n          newMisc = { ...newMisc, measurement_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(newMisc) }\n          }\n          break\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"result\">\n        <div className=\"result_f result_grid_f\"> Inspection Result Summary</div>\n        <div></div>\n        <div></div>\n\n        <div className=\"result_a result_grid_a\">\n          <div className=\"result_title\">Packing</div>\n          <select id=\"result_packingResult\" name=\"misc_packingResult\" value={misc.packing_result || \"Select\"} justify=\"left\" placeholder=\"Packing Result\" onChange={handleChange(1)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_b result_grid_b\">\n          <div className=\"result_title\">Measurement</div>\n          <select id=\"result_measurementResult\" name=\"misc_measurementResult\" value={misc.measurement_result || \"Select\"} justify=\"left\" placeholder=\"Measurement result\" onChange={handleChange(2)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_c result_grid_c\">\n          <div className=\"result_title\">Critical / Major / Minor</div>\n          <input type=\"text\" id=\"result_defectiveResult\" name=\"result_defectiveResult\" value={visualResult.defective_result || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_d result_grid_d\">\n          <div className=\"result_title\">Sample Threshold (Major / Minor)</div>\n          <input type=\"text\" id=\"result_sampleThreshold\" name=\"result_sampleThreshold\" value={visualResult.sample_threshold || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_e result_grid_e\">\n          <div className=\"result_title\">Final Result</div>\n          <input type=\"text\" id=\"result_finalResult\" name=\"result_finalResult\" value={calculateFinalResult()} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_g result_grid_g\">\n          <div className=\"result_title\">Visual Result</div>\n          <input type=\"text\" id=\"result_visualResult\" name=\"result_visualResult\" value={visualResult.visual_result || \"Passed\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default Result\n","import { React, Fragment } from \"react\"\n\nconst ChangeTrack = props => {\n  const { updateHistory, showHistory, setShowHistory, convertToLocal } = props\n\n  var history = [...updateHistory]\n\n  history.sort(function (a, b) {\n    // note : must change the string back to date object for comparison\n    if (Date.parse(a.updated_time) > Date.parse(b.updated_time)) return -1\n    else return 1\n  })\n\n  let root = document.querySelector(\":root\")\n\n  return (\n    <Fragment>\n      <div className=\"changeTrack_section_upper\">\n        <div>Change History</div>\n        <div></div>\n        <div>\n          Show &nbsp;\n          <i\n            className=\"clickable fa fa-plus\"\n            onClick={() => {\n              setShowHistory(true)\n            }}\n          ></i>\n          &nbsp;&nbsp;Hide &nbsp;\n          <i\n            className=\"clickable fa fa-minus\"\n            onClick={() => {\n              setShowHistory(false)\n            }}\n          ></i>\n        </div>\n        <div></div>\n        <div>\n          Expand &nbsp;\n          <i\n            className=\"clickable fa fa-plus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"100rem\")\n            }}\n          ></i>\n          &nbsp;&nbsp; Collapse &nbsp;\n          <i\n            className=\"clickable fa fa-minus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"4.3rem\")\n            }}\n          ></i>\n        </div>\n        <div></div>\n      </div>\n      {showHistory ? (\n        <div className=\"changeTrack_section_bottom\">\n          <div className=\"changeTrack_grid_header\">\n            <div>Local Time</div>\n            <div>Updated By</div>\n            <div>Mode</div>\n            <div>Result Details</div>\n            <div></div>\n          </div>\n\n          <div className=\"changeTrack_grid_outer_detail\">\n            {history.length > 0\n              ? history.map(line => (\n                  <div key={line.id} className=\"changeTrack_grid_detail\">\n                    <div>{convertToLocal(line.updated_time)}</div>\n                    <div>{line.updated_by}</div>\n                    <div>{line.updated_mode}</div>\n                    <div>{line.misc}</div>\n                  </div>\n                ))\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\n\nexport default ChangeTrack\n","import React, { Fragment } from \"react\"\n\nconst SharePoint = props => {\n  const { inspectionID, currentSU, currentMF, getSharePointFiles, setShowSharePointFiles, showSharePointFiles, setSharePointFiles, sharePointPath, createsharePointPDF, editMode } = props\n\n  const handleClick_add = () => {\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/\".concat(sharePointPath, \"/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F\", sharePointPath, \"%2F\", \"SU\", currentSU, \"MF\", currentMF, \"&dt=\", new Date().getTime())\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleClick_view = () => {\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/\".concat(sharePointPath, \"/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F\", sharePointPath, \"%2F\", \"SU\", currentSU, \"MF\", currentMF, \"&view=7&q=\", inspectionID.mc, \"&FilterField1=Inspection_x0020_ID&FilterValue1=\", inspectionID.mc, \"-\", inspectionID.iteration, \"-\", inspectionID.type[0], \"&dt=\", new Date().getTime())\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleToggleSharePointFiles = () => {\n    if (showSharePointFiles === true) {\n      setShowSharePointFiles(false)\n      setSharePointFiles([])\n    } else {\n      setShowSharePointFiles(true)\n      getSharePointFiles()\n    }\n  }\n\n  const handleGetSharePointFiles = () => {\n    if (showSharePointFiles) {\n      setSharePointFiles([])\n      getSharePointFiles()\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"sharePoint_section\">Document Management on SharePoint</div>\n      <div className=\"sharePoint_grid\">\n        <div className=\"sharePoint_cell\">\n          <img src=\"../static/img/sharePointx.jpg\" alt=\"sharePoint\" className=\"sharePoint_photo\" />\n        </div>\n        <div></div>\n\n        <div className=\"sharePoint_cell\">\n          View files&nbsp;\n          <i\n            className=\"fa  fa-sign-in clickable\"\n            onClick={() => {\n              handleClick_view()\n            }}\n          ></i>\n        </div>\n\n        {editMode ? (\n          <div className=\"sharePoint_cell\">\n            Add files&nbsp;\n            <i\n              className=\"fa  fa-sign-in clickable\"\n              onClick={() => {\n                handleClick_add()\n              }}\n            ></i>\n          </div>\n        ) : (\n          <div className=\"sharePoint_cell\"></div>\n        )}\n\n        {/* Combine photo into PDF */}\n        {/* disable below 3/9/22 */}\n        {false ? (\n          <div className=\"sharePoint_cell\">\n            Create Photo Album&nbsp;\n            <i\n              className=\"fa  fa-file-pdf-o clickable\"\n              onClick={() => {\n                createsharePointPDF()\n              }}\n            ></i>\n          </div>\n        ) : null}\n\n        <div className=\"sharePoint_cell\">\n          Instant View : &nbsp;&nbsp;\n          {showSharePointFiles ? \"Collapse\" : \"Expand\"}\n          &nbsp;\n          <i\n            className={\"clickable fa \" + (showSharePointFiles ? \"fa-minus\" : \"fa-plus\")}\n            onClick={() => {\n              handleToggleSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n          <i\n            id=\"sharePoint_refresh\"\n            className=\"clickable fa fa-refresh\"\n            onClick={() => {\n              handleGetSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default SharePoint\n","import React, { Fragment } from \"react\"\n\nconst ShowSharePointFiles = props => {\n  const { sharePointFiles, downloadSharePointFile, showSharePointFiles, convertToLocal, editMode, handleDeleteSPfile } = props\n\n  const ext = [\".jpg\", \".png\"]\n  function isSupportPicExt(filename) {\n    for (let i = 0; i < ext.length; i++) {\n      if (filename.toLowerCase().includes(ext[i])) {\n        return true\n      }\n    }\n    return false\n  }\n\n  // const openPhoto = url => {\n  //   const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  //   if (newWindow) newWindow.opener = null\n  // }\n\n  return (\n    <Fragment>\n      {showSharePointFiles ? (\n        <div className=\"showSharePointFiles_section\">\n          <div className=\"showSharePointFiles_grid_header\">\n            <div>File Name</div>\n            <div>Last Editor</div>\n            <div>Last Edit Time</div>\n            <div>File Size</div>\n            <div>Download</div>\n            <div>File Type</div>\n            <div>Delete</div>\n          </div>\n\n          <div>\n            {sharePointFiles.length > 0\n              ? sharePointFiles.map(line =>\n                  line.filename === \"No files\" ? (\n                    <div className=\"sharePointFiles_no_files\">{line.filename}</div>\n                  ) : (\n                    <div key={line.unique_id} className=\"showSharePointFiles_grid_detail\">\n                      <div>{line.filename}</div>\n                      <div>{line.editor === \"SharePoint App\" ? line.last_editor : line.editor}</div>\n                      <div>{convertToLocal(line.modified)}</div>\n                      <div>{line.size}</div>\n                      <div>\n                        <i\n                          className=\"clickable fa fa-download\"\n                          onClick={() => {\n                            downloadSharePointFile(line.filename)\n                          }}\n                        ></i>\n                      </div>\n                      {isSupportPicExt(line.filename) ? (\n                        <div className=\"sharePointFiles_photoBlock\">\n                          <img src={\"/showPhoto?folder=\" + line.folder + \"&filename=\" + line.filename} alt=\"\" />\n                        </div>\n                      ) : (\n                        <div>\n                          <i className=\"fa fa-file fa-file-doc\"></i>\n                        </div>\n                      )}\n\n                      {editMode ? (\n                        <div>\n                          <button\n                            id=\"sharePointFiles_deleteButton\"\n                            onClick={() => {\n                              handleDeleteSPfile(line.unique_id)\n                              //props.deleteDefect(x.id)\n                            }}\n                          >\n                            &times;\n                          </button>\n                        </div>\n                      ) : (\n                        <div>&nbsp;</div>\n                      )}\n                    </div>\n                  )\n                )\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default ShowSharePointFiles\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst ShowSpinner = props => {\n  const { position } = props\n\n  return (\n    <Fragment>\n      {position === 1 ? <Spinner area=\"getUserProfile\" spinnerMessage=\"Loading your profile, please wait... \" /> : null}\n      {position === 2 ? (\n        <div>\n          <Spinner area=\"printReport\" spinnerMessage=\"Preparing the report, please wait... \" />\n          <Spinner area=\"saveInspection\" spinnerMessage=\"Saving the changes, please wait... \" />\n          <Spinner area=\"deleteInspection\" spinnerMessage=\"Deleting, please wait... \" />\n          <Spinner area=\"createInspection\" spinnerMessage=\"Loading, please wait... \" />\n          <Spinner area=\"getMCtable\" spinnerMessage=\"Getting MC data, please wait... \" />\n        </div>\n      ) : null}\n      {position === 3 ? (\n        <div>\n          <Spinner area=\"sharePointFiles\" spinnerMessage=\"Loading SharePoint info, please wait... \" />\n          <Spinner area=\"downloadSharePointfiles\" spinnerMessage=\"Downloading SharePoint info, please wait... \" />\n          <Spinner area=\"sharePointUpload\" spinnerMessage=\"Uploading file(s) to SharePoint, please wait... \" />\n        </div>\n      ) : null}\n      {position === 10 ? <Spinner area=\"pastInspection\" spinnerMessage=\"Loading past inspections, please wait... \" /> : null}\n    </Fragment>\n  )\n}\nexport default ShowSpinner\n","import React, { useState, Fragment, useEffect, useRef } from \"react\"\n\nimport axios from \"axios\"\n//import ItemTable from \"./components/ItemTable\"\nimport ItemTotal from \"./components/ItemTotal\"\nimport DefectOptions from \"./components/DefectOptions\"\nimport DefectList from \"./components/DefectList\"\nimport ShowAlert from \"./components/ShowAlert\"\nimport CheckList from \"./components/CheckList\"\nimport UploadForm from \"./components/UploadForm\"\nimport SearchKey from \"./components/SearchKey\"\nimport MainMenu from \"./components/MainMenu\"\nimport SearchedMC from \"./components/SearchedMC\"\nimport SupplierInfo from \"./components/SupplierInfo\"\n// import PhotoBlock from \"./components/PhotoBlock\"\nimport MfrSelection from \"./components/MfrSelection\"\nimport Misc from \"./components/Misc\"\nimport Result from \"./components/Result\"\nimport ChangeTrack from \"./components/ChangeTrack\"\nimport SharePoint from \"./components/SharePoint\"\nimport ShowSharePointFiles from \"./components/ShowSharePointFiles\"\n\nimport { v4 as uuidv4 } from \"uuid\"\nimport { trackPromise } from \"react-promise-tracker\"\nimport ShowSpinner from \"./components/ShowSpinner\"\n\nconst App = () => {\n  //const initialFormState = { id: null, mc_no: \"\", item_no: \"\", order_qty: \"\", ship_qty: \"\" }\n  const initialInspectionID = { mc: \"\", iteration: \"Select\", type: \"Select\" }\n\n  // Setting state\n  const [items, setItems] = useState([])\n  const [showSearchedMC, setShowSearchedMC] = useState(false)\n  const [defects, setDefects] = useState([])\n  // set position 100 as impossible range as equivalent to empty\n  const [alert, setAlert] = useState({ position: 100 })\n  const [mcTable, setMCTable] = useState([])\n  const [checkList, setCheckList] = useState([])\n  const [inspectionDate, setInspectionDate] = useState(new Date())\n  const [inspectionID, setInspectionID] = useState(initialInspectionID)\n  const [uploads, setUploads] = useState([])\n  const [userProfile, setUserProfile] = useState([])\n  const [currentSU, setCurrentSU] = useState(\"\")\n  const [currentMF, setCurrentMF] = useState(\"\")\n  const [searchedMC, setSearchedMC] = useState([])\n  const [itemSearchString, setItemSearchString] = useState(\"\")\n  const [partyTable, setPartyTable] = useState([])\n  const [currentSUName, setCurrentSUName] = useState(\"\")\n  const [currentMFName, setCurrentMFName] = useState(\"\")\n  const [selectingSupplier, setSelectingSupplier] = useState(true)\n  const [mfList, setMfList] = useState([])\n  const [aqlTable, setAqlTable] = useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [misc, setMisc] = useState({})\n  const [main, setMain] = useState({})\n  const [showFull, setShowFull] = useState(false)\n  //const [itemsTotal, setItemsTotal] = useState([])   by vincent\n\n  const [visualResult, setVisualResult] = useState({})\n\n  const [updateHistory, setUpdateHistory] = useState([])\n  const [showHistory, setShowHistory] = useState(false)\n  const [sharePointFiles, setSharePointFiles] = useState([])\n  const [showSharePointFiles, setShowSharePointFiles] = useState(false)\n  const [checkListTemplate, setCheckListTemplate] = useState([])\n\n  const [defectLanguage, setDefectLanguage] = useState(\"en\")\n  const [defectList, setDefectList] = useState([])\n  const [criticalDefects, setCriticalDefects] = useState([])\n\n  const [sharePointPath, setSharePointPath] = useState()\n  const [mfrSearch, setMFRsearch] = useState(\"\")\n\n  const [packTypes, setPackTypes] = useState(\"\")\n\n  const [mqaMembers, setMQAmembers] = useState(\"\")\n  const [productCategories, setProductCategories] = useState(\"\")\n  const [inspType, setInspType] = useState(\"\")\n\n  const [ship, setShip] = useState([])\n  const [totalShip, setTotalShip] = useState(0)\n  const [totalInspect, setTotalInspect] = useState(0)\n  const [totalSample, setTotalSample] = useState(0)\n\n  const [poList, setPOList] = useState([])\n  const initLoad = useRef(false)\n\n  const currentSearchedItem = useRef(\"\")\n\n  // Data\n\n  useEffect(() => {\n    let root = document.querySelector(\":root\")\n    const userAgent = navigator.userAgent.toLowerCase()\n    const isTablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent)\n\n    // Remove padding of scroll width if it is tablet to make columns of ChangeTrack section aligned\n    if (isTablet) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    } else {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"6.7fr\")\n    }\n\n    // check Safari browser\n    if (userAgent.includes(\"safari\") && userAgent.includes(\"macintosh\")) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    }\n\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n          setMCTable(response[\"mcTable\"])\n          setPartyTable(response[\"partyTable\"])\n          setMfList(response[\"mfList\"])\n          setAqlTable(response[\"aqlTable\"])\n          setCheckListTemplate(response[\"checkListTemplate\"])\n          setSharePointPath(response[\"sharePointPath\"])\n          setMQAmembers(response[\"mqaMembers\"])\n          setPackTypes(response[\"packTypes\"])\n          setProductCategories(response[\"productCategories\"])\n          setInspType(response[\"inspType\"])\n        })\n        .catch(error => {\n          console.log(error)\n        }),\n      \"getUserProfile\"\n    )\n\n    fetch(\"/api/getDefectTable\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setDefectList(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    fetch(\"/api/getCriticalDefects\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setCriticalDefects(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  useEffect(() => {\n    var x = document.getElementsByClassName(\"itemTotal_Detail\")\n    var len = x.length\n    var first_found = -1\n    var i, j, long, scroll_y\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      //const currentChild = x[i].firstElementChild.innerHTML\n      //get the 2nd child which is the item column\n      const currentChild = x[i].getElementsByTagName(\"div\")[1].innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"scroller\").scrollTo(0, 0)\n      long = document.getElementById(\"scroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"scroller\").scrollBy(0, scroll_y)\n    } else {\n      //document.getElementsByName(\"itemTotal_searchString\")[0].value = \"\"\n      //document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"Not found! Try again!\"\n      //document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"\"\n    }\n\n    //document.getElementsByName('mc_no')[0].value =  search_string    // trigger highlight in item table - itemTable block.\n\n    x = document.getElementsByClassName(\"itemTable_Detail\")\n    len = x.length\n    first_found = -1\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      // children[2] is the item_no\n      const currentChild = x[i].children[2].innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"itemTableScroller\").scrollTo(0, 0)\n      long = document.getElementById(\"itemTableScroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"itemTableScroller\").scrollBy(0, scroll_y)\n    }\n  }, [itemSearchString, items])\n\n  // update label based on itemsc change.\n  useEffect(() => {\n    // update label\n    const labels = items.map(({ label }) => label)\n    const uniqueLabels = [...new Set(labels)]\n    setMisc(prev => ({ ...prev, label: uniqueLabels.sort().join() }))\n  }, [items])\n\n  // updateMiscResult\n\n  useEffect(() => {\n    var sampleThreshold = \"\"\n    var defectiveResult = \"\"\n    var visualResult = \"\"\n\n    var sampleThresholdMajor = 0\n    var sampleThresholdMinor = 0\n\n    var total_major = 0\n    var total_minor = 0\n    var total_critical = 0\n\n    for (var i = 0; i < defects.length; i += 1) {\n      if (defects[i].critical) {\n        total_critical = total_critical + parseInt(defects[i].major)\n      } else if (parseInt(defects[i].major) > 0) {\n        total_major = total_major + parseInt(defects[i].major)\n      }\n\n      if (parseInt(defects[i].minor) > 0) {\n        total_minor = total_minor + parseInt(defects[i].minor)\n      }\n    }\n\n    // Check Inspection Result -  1) If Critical -> Failed,  2) Major + (Minor/4) > Threshold of Major -> Failed, 3) Packing Failed or Measurement Failed -> Failed\n\n    if (total_critical + total_major + total_minor > 0) {\n      defectiveResult = \" \" + total_critical.toString() + \" / \" + total_major.toString() + \" / \" + total_minor.toString()\n\n      if (total_major + Math.floor(total_minor / 4) > sampleThresholdMajor) {\n        visualResult = \"Failed\"\n      } else if (total_minor > sampleThresholdMinor) {\n        visualResult = \"Failed\"\n      }\n    }\n\n    if (total_critical > 0) {\n      visualResult = \"Failed\"\n    }\n\n    if (visualResult !== \"Failed\" && defectiveResult.length > 0) {\n      visualResult = \"Passed\"\n    }\n\n    if (totalShip) {\n      const aql = aqlTable.filter(x => x.size_start <= totalShip && x.size_end >= totalShip)\n      sampleThreshold = aql[0][\"25accept\"].toString() + \" / \" + aql[0][\"40accept\"].toString()\n      sampleThresholdMajor = aql[0][\"25accept\"]\n      sampleThresholdMinor = aql[0][\"40accept\"]\n    }\n\n    setVisualResult({ visual_result: visualResult, defective_result: defectiveResult, sample_threshold: sampleThreshold })\n  }, [defects, aqlTable, totalShip])\n\n  // **** Set PO List ***//\n\n  useEffect(() => {\n    let po_list = []\n    let oItems = [...items]\n    let oShip = [...ship]\n    let pos = oItems.map(x => x.po_no)\n    let unique = pos.filter((v, i, a) => a.indexOf(v) === i)\n    unique.forEach(function (u) {\n      const mc_no = mcTable.filter(x => x.po_no === u)[0][\"mc_no\"]\n      const order_qty = mcTable.filter(x => x.po_no === u).reduce((prev, curr) => prev + parseInt(curr.order_qty), 0)\n      const ship_qty = oShip.filter(x => x.po_no === u).reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n      const customer = oItems.filter(x => x.po_no === u)[0][\"customer\"]\n      po_list.push({ mc_no: mc_no, po_no: u, order_qty: order_qty, ship_qty: ship_qty, customer: customer })\n    })\n    setPOList(po_list)\n    //console.log(\"useEffect - setPOList\")\n  }, [items, mcTable, ship])\n\n  // construct ship\n  useEffect(() => {\n    if (!initLoad.current) {\n      let oList = items.map(x => ({ po_no: x.po_no, order_qty: x.order_qty, item_no: x.item_no, ship_qty: x.ship_qty, sample_qty: x.sample_qty }))\n      // calcualte total shipped\n      const total_qty = oList.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n      const aql = aqlTable.filter(x => x.size_start <= total_qty && x.size_end >= total_qty)\n      oList = oList.map(x => ({ ...x, sample_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]), inspect_qty: Math.round((x.ship_qty / total_qty) * aql[0][\"25sample\"]) }))\n      //console.log(\"setship1\")\n      setShip(oList)\n    }\n  }, [items, aqlTable])\n\n  //reset when totalShip has changed. Please note that useEffect order is very important!\n  useEffect(() => {\n    if (!initLoad.current) {\n      const aql = aqlTable.filter(x => x.size_start <= totalShip && x.size_end >= totalShip)\n      setShip(prev => prev.map(x => ({ ...x, sample_qty: Math.round((x.ship_qty / totalShip) * aql[0][\"25sample\"]), inspect_qty: Math.round((x.ship_qty / totalShip) * aql[0][\"25sample\"]) })))\n      //console.log(\"setship2\")\n    }\n    // below is very important\n    initLoad.current = false\n  }, [totalShip, aqlTable])\n\n  // update Total Ship/Inspect,  item, ship - not relevant\n  useEffect(() => {\n    let oList = [...ship]\n    const nShipQty = oList.reduce((prev, curr) => prev + parseInt(curr.ship_qty), 0)\n    const nInspectQty = oList.reduce((prev, curr) => prev + parseInt(curr.inspect_qty), 0)\n    setTotalShip(nShipQty)\n    setTotalInspect(nInspectQty)\n    if (nShipQty > 0) {\n      const aql = aqlTable.filter(x => x.size_start <= nShipQty && x.size_end >= nShipQty)\n      const nSampleQty = aql[0][\"25sample\"]\n      setTotalSample(nSampleQty)\n    } else setTotalSample(0)\n\n    //console.log(\"setship3\", initLoad)\n  }, [ship, aqlTable])\n\n  // reset inspection qty\n  const reset = () => {\n    setShip(prev => prev.map(x => ({ ...x, inspect_qty: x.sample_qty })))\n  }\n\n  /**** */\n\n  const handleSupplierInfo = (su, mf) => {\n    partyTable.map(x => (x.SU === su ? setCurrentSUName(x.SU_NAME) : null))\n    partyTable.map(x => (x.MF === mf ? setCurrentMFName(x.MF_NAME) : null))\n  }\n\n  // CRUD operations\n  const addMC = mc => {\n    mcTable.map(\n      x => (x.mc_no === mc ? ((x.id = uuidv4()), setItems(prev => prev.concat(x)), setMisc({ ...misc, ship_window: x.ship_window, product_type: x.item_desc, fibre_content: x.fabric_note })) : null)\n      // setDefaultShipWindow(x.ship_window), setDefaultFibreContent(x.fabric_note), setDefaultProductType(x.item_desc\n    )\n    handleSupplierInfo(currentSU, currentMF)\n    setShowFull(true)\n    setEditMode(true)\n    fillCheckList() // since it's empty\n  }\n\n  const addToDefectList = (product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language) => {\n    setDefects(prev => prev.concat({ id: uuidv4(), product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language, critical: isCriticalDefect(product, defect_detail_area) }))\n  }\n\n  const deleteDefect = id => {\n    // setEditing(false)\n    setDefects(defects.filter(defect => defect.id !== id))\n  }\n\n  const setDisplayAlert = alert => {\n    //{ message: \"hi\", position: 0, timeout: 3000, color: \"alert__green\" }\n    setAlert(alert)\n    setTimeout(function () {\n      setAlert({ position: 100 })\n    }, alert.timeout)\n  }\n\n  const handleCheckItemChange = (id, change) => {\n    const newCheckList = [...checkList]\n    const index = newCheckList.findIndex(r => r.id === id)\n    newCheckList[index] = change\n    setCheckList(newCheckList)\n    //setCheckList([...checkList], { id: change })\n  }\n\n  const handleSave = submitted => {\n    // Convert inspection date to time 00.00.00\n    const main = { su_no: currentSU, mf_no: currentMF, inspection_date: inspectionDate.toDateString(), submitted: submitted }\n    const _id = { mc: inspectionID.mc, iteration: inspectionID.iteration, type: inspectionID.type }\n    let newMisc = { ...misc }\n    newMisc = { ...newMisc, final_result: calculateFinalResult(), visual_result: visualResult, defectLanguage: defectLanguage, submitted: submitted }\n\n    trackPromise(\n      axios({\n        url: \"/api/save\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: _id, main: main, misc: newMisc, mf: currentMF, checkList: checkList, items: items, itemsTotal: ship, poList: poList, defects: defects, uploads: uploads, updateHistory: updateHistory })\n      })\n        .then(res => {\n          clearScreen()\n          setDisplayAlert({ message: \"Saved Successfully !\", position: 0, timeout: 1000, color: \"alert__green\" })\n        })\n        .catch(err => {\n          console.log(err.response.data)\n          setDisplayAlert({ message: \"There was an error in saving, please contact the admin !!\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"saveInspection\"\n    )\n  }\n\n  const handleSearch = id => {\n    //console.log(\"entering api/search\")\n\n    trackPromise(\n      axios({\n        url: \"/api/search\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        // .then(response => {\n        //   console.log(\"status\", response.status)\n        // })\n        .then(response => response.data)\n        .then(response => {\n          setShowFull(true)\n\n          initLoad.current = true\n          setItems(response[\"items\"])\n          setShip(response[\"itemsTotal\"])\n\n          localStorage.setItem(\"appItems\", JSON.stringify(response[\"items\"]))\n          localStorage.setItem(\"appShip\", JSON.stringify(response[\"itemsTotal\"]))\n\n          setInspectionDate(response[\"main\"].inspection_date ? new Date(response[\"main\"].inspection_date) : null)\n          setMain(response[\"main\"])\n          setMisc(response[\"misc\"] ? response[\"misc\"] : {})\n          if (response[\"misc\"][\"defectLanguage\"] === undefined) {\n            setDefectLanguage(\"en\")\n          } else {\n            setDefectLanguage(response[\"misc\"][\"defectLanguage\"])\n          }\n\n          setCheckList(response[\"checkList\"])\n\n          handleSupplierInfo(response[\"main\"].su_no, response[\"main\"].mf_no)\n\n          if (response[\"defects\"] === undefined) {\n            setDefects([])\n          } else {\n            //console.log(response[\"defects\"])\n            setDefects(response[\"defects\"])\n          }\n\n          if (response[\"uploads\"] === undefined) {\n            setUploads(\"\")\n          } else {\n            //console.log(response[\"uploads\"])\n            setUploads(response[\"uploads\"])\n          }\n          if (response[\"update_history\"] === undefined) {\n            setUpdateHistory([])\n          } else {\n            setUpdateHistory(response[\"update_history\"])\n          }\n          setSharePointFiles(false)\n          setShowSharePointFiles(false)\n          setShowHistory(false)\n        })\n        .catch(err => {\n          //console.log(\"err\", err.response.status)\n          if (err.response.status === 406) {\n            setDisplayAlert({ message: \"Not a valid MC for this manufacturer !\", position: 0, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 501) {\n            window.location = \"/login/timeout\"\n          } else setDisplayAlert({ message: \"No such Inspection ID, please try again !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"searchKey\"\n    )\n  }\n\n  const handleDelete = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete this inspection ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/delete\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (clearScreen(), setDisplayAlert({ message: \"Deleted successfully !\", position: 0, timeout: 1500, color: \"alert__green\" })) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the inspection ID !\", position: 0, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  const clearScreen = () => {\n    setItems([])\n    setDefects([])\n    setCheckList([])\n    setSearchedMC([])\n    setUploads([])\n    setShowSearchedMC(false)\n    setMisc([])\n    setUpdateHistory([])\n    setShowFull(false)\n    setEditMode(false)\n    setShowHistory(false)\n    setSharePointFiles([])\n    setShowSharePointFiles(false)\n    setShowHistory(true)\n    currentSearchedItem.current = \"\"\n  }\n\n  // ** implement delay function\n  const delay = ms => new Promise(res => setTimeout(res, ms))\n\n  const handleSessionTimeOut = async () => {\n    setDisplayAlert({ message: \"Session timeout, please login again !\", position: 0, timeout: 3000, color: \"alert__red\" })\n    await delay(3000)\n    window.location = \"/login/timeout\"\n  }\n\n  const searchInspByMC = mc => {\n    setShowSearchedMC(true)\n\n    trackPromise(\n      //fetch(\"/api/searchInspByMC\", {\n      axios({\n        url: \"/api/searchInspByMC\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ mc: mc, mfList: mfList })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSearchedMC(response)\n          setSharePointFiles(false)\n        })\n        .catch(err => {\n          //console.log('err', err)\n          err.response.status === 501 ? handleSessionTimeOut() : setDisplayAlert({ message: \"Something went wrong !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"mfrSelection\"\n    )\n  }\n\n  const downloadDoc = (_id, file_name) => event => {\n    //event.preventDefault()\n\n    fetch(\"/download/\" + _id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        \"Content-Disposition\": \"attachment\"\n      }\n    })\n      .then(response => response.blob())\n      .then(blob => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]))\n        const link = document.createElement(\"a\")\n        link.href = url\n        link.setAttribute(\"download\", file_name)\n\n        // Append to html link element page\n        document.body.appendChild(link)\n\n        // Start download\n        link.click()\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link)\n      })\n  }\n\n  const downloadSharePointFile = file_name => {\n    //event.preventDefault()\n\n    const file_url = \"/sites/OSO/\".concat(sharePointPath, \"/\", \"SU\", currentSU, \"MF\", currentMF, \"/\", file_name)\n\n    trackPromise(\n      fetch(\"/downloadSharePointFile\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          file_url: file_url\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"downloadSharePointfiles\"\n    )\n  }\n\n  const printReport = (file_name, draft) => {\n    //event.preventDefault()\n    if (misc.qa_type === undefined) {\n      setDisplayAlert({ message: \"QA Type must be chosen !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n    if (misc.qa_type === \"MQA\" && (misc.mqa === undefined || misc.mqa === \"Select\")) {\n      setDisplayAlert({ message: \"MQA must be specified !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n\n    file_name = \"MMG Inspection Report - \" + inspectionID[\"mc\"] + \"-\" + inspectionID[\"iteration\"] + \"-\" + inspectionID[\"type\"] + (draft ? \" (Draft) \" : \"\") + \".xlsx\"\n\n    trackPromise(\n      fetch(\"/printreport\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          inspectionID: JSON.stringify({ inspectionID }),\n          localTime: JSON.stringify(convertToLocal(Date.now()))\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"printReport\"\n    )\n  }\n\n  const getSharePointFiles = () => {\n    trackPromise(\n      axios({\n        url: \"/api/getsharepointfiles\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSharePointFiles(response)\n        })\n        .catch(err => {\n          if (err.response.status === 404) {\n            setDisplayAlert({ message: \"Folder on SharePoint was not created !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          }\n        }),\n      \"sharePointFiles\"\n    )\n  }\n\n  const createsharePointPDF = () => {\n    var confirm = window.confirm(\"You're recommended to use Microsoft Lens to create PDF file.  For non-chart photos with lesser resolution (around 400px *400px), you can try this function but all photo files will be zipped !  Please use with care !\")\n    if (confirm !== true) {\n      return\n    }\n    const inspection_date = inspectionDate.getMonth() + 1 + \"/\" + inspectionDate.getDate() + \"/\" + inspectionDate.getFullYear()\n    trackPromise(\n      axios({\n        url: \"/api/createsharepointpdf\",\n        timeout: 1000 * 28, // Wait for 28 seconds\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\",\n          inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type,\n          //relative_url: \"2022InspRpt/SU\" + currentSU + \"MF\" + currentMF\n          relative_url: sharePointPath.concat(\"/\", \"SU\", currentSU, \"MF\", currentMF),\n          inspection_date: inspection_date\n        },\n        data: JSON.stringify({ folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSharePointFiles(response)\n          document.getElementById(\"sharePoint_refresh\").click()\n        })\n        .catch(err => {\n          const errMsg = err.message\n          if (errMsg.includes(\"timeout\")) {\n            setDisplayAlert({ message: \"Warning : Server timeout interruption and some files may be lost ! Please refresh SharePoint status to make sure all photos are there and reduce the size of your photos and resubmit as neccessary, or use Microsft Lens on your mobile device!\", position: 3, timeout: 9000, color: \"alert__red\" })\n          }\n          if (err.response.status === 404) {\n            setDisplayAlert({ message: \"PDF creation error !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 405) {\n            setDisplayAlert({ message: \"No photos to generate PDF !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          }\n        }),\n      \"sharePointFiles\"\n    )\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  const checkDuplicateID = id => {\n    trackPromise(\n      axios({\n        url: \"/api/checkDuplicateID\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      }).then(res => (res.status === 200 ? displayAlert(\"This key has been used by previous inspection ! Please check and or consider a new iteration!\") : addMC(id.mc))),\n      \"createInspection\"\n    )\n  }\n\n  const handleDeleteSPfile = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete the SharePoint file ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/deleteSPfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (setDisplayAlert({ message: \"SharePoint file deleted successfully !\", position: 3, timeout: 3000, color: \"alert__green\" }), document.getElementById(\"sharePoint_refresh\").click()) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the SP file !\", position: 4, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  const getMCtable = (su, mf) => {\n    trackPromise(\n      axios({\n        url: \"/api/getMCtable\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ su: su, mf: mf })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setMCTable(response)\n        })\n        .catch(err => {\n          setDisplayAlert({ message: \"Error getting MC\", position: 4, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"getMCtable\"\n    )\n  }\n\n  function isCriticalDefect(product, defect) {\n    for (var i = 0; i < criticalDefects.length; i += 1) {\n      if (criticalDefects[i].product === product && criticalDefects[i].defect_detail_code === defect) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function calculateFinalResult() {\n    let final_result = \"\"\n    if (misc.measurement_result === \"Failed\" || misc.packing_result === \"Failed\" || visualResult.visual_result === \"Failed\") {\n      final_result = \"Failed\"\n    } else if (visualResult.visual_result === \"\") {\n      final_result = \"Passed\"\n    } else {\n      final_result = \"Passed\"\n    }\n    return final_result\n  }\n\n  // convert to local time\n  function convertToLocal(date) {\n    const t = new Date(date).toTimeString()\n    const d = new Date(date).toDateString()\n    var local = d + \" \" + t\n    var local_end = local.search(\"GMT+\") - 1\n    local = local.substring(0, local_end)\n    return local\n  }\n\n  const fillCheckList = () => {\n    // Populate values to the checklist template.\n    const newCheckList = [...checkListTemplate]\n    newCheckList.sort((a, b) => a.id - b.id) // must sort to present in order...\n    setCheckList(newCheckList)\n  }\n\n  return (\n    <Fragment>\n      {/* <UserProfile userProfile={userProfile} /> */}\n      <SupplierInfo currentSU={currentSU} currentMF={currentMF} currentSUName={currentSUName} currentMFName={currentMFName} setSelectingSupplier={setSelectingSupplier} setShowFull={setShowFull} setMFRsearch={setMFRsearch} />\n      <MfrSelection partyTable={partyTable} setCurrentSU={setCurrentSU} setCurrentMF={setCurrentMF} setCurrentSUName={setCurrentSUName} setCurrentMFName={setCurrentMFName} selectingSupplier={selectingSupplier} setSelectingSupplier={setSelectingSupplier} setMFRsearch={setMFRsearch} mfrSearch={mfrSearch} getMCtable={getMCtable} />\n\n      <ShowSpinner position={1} />\n      <MainMenu handleSave={handleSave} handleSearch={handleSearch} inspectionID={inspectionID} handleDelete={handleDelete} printReport={printReport} editMode={editMode} setEditMode={setEditMode} userProfile={userProfile} main={main} misc={misc} showFull={showFull} clearScreen={clearScreen} updateHistory={updateHistory} />\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <Fragment>\n            {/* <h2>Search Inspection</h2> */}\n            <SearchKey checkDuplicateID={checkDuplicateID} mcTable={mcTable} setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setInspectionID={setInspectionID} clearScreen={clearScreen} searchInspByMC={searchInspByMC} currentSU={currentSU} currentMF={currentMF} editMode={editMode} inspType={inspType} showFull={showFull} />\n\n            {showSearchedMC ? <SearchedMC inspectionID={inspectionID} setInspectionID={setInspectionID} handleSearch={handleSearch} searchInspByMC={searchInspByMC} searchedMC={searchedMC} setShowSearchedMC={setShowSearchedMC} mcTable={mcTable} currentSU={currentSU} currentMF={currentMF} /> : null}\n          </Fragment>\n        </div>\n      </div>\n      {alert.position === 0 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <ShowSpinner position={2} />\n\n      {/* Result  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Result setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode} isCriticalDefect={isCriticalDefect} aqlTable={aqlTable} visualResult={visualResult} calculateFinalResult={calculateFinalResult}></Result>\n          </Fragment>\n        </div>\n      </div>\n\n      {/* Misc section with inspection Date  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Misc setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode} mqaMembers={mqaMembers} packTypes={packTypes} productCategories={productCategories} userProfile={userProfile} items={items}></Misc>\n          </Fragment>\n        </div>\n      </div>\n\n      {alert.position === 1 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <ItemTotal setItems={setItems} items={items} mcTable={mcTable} addMC={addMC} currentSU={currentSU} currentMF={currentMF} setItemSearchString={setItemSearchString} editMode={editMode} aqlTable={aqlTable} setDisplayAlert={setDisplayAlert} ship={ship} setShip={setShip} poList={poList} setPOList={setPOList} totalShip={totalShip} setTotalShip={setTotalShip} totalInspect={totalInspect} setTotalInspect={setTotalInspect} totalSample={totalSample} setTotalSample={setTotalSample} reset={reset} />\n        </div>\n      </div>\n      {alert.position === 5 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectOptions items={items} addToDefectList={addToDefectList} setDisplayAlert={setDisplayAlert} editMode={editMode} defects={defects} defectLanguage={defectLanguage} setDefectLanguage={setDefectLanguage} defectList={defectList} showFull={showFull} />\n        </div>\n      </div>\n      {alert.position === 2 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectList defects={defects} deleteDefect={deleteDefect} editMode={editMode} isCriticalDefect={isCriticalDefect} defectLanguage={defectLanguage} defectList={defectList} />\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <CheckList checkList={checkList} handleCheckItemChange={handleCheckItemChange} editMode={editMode} />\n        </div>\n      </div>\n      {alert.position === 3 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <SharePoint currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} editMode={editMode} getSharePointFiles={getSharePointFiles} setShowSharePointFiles={setShowSharePointFiles} showSharePointFiles={showSharePointFiles} setSharePointFiles={setSharePointFiles} sharePointPath={sharePointPath} createsharePointPDF={createsharePointPDF} />\n          <ShowSpinner position={3} />\n        </div>\n      </div>\n\n      {alert.position === 4 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ShowSharePointFiles sharePointFiles={sharePointFiles} downloadSharePointFile={downloadSharePointFile} showSharePointFiles={showSharePointFiles} convertToLocal={convertToLocal} editMode={editMode} handleDeleteSPfile={handleDeleteSPfile} />\n        </div>\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        {/* <div className={\"flex-row  hideSection\"}> */}\n        <div className=\"flex-large \">\n          <UploadForm setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setUploads={setUploads} uploads={uploads} downloadDoc={downloadDoc} editMode={editMode} currentSU={currentSU} currentMF={currentMF} setShowSharePointFiles={setShowSharePointFiles} sharePointPath={sharePointPath} inspectionDate={inspectionDate} />\n        </div>\n\n        {/* <div className=\"flex-large\">\n          <PhotoBlock uploadTable={uploads} downloadDoc={downloadDoc} currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} />\n        </div> */}\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ChangeTrack updateHistory={updateHistory} showHistory={showHistory} setShowHistory={setShowHistory} convertToLocal={convertToLocal} />\n        </div>\n      </div>\n      <div>&nbsp;</div>\n      <div>&nbsp;</div>\n    </Fragment>\n  )\n}\nexport default App\n","import React from \"react\"\r\n\r\nconst Home = props => {\r\n  const { env } = props\r\n\r\n  return (\r\n    <div className=\"welcome\">\r\n      <div>\r\n        {/* <img src=\"static/img/frontpageMap.jpg\" aria-hidden alt=\"MMG Inspection Map\"  />                 */}\r\n        {env === \"DEV\" ? <iframe src=\"http://localhost:5000/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe> : <iframe src=\"https://mmgapp2.herokuapp.com/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home\r\n","import { React, useState, useEffect, Fragment } from \"react\"\r\nimport axios from \"axios\"\r\n//import { Spinner } from \"./components/Spinner\"\r\nimport { trackPromise } from \"react-promise-tracker\"\r\nimport ShowSpinner from \"./components/ShowSpinner\"\r\n\r\nconst About = props => {\r\n  //const { setItems, items, setDisplayAlert, mcTable, addMC, editMode, currentSU, currentMF } = props\r\n\r\n  const [result, setResult] = useState([])\r\n\r\n  function sortInspectionDate(_result) {\r\n    _result.sort(function (a, b) {\r\n      // note : must change the string back to date object for comparison\r\n      if (Date.parse(a[\"main\"].inspection_date) > Date.parse(b[\"main\"].inspection_date)) return -1\r\n      else return 1\r\n    })\r\n\r\n    return _result\r\n  }\r\n\r\n  useEffect(() => {\r\n    trackPromise(\r\n      axios({\r\n        url: \"/api/pastXdaysResult\",\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          api: \"yes\"\r\n        }\r\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\r\n      })\r\n        .then(response => response.data)\r\n        .then(response => {\r\n          const _result = sortInspectionDate(response)\r\n          setResult(_result)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        }),\r\n      \"pastInspection\"\r\n    )\r\n    return () => {\r\n      setResult({}) // This worked for me\r\n    }\r\n  }, [])\r\n\r\n  // convert to local time\r\n  function convertToLocalDate(date) {\r\n    //const t = new Date(date).toTimeString()\r\n    //return d + \" \" + t\r\n    const d = new Date(date).toDateString()\r\n    return d\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"xDaysResult\">\r\n        {result.length > 0 ? (\r\n          <div className=\"xDaysResult_gridHeader\">\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection Date</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Supplier</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Manufacturer</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection ID</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Result</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\"></div>\r\n          </div>\r\n        ) : null}\r\n\r\n        {result.length > 0\r\n          ? result.map(item => (\r\n              <div key={item.id} className=\"xDaysResult_gridDetail\">\r\n                <div className=\"xDaysResult_gridItem\">{convertToLocalDate(item[\"main\"].inspection_date)}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].su_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].mf_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"_id\"].mc + \"-\" + item[\"_id\"].iteration + \"-\" + item[\"_id\"].type} </div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"misc\"].final_result}</div>\r\n                <div></div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n      {/* <Spinner area=\"pastInspection\" /> */}\r\n      <ShowSpinner position={10} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default About\r\n","//import React, { useState, Fragment } from \"react\"\nimport React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { userProfile } = props\n  return (\n    <Fragment>\n      <div className=\"userProfile\">\n        <div className=\"userProfile_title\">\n          <div>\n            <img src=\"static/img/macys-header.jpg\" aria-hidden alt=\"\" width=\"30\" height=\"30\" />\n          </div>\n          <div>MMG Inspection App</div>\n        </div>\n        <div className=\"userProfile_personal\">\n          <div className=\"userProfile_name\">{userProfile.first_name ? \"Hi, \" + userProfile.first_name : null} </div>\n          <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>}</div>\n        </div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import { Route, Routes, HashRouter as Router, Link } from \"react-router-dom\"\nimport React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport AppInspection from \"./AppInspection\"\nimport Home from \"./Home\"\nimport XDaysResult from \"./XDaysResult\"\nimport UserProfile from \"./components/UserProfile\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst logout = () => {\n  localStorage.clear()\n  window.location = \"/logout\"\n}\n\nconst gotoPowerBI = () => {\n  const url = \"https://app.powerbi.com/reportEmbed?reportId=f0a7cd56-e22b-490a-9ad7-012d4a0d5251&autoAuth=true&filterPanelEnabled=False&pageName=ReportSectionf1be12cf083e1c0eba15\"\n\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  if (newWindow) newWindow.opener = null\n}\n\nconst App = () => {\n  const [userProfile, setUserProfile] = useState({})\n\n  useEffect(() => {\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    )\n  }, [])\n\n  return (\n    <div className=\"container app_container\">\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <UserProfile userProfile={userProfile} />\n          <Router>\n            <nav>\n              <ul className=\"app_header\">\n                <li>\n                  <Link to=\"/\" className=\"link\">\n                    Home\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/appInspection\" className=\"link\">\n                    Inspection\n                  </Link>\n                </li>\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li>\n                    <Link to=\"/xDaysResult\" className=\"link\">\n                      Past Inspection Results\n                    </Link>\n                  </li>\n                ) : null}\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li\n                    className=\"link\"\n                    onClick={() => {\n                      gotoPowerBI()\n                    }}\n                  >\n                    Power BI\n                  </li>\n                ) : null}\n\n                <button\n                  className=\"fa fa-sign-out\"\n                  onClick={() => {\n                    logout()\n                  }}\n                >\n                  Logout\n                </button>\n                {/* <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>} </div>*/}\n              </ul>\n            </nav>\n\n            <Routes>\n              <Route path=\"/\" element={<Home env={userProfile.environment} />} />\n              <Route path=\"/appInspection\" element={<AppInspection />} />\n              <Route path=\"/xDaysResult\" element={<XDaysResult />} />\n            </Routes>\n          </Router>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./css/main.css\"\nimport \"./css/index.css\"\nimport \"./css/defectList.css\"\nimport \"./css/defectOptions.css\"\nimport \"./css/checkList.css\"\nimport \"./css/uploadDoc.css\"\nimport \"./css/photoBlock.css\"\nimport \"./css/searchKey.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/mainMenu.css\"\nimport \"./css/searchedMC.css\"\nimport \"./css/userProfile.css\"\nimport \"./css/supplierInfo.css\"\nimport \"./css/itemTable.css\"\nimport \"./css/itemTotal.css\"\nimport \"./css/misc.css\"\nimport \"./css/mfrSelection.css\"\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport \"./css/result.css\"\nimport \"./css/changeTrack.css\"\nimport \"./css/sharePoint.css\"\nimport \"./css/showSharePointFiles.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/app.css\"\nimport \"./css/xDaysResult.css\"\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}