{"version":3,"sources":["components/ItemTable.js","components/ItemTotal.js","components/DefectOptions.js","components/DefectList.js","components/ShowAlert.js","components/CheckList.js","components/UploadForm.js","components/Spinner.js","components/SearchKey.js","components/MainMenu.js","components/SearchedMC.js","components/SupplierInfo.js","components/MfrSelection.js","components/Misc.js","components/Result.js","components/ChangeTrack.js","components/SharePoint.js","components/ShowSharePointFiles.js","components/ShowSpinner.js","AppInspection.js","Home.js","XDaysResult.js","components/UserProfile.js","App.js","index.js"],"names":["ItemTable","props","useEffect","listener","event","code","preventDefault","document","getElementById","click","addEventListener","removeEventListener","setItems","items","setDisplayAlert","mcTable","addMC","editMode","currentSU","currentMF","sortTable","sort","order","newItems","a","b","mc_no","item_no","useState","mc","setMC","handleInputChange","value","target","displayAlert","message","position","timeout","color","className","type","id","name","justify","placeholder","onChange","readOnly","onClick","found","find","x","duplicate","sameMF","su_no","mf_no","undefined","validateMC","align","length","map","item","order_qty","ItemTotal","setItemSearchString","itemsTotal","shippedTotal","sampleTotal","getSampleSize","aqlTable","setItemsTotal","setShippedTotal","setSampleTotal","inspectTotal","setInspectTotal","setAqlSampleTotal","aqlSampleTotal","undoTable","resetInspectQty","el","_total","_shippedTotal","reduce","accumulator","currentValue","parseInt","ship_qty","_sampleTotal","_inspectTotal","inspect_qty","i","_sample_qty","sample_qty","handleInspectQty","newItemsTotal","index","findIndex","r","newEntry","onInput","e","toUpperCase","deleteAllItems","DefectOptions","defects","setDefectLanguage","defectLanguage","defectList","showFull","currentProduct","setCurrentProduct","currentDefectArea","setCurrentDefectArea","currentDefectDetail","setCurrentDefectDetail","currentMajor","setCurrentMajor","currentMinor","setCurrentMinor","currentDefectAreaCode","setCurrentDefectAreaCode","currentDefectDetailCode","setCurrentDefectDetailCode","optionListDefect","setOptionListDefect","sortByDefect","buildOptDefectList","optDefectList","filter","product","lang","optDefectList2","currentDefectCode","nextDefectCode","defect_code","defect_area","push","addSpace","s","concat","disabled","area_array","split","y","detail_array","defect_detail_code","defect_detail","min","max","major_int","isNaN","minor_int","addToDefectList","handleAddDefect","DefectList","isCriticalDefect","defect_lang","area_code","detail","defect_area_code","defect_detail_area","style","major","minor","deleteDefect","colSpan","ShowAlert","alert","class_var","CheckList","checkList","selected","result","nextSelected","handleCheckItemChange","onSubmit","width","category","separator","UploadForm","inspectionID","setShowSharePointFiles","sharePointPath","inspectionDate","selectedFile","setSelectedFile","multiple","file","files","formData","FormData","append","inspection_date","getMonth","getDate","getFullYear","trackPromise","axios","url","method","data","headers","inspection_id","iteration","charAt","relative_url","then","res","catch","err","error","Spinner","promiseInProgress","usePromiseTracker","area","spinnerMessage","marginTop","height","display","justifyContent","alignItems","fontWeight","SearchKey","checkDuplicateID","setInspectionID","clearScreen","searchInspByMC","handleKeyChange","MainMenu","handleSave","handleDelete","handleSearch","printReport","setEditMode","userProfile","misc","updateHistory","submitted","editable","ignore_submit","handleClick","window","confirm","SearchedMC","searchedMC","setShowSearchedMC","newSearchedMC","SupplierInfo","currentSUName","currentMFName","setSelectingSupplier","setShowFull","setMFRsearch","toLowerCase","MfrSelection","partyTable","setCurrentSU","setCurrentMF","setCurrentSUName","setCurrentMFName","selectingSupplier","mfrSearch","textTransform","SU_NAME","SU","MF","MF_NAME","search","su","mf","su_name","mf_name","Misc","setInspectionDate","setMisc","handleChange","element","yes_or_no","newMisc","product_type","lab_test_report","lab_child_safety_report","fibre_content","comments","governance_inspection","props65_report","ship_mode","pack_pct","ship_window","carton_list","carton_total","inspector","qa_type","console","log","dateFormat","date","handleDate","checked","rows","cols","Result","visualResult","calculateFinalResult","calculate_final_result","packing_result","measurement_result","param2","final_result","defective_result","sample_threshold","visual_result","ChangeTrack","showHistory","setShowHistory","convertToLocal","history","Date","parse","updated_time","root","querySelector","setProperty","line","updated_by","updated_mode","SharePoint","getSharePointFiles","showSharePointFiles","setSharePointFiles","createsharePointPDF","src","alt","getTime","newWindow","open","opener","handleClick_view","ShowSharePointFiles","sharePointFiles","downloadSharePointFile","handleDeleteSPfile","ext","isSupportPicExt","filename","includes","editor","last_editor","modified","size","folder","unique_id","ShowSpinner","App","showSearchedMC","setDefects","setAlert","setMCTable","setCheckList","uploads","setUploads","setUserProfile","setSearchedMC","itemSearchString","setPartyTable","mfList","setMfList","setAqlTable","main","setMain","setVisualResult","constructTotal","setConstructTotal","setUpdateHistory","checkListTemplate","setCheckListTemplate","setDefectList","criticalDefects","setCriticalDefects","setSharePointPath","_aql","aql","size_start","size_end","sampleQty","Math","round","userAgent","navigator","test","api","response","fetch","json","j","scroll_y","getElementsByClassName","len","first_found","backgroundColor","firstElementChild","innerHTML","scrollTo","scrollHeight","scrollBy","getElementsByName","children","items1","obj","items2","prev","next","items3","Object","keys","sampleSize","inspectQty","sampleThreshold","defectiveResult","sampleThresholdMajor","sampleThresholdMinor","total_major","total_minor","total_critical","critical","toString","floor","handleSupplierInfo","uuidv4","fillCheckList","setTimeout","JSON","stringify","_id","localStorage","setItem","status","location","delay","ms","Promise","handleSessionTimeOut","defect","t","toTimeString","local","toDateString","local_end","substring","newCheckList","file_name","draft","blob","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","parentNode","removeChild","deleteItem","getItem","defect_language","change","file_url","downloadDoc","Home","env","title","border","About","setResult","_result","sortInspectionDate","first_name","email","UserProfile","to","gotoPowerBI","clear","path","environment","AppInspection","XDaysResult","ReactDOM","render"],"mappings":"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","file":"static/js/main.387935f8.chunk.js","sourcesContent":["import { React, useState, useEffect } from \"react\"\n\nconst ItemTable = props => {\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"itemTable_MCBtn\").click()\n      }\n    }\n\n    if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").addEventListener(\"keydown\", listener)\n\n    return () => {\n      if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").removeEventListener(\"keydown\", listener)\n    }\n  }, [])\n\n  const { setItems, items, setDisplayAlert, mcTable, addMC, editMode, currentSU, currentMF } = props\n\n  const sortTable = (sort, order) => {\n    const newItems = [...items]\n    /*table = document.getElementById(\"itemTable\") */\n    if (sort === 0 && order === \"asc\") {\n      newItems.sort(function (a, b) {\n        return a.mc_no > b.mc_no ? 1 : -1\n      })\n    } else if (sort === 0 && order === \"desc\") {\n      newItems.sort(function (a, b) {\n        return a.mc_no < b.mc_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"asc\") {\n      newItems.sort(function (a, b) {\n        return a.item_no > b.item_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"desc\") {\n      newItems.sort(function (a, b) {\n        return a.item_no < b.item_no ? 1 : -1\n      })\n    }\n    setItems(newItems)\n  }\n\n  //* add new MC\n\n  const [mc, setMC] = useState(\"\")\n\n  const handleInputChange = event => {\n    const value = event.target.value\n    setMC(value)\n  }\n\n  const validateMC = () => {\n    //event.preventDefault()\n\n    const found = mcTable.find(x => x.mc_no === mc)\n    const duplicate = items.find(x => x.mc_no === mc)\n    const sameMF = mcTable.find(x => x.mc_no === mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else if (duplicate === undefined) {\n      addMC(mc)\n    } else {\n      displayAlert(\"MC was already entered in the item list, please check ! \")\n    }\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 1, timeout: 1500, color: \"alert__red\" })\n  }\n\n  return (\n    <div>\n      <div className=\"itemTable_Section\">\n        <div>Add MC:</div>\n        &nbsp;\n        <div>{editMode ? <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Additional MC here\" onChange={handleInputChange} /> : <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Include additional MC here\" readOnly onChange={handleInputChange} />}</div>\n        &nbsp;&nbsp;\n        <div>\n          {editMode ? (\n            <i\n              id=\"itemTable_MCBtn\"\n              className=\"fa fa-plus clickable\"\n              onClick={() => {\n                validateMC(mc)\n              }}\n            ></i>\n          ) : null}\n        </div>\n      </div>\n      <div className=\"itemTable_Header\">\n        <div>\n          By MC#&nbsp;\n          <i\n            className=\"fa fa-chevron-circle-up clickable\"\n            onClick={() => {\n              sortTable(0, \"asc\")\n            }}\n          ></i>\n          &nbsp;\n          <i\n            className=\"fa fa-chevron-circle-down clickable\"\n            onClick={() => {\n              sortTable(0, \"desc\")\n            }}\n          ></i>\n        </div>\n        <div>\n          Item&nbsp;\n          <i\n            className=\"fa fa-chevron-circle-up clickable\"\n            onClick={() => {\n              sortTable(1, \"asc\")\n            }}\n          ></i>\n          &nbsp;\n          <i\n            className=\"fa fa-chevron-circle-down clickable\"\n            onClick={() => {\n              sortTable(1, \"desc\")\n            }}\n          ></i>\n        </div>\n        <div align=\"center\">Order</div>\n        <div></div>\n      </div>\n\n      <div id=\"itemTableScroller\" className=\"itemTable_GridContainer\">\n        {items.length > 0\n          ? items.map(item => (\n              <div key={item.id} className=\"itemTable_Detail\">\n                <div>{item.mc_no}</div>\n                <div>{item.item_no}</div>\n                <div align=\"center\">{item.order_qty}</div>\n              </div>\n            ))\n          : null}\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTable\n","import { React, useEffect } from \"react\"\n\nconst ItemTotal = props => {\n  const { setItemSearchString, itemsTotal, editMode, shippedTotal, sampleTotal, getSampleSize, aqlTable, setItemsTotal, setShippedTotal, setSampleTotal, inspectTotal, setInspectTotal, setAqlSampleTotal, aqlSampleTotal, undoTable, resetInspectQty, setDisplayAlert } = props\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"highLightItemBtn\").click()\n      }\n    }\n    var el = document.getElementById(\"itemTotal_searchString\")\n\n    if (el) {\n      el.addEventListener(\"keydown\", listener)\n      return () => {\n        el.removeEventListener(\"keydown\", listener)\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n    const _total = [...itemsTotal]\n    if (_total.length === 0) {\n      setShippedTotal(0)\n      setSampleTotal(0)\n    } else {\n      for (var i = 0; i < _total.length; i++) {\n        const reducer1 = (accumulator, currentValue) => accumulator + parseInt(currentValue.ship_qty)\n        const _shippedTotal = _total.reduce(reducer1, 0)\n        setShippedTotal(_shippedTotal)\n\n        // calculate total number of samples\n        const reducer2 = (accumulator, currentValue) => accumulator + getSampleSize(aqlTable, currentValue.ship_qty, _shippedTotal)\n        const _sampleTotal = _total.reduce(reducer2, 0)\n        setSampleTotal(_sampleTotal)\n\n        // calculate total number of inspection qty\n        const reducer3 = (accumulator, currentValue) => accumulator + parseInt(currentValue.inspect_qty)\n        const _inspectTotal = _total.reduce(reducer3, 0)\n        setInspectTotal(_inspectTotal)\n\n        // calculate AQL sample size\n        setAqlSampleTotal(getSampleSize(aqlTable, shippedTotal, _shippedTotal))\n      }\n    }\n  }, [itemsTotal, shippedTotal, sampleTotal, aqlTable, setSampleTotal, setShippedTotal, getSampleSize, inspectTotal, setInspectTotal, setAqlSampleTotal])\n\n  useEffect(() => {\n    const _total = [...itemsTotal]\n    for (var i = 0; i < _total.length; i++) {\n      const _sample_qty = getSampleSize(aqlTable, _total[i].ship_qty, shippedTotal)\n      _total[i].sample_qty = _sample_qty\n      //_total[i].inspect_qty = _sample_qty\n    }\n    setItemsTotal(_total)\n\n    // eslint-disable-next-line\n  }, [shippedTotal])\n\n  const handleShipQty = item_no => event => {\n    let value = event.target.value\n    if (value === \"\") {\n      return\n    }\n    if (value > 20000) {\n      value = 20000\n      setDisplayAlert({ message: \"Number of ship units is too large!\", position: 1, timeout: 3000, color: \"alert__red\" })\n    }\n\n    const newItemsTotal = [...itemsTotal]\n    const index = newItemsTotal.findIndex(r => r.item_no === item_no)\n    const newEntry = newItemsTotal.find(r => r.item_no === item_no)\n    newItemsTotal[index] = { ...newEntry, ship_qty: value }\n    setItemsTotal(newItemsTotal)\n  }\n\n  const handleInspectQty = item_no => event => {\n    let value = event.target.value\n    const newItemsTotal = [...itemsTotal]\n    const index = newItemsTotal.findIndex(r => r.item_no === item_no)\n    const newEntry = newItemsTotal.find(r => r.item_no === item_no)\n    newItemsTotal[index] = { ...newEntry, inspect_qty: value }\n    setItemsTotal(newItemsTotal)\n  }\n\n  return (\n    // present the table\n\n    <div>\n      <div className=\"itemTotal_Section\">\n        <div>Highlight item :</div>\n\n        <div>\n          <input type=\"text\" name=\"itemTotal_searchString\" id=\"itemTotal_searchString\" justify=\"left\" onInput={e => (e.target.value = (\"\" + e.target.value).toUpperCase())} placeholder=\"Enter item here\" />\n        </div>\n\n        <div>\n          <i\n            className=\"fa fa-search clickable\"\n            id=\"highLightItemBtn\"\n            onClick={() => {\n              setItemSearchString(document.getElementById(\"itemTotal_searchString\").value)\n            }}\n          ></i>\n        </div>\n\n        <div>\n          Refresh Qty.&nbsp;\n          <i\n            className=\"fa fa-angle-double-right itemTotal_arrow_color clickable\"\n            onClick={() => {\n              resetInspectQty()\n            }}\n          ></i>\n          <i\n            className=\"fa fa-angle-double-right  itemTotal_arrow_color clickable\"\n            onClick={() => {\n              resetInspectQty()\n            }}\n          ></i>\n        </div>\n\n        <div>\n          Undo\n          <i\n            className=\"fa fa-undo clickable\"\n            onClick={() => {\n              undoTable()\n            }}\n          ></i>\n        </div>\n      </div>\n\n      <div className=\"itemTotal_Header\">\n        <div>By Item</div>\n        <div>Ship</div>\n        <div>Sample</div>\n        <div>Inspect</div>\n        <div>Delete</div>\n      </div>\n\n      <div id=\"scroller\" className=\"itemTotal_GridContainer\">\n        {itemsTotal\n          ? itemsTotal.map(item => (\n              <div key={item.item_no} className=\"itemTotal_Detail\">\n                <div>{item.item_no}</div>\n                <div>\n                  <input type=\"text\" id=\"itemTotal_shipQty\" name=\"itemTotal_shipQty\" value={item.ship_qty || \"\"} justify=\"left\" onChange={handleShipQty(item.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                </div>\n                <div>{getSampleSize(aqlTable, item.ship_qty, shippedTotal)}</div>\n                <div>\n                  <input type=\"text\" id=\"itemTotal_InspectQty\" name=\"itemTotal_InspectQty\" value={item.inspect_qty || \"\"} justify=\"left\" placeholder=\"\" onChange={handleInspectQty(item.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                </div>\n                <div>\n                  {editMode ? (\n                    <i\n                      className=\"fa fa-times clickable\"\n                      onClick={() => {\n                        props.deleteAllItems(item.item_no)\n                      }}\n                    ></i>\n                  ) : null}\n                </div>\n              </div>\n            ))\n          : null}\n      </div>\n\n      <div className=\"itemTotal_Total\">\n        <div> Total :</div>\n        <div>{shippedTotal}</div>\n        <div>{aqlSampleTotal}</div>\n        <div className={aqlSampleTotal !== inspectTotal ? \"highlightSection\" : null}>{inspectTotal}</div>\n        <div></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTotal\n","import React, { useState, Fragment, useEffect } from \"react\"\n\nconst DefectOptions = props => {\n  // remove columns : mc_no and id in prepration for calculating total by item#\n  const { editMode, defects, setDisplayAlert, setDefectLanguage, defectLanguage, defectList, showFull } = props\n\n  const [currentProduct, setCurrentProduct] = useState(\"Select\")\n  const [currentDefectArea, setCurrentDefectArea] = useState(\"\")\n  const [currentDefectDetail, setCurrentDefectDetail] = useState(\"\")\n  const [currentMajor, setCurrentMajor] = useState(\"\")\n  const [currentMinor, setCurrentMinor] = useState(\"\")\n  const [currentDefectAreaCode, setCurrentDefectAreaCode] = useState(\"\")\n  const [currentDefectDetailCode, setCurrentDefectDetailCode] = useState(\"\")\n\n  const [optionListDefect, setOptionListDefect] = useState([])\n\n  useEffect(() => {\n    if (!showFull) {\n      setCurrentDefectArea(\"\")\n      setCurrentDefectAreaCode(\"\")\n    }\n  }, [showFull])\n\n  //  prepare for the defect selection - need to associate based on each specific product and then its associted defect.\n  //  Trying to shortlist the defect code based on product\n  function sortByDefect(a, b) {\n    if (a[\"defect_code\"] === b[\"defect_code\"]) {\n      return 0\n    } else {\n      return a[\"defect_code\"] < b[\"defect_code\"] ? -1 : 1\n    }\n  }\n  //\n  const buildOptDefectList = (value, defectLanguage) => {\n    const optDefectList = defectList.filter(x => x.product === value && x.lang === defectLanguage)\n    var optDefectList2 = []\n    var currentDefectCode = \"\"\n    for (let i = 0; i < optDefectList.length; i++) {\n      const nextDefectCode = { product: optDefectList[i][\"product\"], defect_code: optDefectList[i][\"defect_code\"], defect_area: optDefectList[i][\"defect_area\"], lang: optDefectList[i][\"lang\"], id: optDefectList[i][\"id\"] }\n      if (currentDefectCode !== nextDefectCode) {\n        currentDefectCode = nextDefectCode\n        const found = optDefectList2.filter(x => x.product === nextDefectCode.product && x.defect_code === nextDefectCode.defect_code)\n        if (found.length === 0) optDefectList2.push(currentDefectCode)\n      }\n    }\n    if (optDefectList2.length > 0) {\n      optDefectList2.sort(sortByDefect)\n      setOptionListDefect(optDefectList2)\n    }\n  }\n\n  function addSpace(s) {\n    if (s.length === 1) {\n      s = s.concat(\" \")\n    }\n    return s\n  }\n\n  function sortByDefectDetail(a, b) {\n    if (addSpace(a[\"defect_code\"]) + a[\"defect_detail_code\"] === addSpace(b[\"defect_code\"]) + b[\"defect_detail_code\"]) {\n      return 0\n    } else {\n      return addSpace(a[\"defect_code\"]) + a[\"defect_detail_code\"] < addSpace(b[\"defect_code\"]) + b[\"defect_detail_code\"] ? -1 : 1\n    }\n  }\n\n  if (defectList.length > 0) {\n    defectList.sort(sortByDefectDetail)\n  }\n\n  const handleSelectChangeProduct = event => {\n    const { value } = event.target\n    if (disableProductSelect() === \"disabled\") {\n      if (value !== defects[0].product) {\n        setDisplayAlert({ message: \"Product '\" + defects[0].product + \"' has already been chosen !! Please empty all defects if you decide to change product ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n      }\n      document.getElementById(\"defectOptionsProduct\").value = defects[0].product\n      document.getElementById(\"defectOptionsDefectArea\").value = \"Select\"\n      setCurrentProduct(defects[0].product)\n    } else {\n      setCurrentProduct(value)\n    }\n\n    buildOptDefectList(value, defectLanguage)\n\n    setCurrentDefectArea(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n    setCurrentDefectAreaCode(\"\")\n    setCurrentDefectDetailCode(\"\")\n  }\n\n  function disableProductSelect() {\n    if (defects.length > 0) {\n      return \"disabled\"\n    } else return null\n  }\n\n  const handleSelectChangeDefect = event => {\n    const { value } = event.target\n    const area_array = value.split(\"-\")\n    setCurrentDefectAreaCode(area_array[0])\n    setCurrentDefectArea(area_array[1])\n    setCurrentDefectDetail(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleSelectChangeDefectDetail = event => {\n    const { value } = event.target\n    const detail_array = value.split(\"-\")\n    setCurrentDefectDetailCode(detail_array[0])\n    setCurrentDefectDetail(detail_array[1])\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleCurrentMajorChange = event => {\n    const { value } = event.target\n    setCurrentMajor(value)\n  }\n\n  const handleCurrentMinorChange = event => {\n    const { value } = event.target\n    setCurrentMinor(value)\n  }\n\n  const handleChangeDefectLanguage = event => {\n    const { value } = event.target\n    if (defects.length > 0) {\n      setDefectLanguage(value)\n      //setDisplayAlert({ message: \"Language has already been chosen !! Please empty all defects if you decide to change language ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else {\n      setDefectLanguage(value)\n    }\n    buildOptDefectList(currentProduct, value)\n  }\n\n  const handleAddDefect = event => {\n    //event.preventDefault()\n    const major_int = isNaN(parseInt(currentMajor)) // check if empty, return true if empty\n    const minor_int = isNaN(parseInt(currentMinor)) // check if empty, return true if empty\n\n    if (currentProduct === \"Select\" || currentDefectArea === \"Select\" || currentDefectDetail === \"Select\") {\n      props.setDisplayAlert({ message: \"Please make sure you select Product, Defect and Defect Detail ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else if (major_int || minor_int || (currentMajor < 1 && currentMinor < 1)) {\n      props.setDisplayAlert({ message: \"Please make sure you enter either Major and Minor quantity ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else {\n      props.addToDefectList(currentProduct, currentDefectArea, currentDefectDetail, currentMajor, currentMinor, currentDefectAreaCode, currentDefectDetailCode, defectLanguage)\n    }\n  }\n\n  return (\n    // present the table\n\n    <Fragment>\n      <div className=\"defectOption_header\">\n        <div>Language</div>\n        <div>&nbsp;&nbsp;&nbsp;&nbsp;</div>\n        <div>\n          <select className=\"defectOption_language  clickable\" onChange={handleChangeDefectLanguage} value={defectLanguage}>\n            <option value=\"en\">English</option>\n            <option value=\"zh\">Chinese</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"defectOption\">\n        <div className=\"defectOption_product\">\n          <select onChange={handleSelectChangeProduct} id=\"defectOptionsProduct\" className=\"clickable\">\n            {/* <option disabled={disableProductSelect()}  value=\"Select\">Select</option> */}\n            <option value=\"Select\">Select</option>\n            <option value=\"Fashion Jewelry\" disabled={editMode ? \"\" : \"disabled\"}>\n              Fashion Jewelry\n            </option>\n            <option value=\"Footwear\" disabled={editMode ? \"\" : \"disabled\"}>\n              Footware\n            </option>\n            <option value=\"Handbags\" disabled={editMode ? \"\" : \"disabled\"}>\n              Handbags\n            </option>\n            <option value=\"Hardlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Hardlines\n            </option>\n            <option value=\"Softlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Softlines\n            </option>\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectArea\">\n          <select onChange={handleSelectChangeDefect} id=\"defectOptionsDefectArea\" className=\"clickable\" value={currentDefectAreaCode + \"-\" + currentDefectArea}>\n            <option value=\"Select\">Select</option>\n            {optionListDefect\n              .filter(y => y.product === currentProduct && y.lang === defectLanguage)\n              .map(x => (\n                <option key={x.id} value={x.defect_code + \"-\" + x.defect_area} disabled={editMode ? \"\" : \"disabled\"}>\n                  {x.defect_code + \"-\" + x.defect_area}\n                </option>\n              ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectDetail\">\n          <select onChange={handleSelectChangeDefectDetail} className=\"clickable\">\n            <option value=\"Select\">Select</option>\n            {defectList\n              .filter(y => y.product === currentProduct && y.defect_code === currentDefectAreaCode && y.lang === defectLanguage)\n              .map(x => (\n                <option key={x.id} value={x.defect_detail_code + \"-\" + x.defect_detail} disabled={editMode ? \"\" : \"disabled\"}>\n                  {x.defect_detail_code + \"-\" + x.defect_detail}\n                </option>\n              ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_major\">\n          <input type=\"number\" name=\"major\" placeholder=\" Major\" value={currentMajor} min=\"0\" max=\"5\" onChange={handleCurrentMajorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div className=\"defectOption_minor\">\n          <input type=\"number\" name=\"minor\" placeholder=\" Minor\" value={currentMinor} min=\"0\" max=\"5\" onChange={handleCurrentMinorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div>\n          {editMode ? (\n            <button\n              onClick={() => {\n                handleAddDefect()\n              }}\n            >\n              Add\n            </button>\n          ) : null}\n        </div>\n        <div></div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectOptions\n","import React, { Fragment } from \"react\"\n\nconst DefectList = props => {\n  const { defects, editMode, isCriticalDefect, defectLanguage, defectList }   = props\n\n  function defect_lang(product, area_code, detail) {\n      //console.log(\"input\", product, area_code, detail)\n      const defect = defectList.filter(x => x.product === product && x.defect_code === area_code && x.defect_detail_code === detail  && x.lang === defectLanguage)      \n      return defect[0]\n  }\n\n  return (\n    // present the table\n    // adding span below appends ... to the off-limit text\n    <Fragment>\n      <div className=\"defectList\">\n        <div className=\"defectList_gridHeader\">\n          <div>Product</div>\n          <div>Defect</div>\n          <div>Defect Detail</div>\n          <div className=\"defectList_major_header\">\n            Major/<br></br>Critical\n          </div>\n          <div className=\"defectList_minor_header\">Minor</div>\n          <div>Delete</div>\n        </div>\n\n        {defects.length > 0 ? (\n          defects.map(x => (\n            <div className=\"defectList_gridDetail\" key={x.id}>\n              <div className=\"defectList_gridItem defectList_product\">{x.product}</div>\n              <div className=\"defectList_gridItem defectList_defectArea\">{x.defect_area_code + \"-\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_area}</div>\n              <div className=\"defectList_gridItem  defectList_defectDetail\" style={{ color: isCriticalDefect(x.product, x.defect_detail_area) ? \"red\" : \"inherit\" }}>\n                <span>{x.defect_detail_area + \"-\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_detail}</span>\n              </div>\n              <div className=\"defectList_major\">{x.major}</div>\n              <div className=\"defectList_minor\">{x.minor}</div>\n              <div className=\"defectList_deleteButton\">\n                {editMode ? (\n                  <button\n                    onClick={() => {\n                      props.deleteDefect(x.id)\n                    }}\n                  >\n                    &times;\n                  </button>\n                ) : null}\n              </div>\n              <div></div>\n            </div>\n          ))\n        ) : (\n          <div>\n            <div colSpan={3}>No Defects</div>\n          </div>\n        )}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectList\n","import React from \"react\"\n\nconst ShowAlert = props => {\n  const alert = props.alert\n  const class_var = \"alert \".concat(alert.color)\n\n  return (\n    // present the table\n    <h5 className={class_var}>{alert.message}</h5>\n  )\n}\nexport default ShowAlert\n","import React from \"react\"\n\nconst CheckList = props => {\n  const { editMode, checkList } = props\n\n  checkList.sort((a, b) => a.id - b.id) // must sort to present in order...\n\n  const handleInputChange = (id, x) => {\n    var selected = []\n    if (editMode) {\n      if (id === 88) {\n        // Further Comments\n        selected = [\"Select\", \"Yes\", \"No\", \"Select\"]\n      } else {\n        selected = [\"Select\", \"OK\", \"NA\", \"X\", \"NI\"]\n      }\n\n      let index = selected.findIndex(y => y === x.result)\n      if (index === 4) {\n        index = 1\n      } else {\n        index = index + 1\n      }\n      const nextSelected = selected[index]\n      props.handleCheckItemChange(id, { ...x, result: nextSelected })\n    }\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault() //  props.updateItem(item.id, item)\n      }}\n    >\n      <div className=\"checkList_header\">Basic Check List</div>\n      <div className=\"checkFormGrid\">\n        <div>\n          <table id=\"checkListTable\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id > 0 && y.id <= 42)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 43 && y.id <= 68)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 81)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            // bgcolor=\"white\"\n                            className=\"clickable checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </form>\n  )\n}\n\nexport default CheckList\n","import React, { Fragment, useState } from \"react\"\nimport axios from \"axios\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst UploadForm = props => {\n  const { setDisplayAlert, inspectionID, editMode, currentSU, currentMF, setShowSharePointFiles, sharePointPath, inspectionDate } = props\n  const [selectedFile, setSelectedFile] = useState()\n\n  const handleFile = event => {\n    setSelectedFile({ file: event.target.files })\n  }\n\n  const handleUpload = event => {\n    //event.preventDefault()\n\n    //displayAlert('Do not hit \"UPLOAD\" button again ! Upload in progress')\n\n    const formData = new FormData()\n\n    try {\n      const files = selectedFile.file\n\n      for (let i = 0; i < files.length; i++) {\n        formData.append(`files[]`, files[i])\n        //console.log(files[i], \"hello  ---$$$\")\n      }\n\n      const inspection_date = inspectionDate.getMonth() + 1 + \"/\" + inspectionDate.getDate() + \"/\" + inspectionDate.getFullYear()\n\n      trackPromise(\n        axios({\n          url: \"/api/upload\",\n          method: \"POST\",\n          data: formData,\n          headers: {\n            inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type.charAt(0),\n            //relative_url: \"2022InspRpt/SU\" + currentSU + \"MF\" + currentMF\n            relative_url: sharePointPath.concat(\"/\", \"SU\", currentSU, \"MF\", currentMF),\n            inspection_date: inspection_date\n          }\n        })\n          .then(res => {\n            for (var i = 0; i < res.data.length; i++) {\n              //const _id = res.data[i]._id\n              //const inspection_id = inspectionID\n              //const file_name = res.data[i].file_name\n              //const mime_type = res.data[i].mime_type\n              setShowSharePointFiles(true)\n            }\n            document.getElementById(\"sharePoint_file\").value = null\n            document.getElementById(\"sharePoint_refresh\").click()\n          })\n          .catch(err => {\n            // if (err.response.status === 413) {\n            //   console.log(err.response.data)\n            //   displayAlert(err.response.data)\n            // }\n            displayAlert(\"Your total size of upload cannot exceed 3MB\")\n          }),\n        \"sharePointUpload\"\n      )\n    } catch (error) {\n      displayAlert(\"Please select files and try again !!\")\n    }\n  }\n\n  // function getExtension(file_name) {\n  //   var parts = file_name.split(\".\")\n  //   return parts[parts.length - 1]\n  // }\n\n  // function showMimeIcon(file_name) {\n  //   const iconTypes = [\n  //     { ext: \"jpeg\", icon: \"file-image-o\" },\n  //     { ext: \"jpg\", icon: \"file-image-o\" },\n  //     { ext: \"bmp\", icon: \"file-image-o\" },\n  //     { ext: \"png\", icon: \"file-image-o\" },\n  //     { ext: \"jif\", icon: \"file-image-o\" },\n  //     { ext: \"mp4\", icon: \"file-movie-o\" },\n  //     { ext: \"avi\", icon: \"file-movie-o\" },\n  //     { ext: \"mpg\", icon: \"file-movie-o\" },\n  //     { ext: \"txt\", icon: \"file-text-o\" },\n  //     { ext: \"xlsx\", icon: \"file-excel-o\" },\n  //     { ext: \"xls\", icon: \"file-excel-o\" },\n  //     { ext: \"doc\", icon: \"file-word-o\" },\n  //     { ext: \"docx\", icon: \"file-word-o\" },\n  //     { ext: \"ppt\", icon: \"file-powepoint-o\" },\n  //     { ext: \"pdf\", icon: \"file-pdf-o\" },\n  //     { ext: \"pptx\", icon: \"file-pdf-o\" },\n  //     { ext: \"zip\", icon: \"file-zip-o\" }\n  //   ]\n\n  //   const fileExtension = getExtension(file_name)\n  //   const iconType = iconTypes.find(x => x.ext === fileExtension.toLowerCase()).icon\n  //   const iconFont = iconType ? iconType : \"fa-fa-file\" // file type not registered\n  //   return \"fa fa-\" + iconFont + \" addSpace\"\n  // }\n\n  // const deleteUpload = id => {\n  //   const newUploadTable = [...uploads]\n  //   const index = newUploadTable.findIndex(r => r._id === id)\n  //   const uploadItem = newUploadTable.find(r => r._id === id)\n  //   newUploadTable[index] = { ...uploadItem, enable: false }\n  //   //console.log(newUploadTable)\n  //   setUploads(newUploadTable)\n  // }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 3, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"uploadDoc\">\n        {editMode ? (\n          <form>\n            <input type=\"file\" multiple name=\"file\" id=\"sharePoint_file\" onChange={handleFile} />\n            <button type=\"button\" onClick={handleUpload}>\n              Upload files\n            </button>\n          </form>\n        ) : null}\n\n        {/* <table id=\"uploadFiles\">\n          <tbody>\n            {uploads\n              .filter(y => y.enable)\n              .map(x => (\n                <tr key={x._id}>\n                  <td>\n                    <button\n                      className=\"button-delete small-button\"\n                      onClick={() => {\n                        deleteUpload(x._id)\n                      }}\n                    >\n                      &times;\n                    </button>\n                    <a href=\"/#\" onClick={downloadDoc(x._id, x.file_name)}>\n                      <i className={showMimeIcon(x.file_name)} />\n                      {x.file_name}\n                    </a>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table> */}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default UploadForm\n","import React from \"react\"\nimport { usePromiseTracker } from \"react-promise-tracker\"\nimport Loader from \"react-loader-spinner\"\n\nexport const Spinner = props => {\n  const { promiseInProgress } = usePromiseTracker({ area: props.area })\n  const { spinnerMessage } = props\n\n  return (\n    promiseInProgress && (\n      <div\n        style={{\n          marginTop: \"0.5rem\",\n          width: \"100%\",\n          height: \"30\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"green\",\n          fontWeight: \"bold\"\n        }}\n      >\n        {/* <Loader type=\"ThreeDots\" color=\"#2BAD60\" height=\"50\" width=\"100\" /> */}\n        {/* <Loader type=\"Circles\" color=\"rgba(129, 160, 250, 255)\" height=\"40\" width=\"100\" /> */}\n        {spinnerMessage}\n        <Loader type=\"Circles\" color=\"green\" height=\"30\" width=\"100\" />\n      </div>\n    )\n  )\n}\n","import React, { Fragment } from \"react\"\n//import axios from \"axios\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchKey = props => {\n  const { checkDuplicateID, mcTable, setDisplayAlert, inspectionID, setInspectionID, clearScreen, searchInspByMC, currentMF, currentSU, editMode } = props\n\n  const handleKeyChange = event => {\n    const id = event.target.id\n    const { value } = event.target\n\n    switch (id) {\n      case \"searchKey_mc\":\n        setInspectionID({ ...inspectionID, mc: value })\n        if (value.length >= 3) searchInspByMC(value)\n        // pass first few characters of MC entered\n        else clearScreen()\n        break\n      case \"searchKey_iteration\":\n        setInspectionID({ ...inspectionID, iteration: value })\n        break\n      case \"searchKey_type\":\n        setInspectionID({ ...inspectionID, type: value })\n        break\n      default:\n        break\n    }\n  }\n\n  const validateMC = id => {\n    clearScreen()\n\n    const found = mcTable.find(x => x.mc_no === id.mc)\n    const sameMF = mcTable.find(x => x.mc_no === id.mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else {\n      checkDuplicateID(id)\n    }\n  }\n\n  function isInvalidID() {\n    if (inspectionID.mc === \"\" || inspectionID.iteration === \"Select\" || inspectionID.iteration === \"\" || inspectionID.type === \"Select\") return true\n    else return false\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"searchKey\">\n        <div className=\"searchKey_pair\">\n          <label>MC# : </label>\n          <input type=\"text\" name=\"searchKey_mc\" id=\"searchKey_mc\" onChange={handleKeyChange} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Iteration : </label>\n          <input type=\"number\" name=\"searchKey_iteration\" id=\"searchKey_iteration\" placeholder=\"Iteration\" min=\"1\" max=\"9\" onChange={handleKeyChange} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Type : </label>\n          <select name=\"searchKey_type\" id=\"searchKey_type\" onChange={handleKeyChange}>\n            <option value=\"Select\">Select</option>\n            <option value=\"1st Line\">1st In-line</option>\n            <option value=\"2nd Line\">2nd In-Line</option>\n            <option value=\"3rd Line\">3rd In-Line</option>\n            <option value=\"4th Line\">4th In-Line</option>\n            <option value=\"5th Line\">5th In-Line</option>\n            <option value=\"1st Pre-final\">1st Pre-final</option>\n            <option value=\"2nd Pre-final\">2nd Pre-final</option>\n            <option value=\"Pre-Production Meeting\">Pre-Production Meeting</option>\n            <option value=\"Final\">Final</option>\n            <option value=\"Re-inspection for Failure\">Re-inspection for Failure</option>\n          </select>\n        </div>\n        <div></div>\n        {!editMode ? (\n          <div>\n            {!isInvalidID() ? (\n              <div>\n                <button\n                  onClick={() => {\n                    validateMC(inspectionID)\n                  }}\n                >\n                  Create Inspection\n                </button>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n      </div>\n      <Spinner area=\"searchKey\" />\n    </Fragment>\n  )\n}\n\nexport default SearchKey\n","import React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { handleSave, handleDelete, handleSearch, inspectionID, printReport, editMode, setEditMode, userProfile, misc, showFull, clearScreen, updateHistory } = props\n\n  const submitted = misc.submitted\n  const editable = userProfile.ignore_submit === undefined ? false : userProfile.ignore_submit\n\n  const handleClick = event => {\n    const id = event.target.id\n\n    setEditMode(false)\n\n    if (id === \"save\") {\n      submitted ? handleSave(true) : handleSave(false)\n    }\n\n    if (id === \"edit\") {\n      setEditMode(true)\n    }\n\n    if (id === \"delete\") {\n      handleDelete(inspectionID)\n    }\n    if (id === \"search\") {\n      setEditMode(false)\n      handleSearch(inspectionID)\n    }\n    if (id === \"print\") {\n      printReport(\"Inspection_Report.xlsx\", false)\n    }\n    if (id === \"print_draft\") {\n      // print draft watermark\n      printReport(\"Inspection_Report.xlsx\", true)\n    }\n\n    if (id === \"cancel\") {\n      setEditMode(false)\n      clearScreen()\n    }\n  }\n  return (\n    <Fragment>\n      <div className=\"mainMenu\">\n        <div className=\"mainMenu_inspectionKey\">\n          Inspection Key : &nbsp;&nbsp;\n          {/* {(submitted || \"\") && showFull ? <i className=\"fa fa-lock mainMenu_lock\"></i> : null} */}\n          {(submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-lock mainMenu_lock clickable\"\n              onClick={() => {\n                if (editable) {\n                  var confirm = window.confirm(\"Are you sure you want to unlock this inspeciton ? \")\n                  if (confirm === true) {\n                    handleSave(false)\n                  }\n                } else {\n                  alert(\"You have no rights to unlock this inspeciton !\")\n                }\n              }}\n            ></i>\n          ) : null}\n          {(!submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-unlock mainMenu_unlock clickable\"\n              onClick={() => {\n                var confirm = window.confirm(\"Are you sure you want to submit or lock this inspeciton ? \")\n                if (confirm === true) {\n                  handleSave(true)\n                }\n              }}\n            ></i>\n          ) : null}\n        </div>\n        {editMode || \"\" ? (\n          <button id=\"save\" onClick={handleClick}>\n            Save\n          </button>\n        ) : null}\n        {!editMode ? (\n          <button id=\"search\" onClick={handleClick}>\n            Search\n          </button>\n        ) : null}\n        {!editMode && showFull && (!submitted || editable) ? (\n          <button id=\"edit\" onClick={handleClick}>\n            Edit&nbsp;\n            {(submitted || \"\") && showFull ? <i className=\"fa fa-lock\"></i> : null}\n          </button>\n        ) : null}\n        {editMode ? (\n          <button id=\"cancel\" onClick={handleClick}>\n            Cancel\n          </button>\n        ) : null}\n        {!editMode && submitted ? (\n          <button id=\"print\" onClick={handleClick}>\n            Print\n          </button>\n        ) : null}\n        {!editMode && !submitted && showFull ? (\n          <button id=\"print_draft\" onClick={handleClick}>\n            Print Draft\n          </button>\n        ) : null}\n\n        {(showFull || \"\") && editable && showFull && updateHistory.length > 0 ? (\n          <button id=\"delete\" onClick={handleClick} className=\"deleteButton\">\n            Delete\n          </button>\n        ) : null}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchedMC = props => {\n  const { setInspectionID, handleSearch, searchedMC, setShowSearchedMC, mcTable, currentSU, currentMF } = props\n\n  const newSearchedMC = []\n  for (var i = 0; i < searchedMC.length; i++) {\n    const mc_no = searchedMC[i].mc\n    const rec = mcTable.find(x => x.mc_no === mc_no && x.su_no === currentSU && x.mf_no === currentMF)\n    if (rec) {\n      newSearchedMC.push(searchedMC[i])\n    }\n  }\n\n  const handleClick = id => {\n    setInspectionID(id)\n    handleSearch(id)\n    // Set search fields in SearchKey.js\n    document.getElementById(\"searchKey_mc\").value = id.mc\n    document.getElementById(\"searchKey_iteration\").value = id.iteration\n    document.getElementById(\"searchKey_type\").value = id.type\n    setShowSearchedMC(false)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      <div className=\"searchedMC\">\n        <div className=\"searchedMC_header1 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        <div className=\"searchedMC_header2 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        <div className=\"searchedMC_header3 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        {newSearchedMC.length > 0\n          ? newSearchedMC.map(x => (\n              <div\n                className=\"searchedMC_detail\"\n                key={x.id}\n                onClick={() => {\n                  handleClick({ mc: x.mc, iteration: x.iteration, type: x.type })\n                }}\n              >\n                <div></div>\n                <div>{x.mc}</div>\n                <div>{x.iteration}</div>\n                <div>{x.type}</div>\n              </div>\n            ))\n          : null}\n      </div>\n      <Spinner area=\"mfrSelection\" />\n    </Fragment>\n  )\n}\n\nexport default SearchedMC\n","import React, { Fragment } from \"react\"\n\nconst SupplierInfo = props => {\n  const { currentSU, currentMF, currentSUName, currentMFName, setSelectingSupplier, setShowFull, setMFRsearch } = props\n\n  const changeSelectingSuppler = () => {\n    setSelectingSupplier(true)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {!!currentSU ? (\n        <div className=\"supplierInfo\">\n          <button\n            onClick={() => {\n              setShowFull(false)\n              setMFRsearch(\"\")\n              changeSelectingSuppler()\n            }}\n          >\n            Select\n          </button>\n          <div className=\"supplierInfo_capitalize supplierInfoSU\" id=\"supplierInfo_bar\">\n            {currentSUName.toLowerCase()} ({currentSU})\n          </div>\n          <div className=\"supplierInfo_capitalize supplierInfoMF\">\n            {currentMFName.toLowerCase()} ({currentMF})\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default SupplierInfo\n","import React, { Fragment, useEffect } from \"react\"\n\nconst MfrSelection = props => {\n  const { partyTable, setCurrentSU, setCurrentMF, setCurrentSUName, setCurrentMFName, selectingSupplier, setSelectingSupplier, setMFRsearch, mfrSearch } = props\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n      }\n    }\n\n    if (document.getElementById(\"mfrSearch\")) document.getElementById(\"mfrSearch\").addEventListener(\"keydown\", listener)\n\n    return () => {\n      if (document.getElementById(\"mfrSearch\")) document.getElementById(\"mfrSearch\").removeEventListener(\"keydown\", listener)\n    }\n  }, [])\n\n  const handleClick = (su, mf, su_name, mf_name) => {\n    setCurrentSU(su)\n    setCurrentMF(mf)\n    setCurrentSUName(su_name)\n    setCurrentMFName(mf_name)\n    setSelectingSupplier(false)\n  }\n\n  const handleMFRsearch = event => {\n    const { value } = event.target\n    setMFRsearch(value.toUpperCase())\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {partyTable && selectingSupplier ? (\n        <div>\n          <div className=\"mfrSelection_header\"> Select a manufacturer below:</div>\n          <div className=\"mfrSelection_input\">\n            <input type=\"text\" id=\"mfrSearch\" name=\"mfrSearch\" justify=\"left\" onChange={handleMFRsearch} style={{ textTransform: \"uppercase\" }} placeholder=\"Type to search\" />\n          </div>\n        </div>\n      ) : null}\n\n      {partyTable && selectingSupplier\n        ? partyTable\n            .filter(y => mfrSearch.length === 0 || y.SU_NAME.concat(\" (\", y.SU, \" \", y.MF, \" \", y.MF_NAME).search(mfrSearch) > 0)\n            .map(x => (\n              <div\n                className=\"mfrSelection\"\n                key={x.SU.concat(x.MF)}\n                onClick={() => {\n                  handleClick(x.SU, x.MF, x.SU_NAME, x.MF_NAME)\n                }}\n              >\n                <div className=\"mfrSelectionSU\">\n                  {x.SU_NAME} ({x.SU}){\" \"}\n                </div>\n                <div className=\"mfrSelectionMF\">\n                  {x.MF_NAME} ({x.MF}){\" \"}\n                </div>\n              </div>\n            ))\n        : null}\n    </Fragment>\n  )\n}\nexport default MfrSelection\n","import React from \"react\"\nimport DatePicker from \"react-datepicker\"\n\nconst Misc = props => {\n  const { setInspectionDate, inspectionDate, setMisc, misc, editMode } = props\n\n  const handleDate = date => {\n    setInspectionDate(date)\n  }\n\n  // Misc Fields (Text) Capture\n  const handleChange = (element, yes_or_no) => event => {\n    let value = event.target.value\n\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 2: //b\n          newMisc = { ...newMisc, product_type: value }\n          break\n        case 3: //c\n          newMisc = { ...newMisc, lab_test_report: value }\n          break\n        case 4: //d\n          newMisc = { ...newMisc, lab_child_safety_report: value }\n          break\n        case 5: //e\n          newMisc = { ...newMisc, fibre_content: value }\n          break\n        case 6: //f\n          newMisc = { ...newMisc, comments: value }\n          break\n        case 7: //g\n          newMisc = { ...newMisc, governance_inspection: yes_or_no }\n          break\n        case 8: //h\n          newMisc = { ...newMisc, props65_report: value }\n          break\n        case 9: //i\n          newMisc = { ...newMisc, ship_mode: value }\n          break\n        case 10: //j\n          newMisc = { ...newMisc, pack_pct: value }\n          break\n        case 11: //k\n          newMisc = { ...newMisc, ship_window: value }\n          break\n        case 12: //l\n          newMisc = { ...newMisc, carton_list: value }\n          break\n        case 13: //m\n          newMisc = { ...newMisc, carton_total: value }\n          break\n        case 14: //n\n          newMisc = { ...newMisc, inspector: value }\n          break\n        case 15: //n\n          newMisc = { ...newMisc, qa_type: value }\n          break\n\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <div className=\"misc\">\n      <div className=\"misc_a\">\n        <div className=\"misc_title misc_grid_a\">\n          <div>Inspection Date (A)</div>\n          <DatePicker className=\"datePicker\" dateFormat=\"MM/dd/yy\" selected={inspectionDate} onChange={date => handleDate(date)} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n      </div>\n\n      <div className=\"misc_g misc_grid_g\">\n        <div className=\"misc_title\">Governance Inspection (G)</div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_yes\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"Yes\"} onChange={handleChange(7, \"Yes\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>Yes</div>\n        <div></div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_no\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"No\"} onChange={handleChange(7, \"No\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>No</div>\n      </div>\n\n      <div className=\"misc_j misc_grid_j\">\n        <div className=\"misc_title\">Pack % During Inspection (J)</div>\n        <input type=\"text\" id=\"misc_packPct\" name=\"misc_packPct\" value={misc.pack_pct || \"\"} justify=\"left\" placeholder=\"%\" onChange={handleChange(10)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_k misc_grid_k\">\n        <div className=\"misc_title\">Ship Window (K)</div>\n        <input type=\"text\" id=\"misc_shipWindow\" name=\"misc_shipWindow\" value={misc.ship_window || \"\"} justify=\"left\" placeholder=\"Ship Window\" onChange={handleChange(11)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_b misc_grid_b\">\n        <div className=\"misc_title\">Product Type (B)</div>\n        <input type=\"text\" id=\"misc_productType\" name=\"misc_productType\" value={misc.product_type || \"\"} justify=\"left\" placeholder=\"Product Type\" onChange={handleChange(2)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_o misc_grid_o\">\n          <div className=\"misc_title\">QA Type (O)</div>\n\n          <select id=\"misc_qaType\" name=\"misc_qaType\" value={misc.qa_type || \"Select\"} justify=\"left\" placeholder=\"QA Type\" onChange={handleChange(15)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"MQA\" disabled={editMode ? \"\" : \"disabled\"}>\n              MQA\n            </option>\n            <option value=\"SQA\" disabled={editMode ? \"\" : \"disabled\"}>\n              SQA\n            </option>\n          </select>\n      </div>\n\n      <div className=\"misc_n misc_grid_n\">\n        <div className=\"misc_title\">Inspector (N)</div>\n        <input type=\"text\" id=\"misc_inspector\" name=\"misc_inspector\" value={misc.inspector || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(14)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n    \n      <div className=\"misc_c misc_grid_c\">\n        <div className=\"misc_title\">Lab Test Report (C)</div>\n\n        <select id=\"misc_labTest\" name=\"misc_labTest\" value={misc.lab_test_report || \"Select\"} justify=\"left\" placeholder=\"Test result\" onChange={handleChange(3)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending         \n          </option>\n          <option value=\"Pass\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pass\n          </option>\n          <option value=\"Fail\" disabled={editMode ? \"\" : \"disabled\"}>\n            Fail\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_d misc_grid_d\">\n        <div className=\"misc_title\">Child Safety Report (D)</div>\n\n        <select id=\"misc_childSafetyReport\" name=\"misc_childSafetyReport\" value={misc.lab_child_safety_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(4)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_h misc_grid_h\">\n        <div className=\"misc_title\">Props 65 Report (H)</div>\n        <select id=\"misc_props65Report\" name=\"misc_props65Report\" value={misc.props65_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(8)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_i misc_grid_i\">\n        <div className=\"misc_title\">Ship Mode (I)</div>\n\n        <select id=\"misc_shipMode\" name=\"misc_shipMode\" value={misc.ship_mode || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(9)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"Ocean\" disabled={editMode ? \"\" : \"disabled\"}>\n            Ocean\n          </option>\n          <option value=\"Air\" disabled={editMode ? \"\" : \"disabled\"}>\n            Air\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_e misc_grid_e\">\n        <div className=\"misc_title\">Fibre Content (E)</div>\n        <input type=\"text\" id=\"misc_fibreContent\" name=\"misc_fibreContent\" value={misc.fibre_content || \"\"} justify=\"left\" placeholder=\"Fibre Content\" onChange={handleChange(5)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_f misc_grid_f\">\n        <div className=\"misc_title\">Comments (F)</div>\n        <textarea rows=\"5\" cols=\"50\" id=\"misc_comments\" name=\"misc_comments\" value={misc.comments || \"\"} justify=\"left\" placeholder=\"Comments\" onChange={handleChange(6)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      \n\n      <div className=\"misc_l misc_grid_l\">\n        <div className=\"misc_title\">Carton List (L)</div>\n        <textarea rows=\"3\" cols=\"50\" id=\"misc_cartonList\" name=\"misc_cartonList\" value={misc.carton_list || \"\"} justify=\"left\" placeholder=\"Carton List\" onChange={handleChange(12)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_m misc_grid_m\">\n        <div className=\"misc_title\">Carton Total (M)</div>\n        <input type=\"text\" id=\"misc_cartonTotal\" name=\"misc_cartonTotal\" value={misc.carton_total || \"\"} justify=\"left\" placeholder=\"Carton Total\" onChange={handleChange(13)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n\n    </div>\n\n  )\n}\nexport default Misc\n","import React, { Fragment } from \"react\"\n\nconst Result = props => {\n  const { setMisc, misc, editMode, visualResult, calculateFinalResult } = props\n\n  function calculate_final_result(misc) {\n    if (misc.packing_result === \"Failed\" || (misc.measurement_result === \"Failed\") | (visualResult === \"Failed\")) {\n      return \"Failed\"\n    } else {\n      return \"Passed\"\n    }\n  }\n\n  const handleChange = (element, param2) => event => {\n    let value = event.target.value\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 1: //a  Packing\n          newMisc = { ...newMisc, packing_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(newMisc) }\n          }\n          break\n        case 2: //b  Measurement\n          newMisc = { ...newMisc, measurement_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(newMisc) }\n          }\n          break\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"result\">\n        <div className=\"result_f result_grid_f\"> Inspection Result Summary</div>\n        <div></div>\n        <div></div>\n\n        <div className=\"result_a result_grid_a\">\n          <div className=\"result_title\">Packing</div>\n          <select id=\"result_packingResult\" name=\"misc_packingResult\" value={misc.packing_result || \"Select\"} justify=\"left\" placeholder=\"Packing Result\" onChange={handleChange(1)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_b result_grid_b\">\n          <div className=\"result_title\">Measurement</div>\n          <select id=\"result_measurementResult\" name=\"misc_measurementResult\" value={misc.measurement_result || \"Select\"} justify=\"left\" placeholder=\"Measurement result\" onChange={handleChange(2)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_c result_grid_c\">\n          <div className=\"result_title\">Critical / Major / Minor</div>\n          <input type=\"text\" id=\"result_defectiveResult\" name=\"result_defectiveResult\" value={visualResult.defective_result || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_d result_grid_d\">\n          <div className=\"result_title\">Sample Threshold (Major / Minor)</div>\n          <input type=\"text\" id=\"result_sampleThreshold\" name=\"result_sampleThreshold\" value={visualResult.sample_threshold || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_e result_grid_e\">\n          <div className=\"result_title\">Final Result</div>\n          <input type=\"text\" id=\"result_finalResult\" name=\"result_finalResult\" value={calculateFinalResult()} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_g result_grid_g\">\n          <div className=\"result_title\">Visual Result</div>\n          <input type=\"text\" id=\"result_visualResult\" name=\"result_visualResult\" value={visualResult.visual_result || \"Passed\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default Result\n","import { React, Fragment } from \"react\"\n\nconst ChangeTrack = props => {\n  const { updateHistory, showHistory, setShowHistory, convertToLocal } = props\n\n  var history = [...updateHistory]\n\n  history.sort(function (a, b) {\n    // note : must change the string back to date object for comparison\n    if (Date.parse(a.updated_time) > Date.parse(b.updated_time)) return -1\n    else return 1\n  })\n\n  let root = document.querySelector(\":root\")\n\n  return (\n    <Fragment>\n      <div className=\"changeTrack_section_upper\">\n        <div>Change History</div>\n        <div></div>\n        <div>\n          Show &nbsp;\n          <i\n            className=\"clickable fa fa-plus\"\n            onClick={() => {\n              setShowHistory(true)\n            }}\n          ></i>\n          &nbsp;&nbsp;Hide &nbsp;\n          <i\n            className=\"clickable fa fa-minus\"\n            onClick={() => {\n              setShowHistory(false)\n            }}\n          ></i>\n        </div>\n        <div></div>\n        <div>\n          Expand &nbsp;\n          <i\n            className=\"clickable fa fa-plus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"100rem\")\n            }}\n          ></i>\n          &nbsp;&nbsp; Collapse &nbsp;\n          <i\n            className=\"clickable fa fa-minus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"4.3rem\")\n            }}\n          ></i>\n        </div>\n        <div></div>\n      </div>\n      {showHistory ? (\n        <div className=\"changeTrack_section_bottom\">\n          <div className=\"changeTrack_grid_header\">\n            <div>Local Time</div>\n            <div>Updated By</div>\n            <div>Mode</div>\n            <div>Result Details</div>\n            <div></div>\n          </div>\n\n          <div className=\"changeTrack_grid_outer_detail\">\n            {history.length > 0\n              ? history.map(line => (\n                  <div key={line.id} className=\"changeTrack_grid_detail\">\n                    <div>{convertToLocal(line.updated_time)}</div>\n                    <div>{line.updated_by}</div>\n                    <div>{line.updated_mode}</div>\n                    <div>{line.misc}</div>\n                  </div>\n                ))\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\n\nexport default ChangeTrack\n","import React, { Fragment } from \"react\"\n\nconst SharePoint = props => {\n  const { inspectionID, currentSU, currentMF, editMode, getSharePointFiles, setShowSharePointFiles, showSharePointFiles, setSharePointFiles, sharePointPath, createsharePointPDF } = props\n\n  // const handleClick_add = () => {\n  //   const url = \"https://macysinc.sharepoint.com/sites/OSO/\".concat(sharePointPath, \"/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F\", sharePointPath, \"%2F\", \"SU\", currentSU, \"MF\", currentMF, \"&dt=\", new Date().getTime())\n  //   var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  //   if (newWindow) newWindow.opener = null\n  // }\n\n  const handleClick_view = () => {\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/\".concat(sharePointPath, \"/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F\", sharePointPath, \"%2F\", \"SU\", currentSU, \"MF\", currentMF, \"&view=7&q=\", inspectionID.mc, \"&FilterField1=Inspection_x0020_ID&FilterValue1=\", inspectionID.mc, \"-\", inspectionID.iteration, \"-\", inspectionID.type[0], \"&dt=\", new Date().getTime())\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleToggleSharePointFiles = () => {\n    if (showSharePointFiles === true) {\n      setShowSharePointFiles(false)\n      setSharePointFiles([])\n    } else {\n      setShowSharePointFiles(true)\n      getSharePointFiles()\n    }\n  }\n\n  const handleGetSharePointFiles = () => {\n    if (showSharePointFiles) {\n      setSharePointFiles([])\n      getSharePointFiles()\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"sharePoint_section\">Document Management on SharePoint</div>\n      <div className=\"sharePoint_grid\">\n        <div className=\"sharePoint_cell\">\n          <img src=\"../static/img/sharePointx.jpg\" alt=\"sharePoint\" className=\"sharePoint_photo\" />\n        </div>\n        <div></div>\n\n        <div className=\"sharePoint_cell\">\n          View files&nbsp;\n          <i\n            className=\"fa  fa-sign-in clickable\"\n            onClick={() => {\n              handleClick_view()\n            }}\n          ></i>\n        </div>\n\n        {/* Remove add function to sharePoint */}\n        {/* {editMode ? (\n          <div className=\"sharePoint_cell\">\n            Add files&nbsp;\n            <i\n              className=\"fa  fa-sign-in clickable\"\n              onClick={() => {\n                handleClick_add()\n              }}\n            ></i>\n          </div>\n        ) : (\n          <div className=\"sharePoint_cell\"></div>\n        )} */}\n\n        {/* Combine photo into PDF */}\n        {editMode ? (\n          <div className=\"sharePoint_cell\">\n            Create Photo Album&nbsp;\n            <i\n              className=\"fa  fa-file-pdf-o clickable\"\n              onClick={() => {\n                createsharePointPDF()\n              }}\n            ></i>\n          </div>\n        ) : (\n          <div className=\"sharePoint_cell\"></div>\n        )}\n\n        <div className=\"sharePoint_cell\">\n          Instant View : &nbsp;&nbsp;\n          {showSharePointFiles ? \"Collapse\" : \"Expand\"}\n          &nbsp;\n          <i\n            className={\"clickable fa \" + (showSharePointFiles ? \"fa-minus\" : \"fa-plus\")}\n            onClick={() => {\n              handleToggleSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n          <i\n            id=\"sharePoint_refresh\"\n            className=\"clickable fa fa-refresh\"\n            onClick={() => {\n              handleGetSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default SharePoint\n","import React, { Fragment } from \"react\"\n\nconst ShowSharePointFiles = props => {\n  const { sharePointFiles, downloadSharePointFile, showSharePointFiles, convertToLocal, editMode, handleDeleteSPfile } = props\n\n  const ext = [\".jpg\", \".png\"]\n  function isSupportPicExt(filename) {\n    for (let i = 0; i < ext.length; i++) {\n      if (filename.toLowerCase().includes(ext[i])) {\n        return true\n      }\n    }\n    return false\n  }\n\n  // const openPhoto = url => {\n  //   const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  //   if (newWindow) newWindow.opener = null\n  // }\n\n  return (\n    <Fragment>\n      {showSharePointFiles ? (\n        <div className=\"showSharePointFiles_section\">\n          <div className=\"showSharePointFiles_grid_header\">\n            <div>File Name</div>\n            <div>Last Editor</div>\n            <div>Last Edit Time</div>\n            <div>File Size</div>\n            <div>Download</div>\n            <div>File Type</div>\n            <div>Delete</div>\n          </div>\n\n          <div>\n            {sharePointFiles.length > 0\n              ? sharePointFiles.map(line =>\n                  line.filename === \"No files\" ? (\n                    <div className=\"sharePointFiles_no_files\">{line.filename}</div>\n                  ) : (\n                    <div key={line.unique_id} className=\"showSharePointFiles_grid_detail\">\n                      <div>{line.filename}</div>\n                      <div>{line.editor === \"SharePoint App\" ? line.last_editor : line.editor}</div>\n                      <div>{convertToLocal(line.modified)}</div>\n                      <div>{line.size}</div>\n                      <div>\n                        <i\n                          className=\"clickable fa fa-download\"\n                          onClick={() => {\n                            downloadSharePointFile(line.filename)\n                          }}\n                        ></i>\n                      </div>\n                      {isSupportPicExt(line.filename) ? (\n                        <div className=\"sharePointFiles_photoBlock\">\n                          <img src={\"/showPhoto?folder=\" + line.folder + \"&filename=\" + line.filename} alt=\"\" />\n                        </div>\n                      ) : (\n                        <div>\n                          <i className=\"fa fa-file fa-file-doc\"></i>\n                        </div>\n                      )}\n\n                      {editMode ? (\n                        <div>\n                          <button\n                            id=\"sharePointFiles_deleteButton\"\n                            onClick={() => {\n                              handleDeleteSPfile(line.unique_id)\n                              //props.deleteDefect(x.id)\n                            }}\n                          >\n                            &times;\n                          </button>\n                        </div>\n                      ) : (\n                        <div>&nbsp;</div>\n                      )}\n                    </div>\n                  )\n                )\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default ShowSharePointFiles\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst ShowSpinner = props => {\n  const { position } = props\n\n  return (\n    <Fragment>\n      {position === 1 ? <Spinner area=\"getUserProfile\" spinnerMessage=\"Loading your profile, please wait... \" /> : null}\n      {position === 2 ? (\n        <div>\n          <Spinner area=\"printReport\" spinnerMessage=\"Preparing the report, please wait... \" />\n          <Spinner area=\"saveInspection\" spinnerMessage=\"Saving the changes, please wait... \" />\n          <Spinner area=\"deleteInspection\" spinnerMessage=\"Deleting, please wait... \" />\n          <Spinner area=\"createInspection\" spinnerMessage=\"Loading, please wait... \" />\n        </div>\n      ) : null}\n      {position === 3 ? (\n        <div>\n          <Spinner area=\"sharePointFiles\" spinnerMessage=\"Loading SharePoint info, please wait... \" />\n          <Spinner area=\"downloadSharePointfiles\" spinnerMessage=\"Downloading SharePoint info, please wait... \" />\n          <Spinner area=\"sharePointUpload\" spinnerMessage=\"Uploading file(s) to SharePoint, please wait... \" />\n        </div>\n      ) : null}\n      {position === 10 ? <Spinner area=\"pastInspection\" spinnerMessage=\"Loading past inspections, please wait... \" /> : null}\n    </Fragment>\n  )\n}\nexport default ShowSpinner\n","import React, { useState, Fragment, useEffect } from \"react\"\n\nimport axios from \"axios\"\nimport ItemTable from \"./components/ItemTable\"\nimport ItemTotal from \"./components/ItemTotal\"\nimport DefectOptions from \"./components/DefectOptions\"\nimport DefectList from \"./components/DefectList\"\nimport ShowAlert from \"./components/ShowAlert\"\nimport CheckList from \"./components/CheckList\"\nimport UploadForm from \"./components/UploadForm\"\nimport SearchKey from \"./components/SearchKey\"\nimport MainMenu from \"./components/MainMenu\"\nimport SearchedMC from \"./components/SearchedMC\"\nimport SupplierInfo from \"./components/SupplierInfo\"\n// import PhotoBlock from \"./components/PhotoBlock\"\nimport MfrSelection from \"./components/MfrSelection\"\nimport Misc from \"./components/Misc\"\nimport Result from \"./components/Result\"\nimport ChangeTrack from \"./components/ChangeTrack\"\nimport SharePoint from \"./components/SharePoint\"\nimport ShowSharePointFiles from \"./components/ShowSharePointFiles\"\n\nimport { v4 as uuidv4 } from \"uuid\"\nimport { trackPromise } from \"react-promise-tracker\"\nimport ShowSpinner from \"./components/ShowSpinner\"\n\nconst App = () => {\n  //const initialFormState = { id: null, mc_no: \"\", item_no: \"\", order_qty: \"\", ship_qty: \"\" }\n  const initialInspectionID = { mc: \"\", iteration: \"Select\", type: \"Select\" }\n\n  // Setting state\n  const [items, setItems] = useState([])\n  const [showSearchedMC, setShowSearchedMC] = useState(false)\n  const [defects, setDefects] = useState([])\n  // set position 100 as impossible range as equivalent to empty\n  const [alert, setAlert] = useState({ position: 100 })\n  const [mcTable, setMCTable] = useState([])\n  const [checkList, setCheckList] = useState([])\n  const [inspectionDate, setInspectionDate] = useState(new Date())\n  const [inspectionID, setInspectionID] = useState(initialInspectionID)\n  const [uploads, setUploads] = useState([])\n  const [userProfile, setUserProfile] = useState([])\n  const [currentSU, setCurrentSU] = useState(\"\")\n  const [currentMF, setCurrentMF] = useState(\"\")\n  const [searchedMC, setSearchedMC] = useState([])\n  const [itemSearchString, setItemSearchString] = useState(\"\")\n  const [partyTable, setPartyTable] = useState([])\n  const [currentSUName, setCurrentSUName] = useState(\"\")\n  const [currentMFName, setCurrentMFName] = useState(\"\")\n  const [selectingSupplier, setSelectingSupplier] = useState(true)\n  const [mfList, setMfList] = useState([])\n  const [aqlTable, setAqlTable] = useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [misc, setMisc] = useState({})\n  const [main, setMain] = useState({})\n  const [showFull, setShowFull] = useState(false)\n  const [itemsTotal, setItemsTotal] = useState([])\n  const [shippedTotal, setShippedTotal] = useState(0)\n  const [sampleTotal, setSampleTotal] = useState(0)\n  const [visualResult, setVisualResult] = useState({})\n\n  const [constructTotal, setConstructTotal] = useState(false)\n  const [inspectTotal, setInspectTotal] = useState(0)\n  const [aqlSampleTotal, setAqlSampleTotal] = useState(0)\n  const [updateHistory, setUpdateHistory] = useState([])\n  const [showHistory, setShowHistory] = useState(false)\n  const [sharePointFiles, setSharePointFiles] = useState([])\n  const [showSharePointFiles, setShowSharePointFiles] = useState(false)\n  const [checkListTemplate, setCheckListTemplate] = useState([])\n\n  const [defectLanguage, setDefectLanguage] = useState(\"en\")\n  const [defectList, setDefectList] = useState([])\n  const [criticalDefects, setCriticalDefects] = useState([])\n\n  const [sharePointPath, setSharePointPath] = useState()\n  const [mfrSearch, setMFRsearch] = useState(\"\")\n\n  // Data\n\n  useEffect(() => {\n    let root = document.querySelector(\":root\")\n    const userAgent = navigator.userAgent.toLowerCase()\n    const isTablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent)\n\n    // Remove padding of scroll width if it is tablet to make columns of ChangeTrack section aligned\n    if (isTablet) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    } else {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"6.7fr\")\n    }\n\n    // check Safari browser\n    if (userAgent.includes(\"safari\") && userAgent.includes(\"macintosh\")) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    }\n\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n          setMCTable(response[\"mcTable\"])\n          setPartyTable(response[\"partyTable\"])\n          setMfList(response[\"mfList\"])\n          setAqlTable(response[\"aqlTable\"])\n          setCheckListTemplate(response[\"checkListTemplate\"])\n          setSharePointPath(response[\"sharePointPath\"])\n        })\n        .catch(error => {\n          console.log(error)\n        }),\n      \"getUserProfile\"\n    )\n\n    fetch(\"/api/getDefectTable\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setDefectList(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    fetch(\"/api/getCriticalDefects\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setCriticalDefects(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  useEffect(() => {\n    var x = document.getElementsByClassName(\"itemTotal_Detail\")\n    var len = x.length\n    var first_found = -1\n    var i, j, long, scroll_y\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      const currentChild = x[i].firstElementChild.innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"scroller\").scrollTo(0, 0)\n      long = document.getElementById(\"scroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"scroller\").scrollBy(0, scroll_y)\n    } else {\n      document.getElementsByName(\"itemTotal_searchString\")[0].value = \"\"\n      //document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"Not found! Try again!\"\n      document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"\"\n    }\n\n    //document.getElementsByName('mc_no')[0].value =  search_string    // trigger highlight in item table - itemTable block.\n\n    x = document.getElementsByClassName(\"itemTable_Detail\")\n    len = x.length\n    first_found = -1\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      const currentChild = x[i].children[1].innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"itemTableScroller\").scrollTo(0, 0)\n      long = document.getElementById(\"itemTableScroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"itemTableScroller\").scrollBy(0, scroll_y)\n    }\n  }, [itemSearchString, items])\n\n  // calcuate itemsTotal based on items\n\n  useEffect(() => {\n    if (constructTotal) {\n      const items1 = items\n        ? items.map(function (obj) {\n            return {\n              item_no: obj.item_no,\n              //order_qty: obj.order_qty,\n              ship_qty: obj.ship_qty\n            }\n          })\n        : null\n\n      // use reduce to calculate total by item#\n      const items2 = items\n        ? items1.reduce((prev, next) => {\n            if (next.item_no in prev) {\n              prev[next.item_no].ship_qty = parseInt(prev[next.item_no].ship_qty) + parseInt(next.ship_qty)\n            } else {\n              prev[next.item_no] = next\n            }\n            return prev\n          }, {})\n        : null\n\n      // present each item total\n      const items3 = Object.keys(items2).map(item_no => items2[item_no])\n\n      var _shippedTotal = 0\n      for (var i = 0; i < items3.length; i += 1) {\n        _shippedTotal = _shippedTotal + items3[i].ship_qty\n      }\n\n      let newItemsTotal = [...items3]\n      for (i = 0; i < newItemsTotal.length; i += 1) {\n        const ship_qty = newItemsTotal[i].ship_qty\n        const sampleSize = getSampleSize(aqlTable, ship_qty, _shippedTotal)\n        let inspectQty = sampleSize\n        newItemsTotal[i] = { ...newItemsTotal[i], sample_qty: sampleSize, inspect_qty: inspectQty }\n      }\n\n      setItemsTotal(newItemsTotal)\n      setConstructTotal(false)\n    }\n  }, [items, constructTotal, aqlTable, shippedTotal])\n\n  function getSampleSize(_aql, ship_qty, shippedTotal) {\n    if (shippedTotal === 0 || isNaN(ship_qty)) {\n      return 0\n    }\n    const aql = _aql.filter(x => x.size_start <= shippedTotal && x.size_end >= shippedTotal)\n    const sampleQty = (ship_qty / shippedTotal) * aql[0][\"25sample\"]\n    return Math.round(sampleQty) //  > 0.5 roundup to integer\n  }\n\n  // ****\n\n  // updateMiscResult\n\n  useEffect(() => {\n    var sampleThreshold = \"\"\n    var defectiveResult = \"\"\n    var visualResult = \"\"\n\n    var sampleThresholdMajor = 0\n    var sampleThresholdMinor = 0\n\n    var total_major = 0\n    var total_minor = 0\n    var total_critical = 0\n\n    for (var i = 0; i < defects.length; i += 1) {\n      if (defects[i].critical) {\n        total_critical = total_critical + parseInt(defects[i].major)\n      } else if (parseInt(defects[i].major) > 0) {\n        total_major = total_major + parseInt(defects[i].major)\n      }\n\n      if (parseInt(defects[i].minor) > 0) {\n        total_minor = total_minor + parseInt(defects[i].minor)\n      }\n    }\n\n    if (shippedTotal) {\n      const aql = aqlTable.filter(x => x.size_start <= shippedTotal && x.size_end >= shippedTotal)\n      sampleThreshold = aql[0][\"25accept\"].toString() + \" / \" + aql[0][\"40accept\"].toString()\n      sampleThresholdMajor = aql[0][\"25accept\"]\n      sampleThresholdMinor = aql[0][\"40accept\"]\n    }\n\n    // Check Inspection Result -  1) If Critical -> Failed,  2) Major + (Minor/4) > Threshold of Major -> Failed, 3) Packing Failed or Measurement Failed -> Failed\n\n    if (total_critical + total_major + total_minor > 0) {\n      defectiveResult = \" \" + total_critical.toString() + \" / \" + total_major.toString() + \" / \" + total_minor.toString()\n\n      if (total_major + Math.floor(total_minor / 4) > sampleThresholdMajor) {\n        visualResult = \"Failed\"\n      } else if (total_minor > sampleThresholdMinor) {\n        visualResult = \"Failed\"\n      }\n    }\n\n    if (total_critical > 0) {\n      visualResult = \"Failed\"\n    }\n\n    if (visualResult !== \"Failed\" && defectiveResult.length > 0) {\n      visualResult = \"Passed\"\n    }\n\n    setVisualResult({ visual_result: visualResult, defective_result: defectiveResult, sample_threshold: sampleThreshold })\n  }, [defects, aqlTable, shippedTotal])\n\n  const handleSupplierInfo = (su, mf) => {\n    partyTable.map(x => (x.SU === su ? setCurrentSUName(x.SU_NAME) : null))\n    partyTable.map(x => (x.MF === mf ? setCurrentMFName(x.MF_NAME) : null))\n  }\n\n  // CRUD operations\n  const addMC = mc => {\n    mcTable.map(x => (x.mc_no === mc ? ((x.id = uuidv4()), setItems(prev => prev.concat(x))) : null))\n    handleSupplierInfo(currentSU, currentMF)\n    setConstructTotal(true)\n    setShowFull(true)\n    setEditMode(true)\n    fillCheckList() // since it's empty\n  }\n\n  const deleteAllItems = item_no => {\n    // setEditing(false)\n    setItems(items.filter(item => item.item_no !== item_no))\n    setItemsTotal(itemsTotal.filter(item => item.item_no !== item_no))\n  }\n\n  const deleteItem = id => {\n    // setEditing(false)\n    //setItems(items.filter(item => item.id !== id))\n  }\n\n  const addToDefectList = (product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language) => {\n    setDefects(prev => prev.concat({ id: uuidv4(), product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language, critical: isCriticalDefect(product, defect_detail_area) }))\n  }\n\n  const deleteDefect = id => {\n    // setEditing(false)\n    setDefects(defects.filter(defect => defect.id !== id))\n  }\n\n  const setDisplayAlert = alert => {\n    //{ message: \"hi\", position: 0, timeout: 3000, color: \"alert__green\" }\n    setAlert(alert)\n    setTimeout(function () {\n      setAlert({ position: 100 })\n    }, alert.timeout)\n  }\n\n  const handleCheckItemChange = (id, change) => {\n    const newCheckList = [...checkList]\n    const index = newCheckList.findIndex(r => r.id === id)\n    newCheckList[index] = change\n    setCheckList(newCheckList)\n    //setCheckList([...checkList], { id: change })\n  }\n\n  const undoTable = () => {\n    setItems(JSON.parse(localStorage.getItem(\"items\")))\n    setItemsTotal(JSON.parse(localStorage.getItem(\"itemsTotal\")))\n  }\n\n  const resetInspectQty = () => {\n    const _total = [...itemsTotal]\n    for (var i = 0; i < _total.length; i++) {\n      const _sample_qty = getSampleSize(aqlTable, _total[i].ship_qty, shippedTotal)\n      _total[i].sample_qty = _sample_qty\n      _total[i].inspect_qty = _sample_qty\n    }\n    setItemsTotal(_total)\n  }\n\n  const handleSave = submitted => {\n    // Convert inspection date to time 00.00.00\n    const main = { su_no: currentSU, mf_no: currentMF, inspection_date: inspectionDate.toDateString(), submitted: submitted }\n    const _id = { mc: inspectionID.mc, iteration: inspectionID.iteration, type: inspectionID.type }\n    let newMisc = { ...misc }\n    newMisc = { ...newMisc, final_result: calculateFinalResult(), visual_result: visualResult, defectLanguage: defectLanguage, submitted: submitted }\n\n    trackPromise(\n      axios({\n        url: \"/api/save\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: _id, main: main, misc: newMisc, mf: currentMF, checkList: checkList, items: items, itemsTotal: itemsTotal, defects: defects, uploads: uploads, updateHistory: updateHistory })\n      })\n        .then(res => {\n          clearScreen()\n          setDisplayAlert({ message: \"Saved Successfully !\", position: 0, timeout: 1000, color: \"alert__green\" })\n        })\n        .catch(err => {\n          console.log(err.response.data)\n          setDisplayAlert({ message: \"There was an error in saving, please contact the admin !!\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"saveInspection\"\n    )\n  }\n\n  const handleSearch = id => {\n    //console.log(\"entering api/search\")\n\n    trackPromise(\n      axios({\n        url: \"/api/search\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        // .then(response => {\n        //   console.log(\"status\", response.status)\n        // })\n        .then(response => response.data)\n        .then(response => {\n          setShowFull(true)\n          setItems(response[\"items\"])\n          setItemsTotal(response[\"itemsTotal\"])\n\n          localStorage.setItem(\"items\", JSON.stringify(response[\"items\"]))\n          localStorage.setItem(\"itemsTotal\", JSON.stringify(response[\"itemsTotal\"]))\n\n          setInspectionDate(response[\"main\"].inspection_date ? new Date(response[\"main\"].inspection_date) : null)\n          setMain(response[\"main\"])\n          setMisc(response[\"misc\"] ? response[\"misc\"] : {})\n          if (response[\"misc\"][\"defectLanguage\"] === undefined) {\n            setDefectLanguage(\"en\")\n          } else {\n            setDefectLanguage(response[\"misc\"][\"defectLanguage\"])\n          }\n\n          setCheckList(response[\"checkList\"])\n\n          handleSupplierInfo(response[\"main\"].su_no, response[\"main\"].mf_no)\n\n          if (response[\"defects\"] === undefined) {\n            setDefects([])\n          } else {\n            //console.log(response[\"defects\"])\n            setDefects(response[\"defects\"])\n          }\n\n          if (response[\"uploads\"] === undefined) {\n            setUploads(\"\")\n          } else {\n            //console.log(response[\"uploads\"])\n            setUploads(response[\"uploads\"])\n          }\n          if (response[\"update_history\"] === undefined) {\n            setUpdateHistory([])\n          } else {\n            setUpdateHistory(response[\"update_history\"])\n          }\n          setSharePointFiles(false)\n          setShowSharePointFiles(false)\n          setShowHistory(false)\n        })\n        .catch(err => {\n          //console.log(\"err\", err.response.status)\n          if (err.response.status === 406) {\n            setDisplayAlert({ message: \"Not a valid MC for this manufacturer !\", position: 0, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 501) {\n            window.location = \"/login/timeout\"\n          } else setDisplayAlert({ message: \"No such Inspection ID, please try again !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"searchKey\"\n    )\n  }\n\n  const handleDelete = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete this inspection ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/delete\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (clearScreen(), setDisplayAlert({ message: \"Deleted successfully !\", position: 0, timeout: 1500, color: \"alert__green\" })) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the inspection ID !\", position: 0, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  const clearScreen = () => {\n    setItems([])\n    setDefects([])\n    setCheckList([])\n    setSearchedMC([])\n    setUploads([])\n    setShowSearchedMC(false)\n    setMisc([])\n    setUpdateHistory([])\n    setShowFull(false)\n    setEditMode(false)\n    setShowHistory(false)\n    setSharePointFiles([])\n    setShowSharePointFiles(false)\n    setShowHistory(true)\n  }\n\n  // ** implement delay function\n  const delay = ms => new Promise(res => setTimeout(res, ms))\n\n  const handleSessionTimeOut = async () => {\n    setDisplayAlert({ message: \"Session timeout, please login again !\", position: 0, timeout: 3000, color: \"alert__red\" })\n    await delay(3000)\n    window.location = \"/login/timeout\"\n  }\n\n  const searchInspByMC = mc => {\n    setShowSearchedMC(true)\n\n    trackPromise(\n      //fetch(\"/api/searchInspByMC\", {\n      axios({\n        url: \"/api/searchInspByMC\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ mc: mc, mfList: mfList })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSearchedMC(response)\n          setSharePointFiles(false)\n        })\n        .catch(err => {\n          //console.log('err', err)\n          err.response.status === 501 ? handleSessionTimeOut() : setDisplayAlert({ message: \"Something went wrong !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"mfrSelection\"\n    )\n  }\n\n  const downloadDoc = (_id, file_name) => event => {\n    //event.preventDefault()\n\n    fetch(\"/download/\" + _id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        \"Content-Disposition\": \"attachment\"\n      }\n    })\n      .then(response => response.blob())\n      .then(blob => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]))\n        const link = document.createElement(\"a\")\n        link.href = url\n        link.setAttribute(\"download\", file_name)\n\n        // Append to html link element page\n        document.body.appendChild(link)\n\n        // Start download\n        link.click()\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link)\n      })\n  }\n\n  const downloadSharePointFile = file_name => {\n    //event.preventDefault()\n\n    const file_url = \"/sites/OSO/\".concat(sharePointPath, \"/\", \"SU\", currentSU, \"MF\", currentMF, \"/\", file_name)\n\n    trackPromise(\n      fetch(\"/downloadSharePointFile\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          file_url: file_url\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"downloadSharePointfiles\"\n    )\n  }\n\n  const printReport = (file_name, draft) => {\n    //event.preventDefault()\n    if (misc.qa_type === undefined) {\n      setDisplayAlert({ message: \"QA Type must be chosen !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n\n    file_name = \"MMG Inspection Report - \" + inspectionID[\"mc\"] + \"-\" + inspectionID[\"iteration\"] + \"-\" + inspectionID[\"type\"] + (draft ? \" (Draft) \" : \"\") + \".xlsx\"\n\n    trackPromise(\n      fetch(\"/printreport\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          inspectionID: JSON.stringify({ inspectionID })\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"printReport\"\n    )\n  }\n\n  const getSharePointFiles = () => {\n    trackPromise(\n      axios({\n        url: \"/api/getsharepointfiles\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type[0] })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSharePointFiles(response)\n        })\n        .catch(err => {\n          if (err.response.status === 404) {\n            setDisplayAlert({ message: \"Folder on SharePoint was not created !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          }\n        }),\n      \"sharePointFiles\"\n    )\n  }\n\n  const createsharePointPDF = () => {\n    var confirm = window.confirm(\"Are you sure you want to move all photos to PDF ? All photo files will be deleted !\")\n    if (confirm !== true) {\n      return\n    }\n    const inspection_date = inspectionDate.getMonth() + 1 + \"/\" + inspectionDate.getDate() + \"/\" + inspectionDate.getFullYear()\n    trackPromise(\n      axios({\n        url: \"/api/createsharepointpdf\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\",\n          inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type.charAt(0),\n          //relative_url: \"2022InspRpt/SU\" + currentSU + \"MF\" + currentMF\n          relative_url: sharePointPath.concat(\"/\", \"SU\", currentSU, \"MF\", currentMF),\n          inspection_date: inspection_date\n        },\n        data: JSON.stringify({ folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type[0] })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSharePointFiles(response)\n          document.getElementById(\"sharePoint_refresh\").click()\n        })\n        .catch(err => {\n          if (err.response.status === 404) {\n            setDisplayAlert({ message: \"PDF creation error !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 405) {\n            setDisplayAlert({ message: \"No photos to generate PDF !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          }\n        }),\n      \"sharePointFiles\"\n    )\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  const checkDuplicateID = id => {\n    trackPromise(\n      axios({\n        url: \"/api/checkDuplicateID\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      }).then(res => (res.status === 200 ? displayAlert(\"This key has been used by previous inspection ! Please check and or consider a new iteration!\") : addMC(id.mc))),\n      \"createInspection\"\n    )\n  }\n\n  const handleDeleteSPfile = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete the SharePoint file ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/deleteSPfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (setDisplayAlert({ message: \"SharePoint file deleted successfully !\", position: 3, timeout: 3000, color: \"alert__green\" }), document.getElementById(\"sharePoint_refresh\").click()) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the SP file !\", position: 4, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  function isCriticalDefect(product, defect) {\n    for (var i = 0; i < criticalDefects.length; i += 1) {\n      if (criticalDefects[i].product === product && criticalDefects[i].defect_detail_code === defect) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function calculateFinalResult() {\n    let final_result = \"\"\n    if (misc.measurement_result === \"Failed\" || misc.packing_result === \"Failed\" || visualResult.visual_result === \"Failed\") {\n      final_result = \"Failed\"\n    } else if (visualResult.visual_result === \"\") {\n      final_result = \"Passed\"\n    } else {\n      final_result = \"Passed\"\n    }\n    return final_result\n  }\n\n  // convert to local time\n  function convertToLocal(date) {\n    const t = new Date(date).toTimeString()\n    const d = new Date(date).toDateString()\n    var local = d + \" \" + t\n    var local_end = local.search(\"GMT+\") - 1\n    local = local.substring(0, local_end)\n    return local\n  }\n\n  const fillCheckList = () => {\n    // Populate values to the checklist template.\n    const newCheckList = [...checkListTemplate]\n    newCheckList.sort((a, b) => a.id - b.id) // must sort to present in order...\n    setCheckList(newCheckList)\n  }\n\n  return (\n    <Fragment>\n      {/* <UserProfile userProfile={userProfile} /> */}\n      <SupplierInfo currentSU={currentSU} currentMF={currentMF} currentSUName={currentSUName} currentMFName={currentMFName} setSelectingSupplier={setSelectingSupplier} setShowFull={setShowFull} setMFRsearch={setMFRsearch} />\n      <MfrSelection partyTable={partyTable} setCurrentSU={setCurrentSU} setCurrentMF={setCurrentMF} setCurrentSUName={setCurrentSUName} setCurrentMFName={setCurrentMFName} selectingSupplier={selectingSupplier} setSelectingSupplier={setSelectingSupplier} setMFRsearch={setMFRsearch} mfrSearch={mfrSearch} />\n\n      <ShowSpinner position={1} />\n      <MainMenu handleSave={handleSave} handleSearch={handleSearch} inspectionID={inspectionID} handleDelete={handleDelete} printReport={printReport} editMode={editMode} setEditMode={setEditMode} userProfile={userProfile} main={main} misc={misc} showFull={showFull} clearScreen={clearScreen} updateHistory={updateHistory} />\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <Fragment>\n            {/* <h2>Search Inspection</h2> */}\n            <SearchKey checkDuplicateID={checkDuplicateID} mcTable={mcTable} setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setInspectionID={setInspectionID} clearScreen={clearScreen} searchInspByMC={searchInspByMC} currentSU={currentSU} currentMF={currentMF} editMode={editMode} />\n\n            {showSearchedMC ? <SearchedMC inspectionID={inspectionID} setInspectionID={setInspectionID} handleSearch={handleSearch} searchInspByMC={searchInspByMC} searchedMC={searchedMC} setShowSearchedMC={setShowSearchedMC} mcTable={mcTable} currentSU={currentSU} currentMF={currentMF} /> : null}\n          </Fragment>\n        </div>\n      </div>\n      {alert.position === 0 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <ShowSpinner position={2} />\n\n      {/* Result  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Result setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode} isCriticalDefect={isCriticalDefect} aqlTable={aqlTable} shippedTotal={shippedTotal} visualResult={visualResult} calculateFinalResult={calculateFinalResult}></Result>\n          </Fragment>\n        </div>\n      </div>\n\n      {/* Misc section with inspection Date  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Misc setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode}></Misc>\n          </Fragment>\n        </div>\n      </div>\n\n      {alert.position === 1 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <div className=\"itemTable_2col\">\n            <ItemTable items={items} deleteItem={deleteItem} setItems={setItems} setDisplayAlert={setDisplayAlert} mcTable={mcTable} addMC={addMC} editMode={editMode} currentSU={currentSU} currentMF={currentMF} />\n            <div></div>\n            <ItemTotal items={items} deleteAllItems={deleteAllItems} setItemSearchString={setItemSearchString} aqlTable={aqlTable} editMode={editMode} showFull={showFull} shippedTotal={shippedTotal} sampleTotal={sampleTotal} itemsTotal={itemsTotal} getSampleSize={getSampleSize} setItemsTotal={setItemsTotal} setShippedTotal={setShippedTotal} setSampleTotal={setSampleTotal} inspectTotal={inspectTotal} setInspectTotal={setInspectTotal} setAqlSampleTotal={setAqlSampleTotal} aqlSampleTotal={aqlSampleTotal} undoTable={undoTable} resetInspectQty={resetInspectQty} setDisplayAlert={setDisplayAlert} />\n          </div>\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectOptions items={items} addToDefectList={addToDefectList} setDisplayAlert={setDisplayAlert} editMode={editMode} defects={defects} defectLanguage={defectLanguage} setDefectLanguage={setDefectLanguage} defectList={defectList} showFull={showFull} />\n        </div>\n      </div>\n      {alert.position === 2 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectList defects={defects} deleteDefect={deleteDefect} editMode={editMode} isCriticalDefect={isCriticalDefect} defectLanguage={defectLanguage} defectList={defectList} />\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <CheckList checkList={checkList} handleCheckItemChange={handleCheckItemChange} editMode={editMode} />\n        </div>\n      </div>\n      {alert.position === 3 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <SharePoint currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} editMode={editMode} getSharePointFiles={getSharePointFiles} setShowSharePointFiles={setShowSharePointFiles} showSharePointFiles={showSharePointFiles} setSharePointFiles={setSharePointFiles} sharePointPath={sharePointPath} createsharePointPDF={createsharePointPDF} />\n          <ShowSpinner position={3} />\n        </div>\n      </div>\n\n      {alert.position === 4 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ShowSharePointFiles sharePointFiles={sharePointFiles} downloadSharePointFile={downloadSharePointFile} showSharePointFiles={showSharePointFiles} convertToLocal={convertToLocal} editMode={editMode} handleDeleteSPfile={handleDeleteSPfile} />\n        </div>\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        {/* <div className={\"flex-row  hideSection\"}> */}\n        <div className=\"flex-large \">\n          <UploadForm setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setUploads={setUploads} uploads={uploads} downloadDoc={downloadDoc} editMode={editMode} currentSU={currentSU} currentMF={currentMF} setShowSharePointFiles={setShowSharePointFiles} sharePointPath={sharePointPath} inspectionDate={inspectionDate} />\n        </div>\n\n        {/* <div className=\"flex-large\">\n          <PhotoBlock uploadTable={uploads} downloadDoc={downloadDoc} currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} />\n        </div> */}\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ChangeTrack updateHistory={updateHistory} showHistory={showHistory} setShowHistory={setShowHistory} convertToLocal={convertToLocal} />\n        </div>\n      </div>\n      <div>&nbsp;</div>\n      <div>&nbsp;</div>\n    </Fragment>\n  )\n}\nexport default App\n","import React from \"react\"\r\n\r\nconst Home = props => {\r\n  const { env } = props\r\n\r\n  return (\r\n    <div className=\"welcome\">\r\n      <div>\r\n        {/* <img src=\"static/img/frontpageMap.jpg\" aria-hidden alt=\"MMG Inspection Map\"  />                 */}\r\n        {env === \"DEV\" ? <iframe src=\"http://localhost:5000/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe> : <iframe src=\"https://mmgapp2.herokuapp.com/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home\r\n","import { React, useState, useEffect, Fragment } from \"react\"\r\nimport axios from \"axios\"\r\n//import { Spinner } from \"./components/Spinner\"\r\nimport { trackPromise } from \"react-promise-tracker\"\r\nimport ShowSpinner from \"./components/ShowSpinner\"\r\n\r\nconst About = props => {\r\n  //const { setItems, items, setDisplayAlert, mcTable, addMC, editMode, currentSU, currentMF } = props\r\n\r\n  const [result, setResult] = useState([])\r\n\r\n  function sortInspectionDate(_result) {\r\n    _result.sort(function (a, b) {\r\n      // note : must change the string back to date object for comparison\r\n      if (Date.parse(a[\"main\"].inspection_date) > Date.parse(b[\"main\"].inspection_date)) return -1\r\n      else return 1\r\n    })\r\n\r\n    return _result\r\n  }\r\n\r\n  useEffect(() => {\r\n    trackPromise(\r\n      axios({\r\n        url: \"/api/pastXdaysResult\",\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          api: \"yes\"\r\n        }\r\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\r\n      })\r\n        .then(response => response.data)\r\n        .then(response => {\r\n          const _result = sortInspectionDate(response)\r\n          setResult(_result)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        }),\r\n      \"pastInspection\"\r\n    )\r\n    return () => {\r\n      setResult({}) // This worked for me\r\n    }\r\n  }, [])\r\n\r\n  // convert to local time\r\n  function convertToLocalDate(date) {\r\n    //const t = new Date(date).toTimeString()\r\n    //return d + \" \" + t\r\n    const d = new Date(date).toDateString()\r\n    return d\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"xDaysResult\">\r\n        {result.length > 0 ? (\r\n          <div className=\"xDaysResult_gridHeader\">\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection Date</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Supplier</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Manufacturer</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection ID</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Result</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\"></div>\r\n          </div>\r\n        ) : null}\r\n\r\n        {result.length > 0\r\n          ? result.map(item => (\r\n              <div key={item.id} className=\"xDaysResult_gridDetail\">\r\n                <div className=\"xDaysResult_gridItem\">{convertToLocalDate(item[\"main\"].inspection_date)}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].su_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].mf_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"_id\"].mc + \"-\" + item[\"_id\"].iteration + \"-\" + item[\"_id\"].type} </div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"misc\"].final_result}</div>\r\n                <div></div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n      {/* <Spinner area=\"pastInspection\" /> */}\r\n      <ShowSpinner position={10} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default About\r\n","//import React, { useState, Fragment } from \"react\"\nimport React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { userProfile } = props\n  return (\n    <Fragment>\n      <div className=\"userProfile\">\n        <div className=\"userProfile_title\">\n          <div>\n            <img src=\"static/img/macys-header.jpg\" aria-hidden alt=\"\" width=\"30\" height=\"30\" />\n          </div>\n          <div>MMG Inspection App</div>\n        </div>\n        <div className=\"userProfile_personal\">\n          <div className=\"userProfile_name\">{userProfile.first_name ? \"Hi, \" + userProfile.first_name : null} </div>\n          <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>}</div>\n        </div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import { Route, Routes, HashRouter as Router, Link } from \"react-router-dom\"\nimport React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport AppInspection from \"./AppInspection\"\nimport Home from \"./Home\"\nimport XDaysResult from \"./XDaysResult\"\nimport UserProfile from \"./components/UserProfile\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst logout = () => {\n  localStorage.clear()\n  window.location = \"/logout\"\n}\n\nconst gotoPowerBI = () => {\n  const url = \"https://app.powerbi.com/reportEmbed?reportId=f0a7cd56-e22b-490a-9ad7-012d4a0d5251&autoAuth=true&filterPanelEnabled=False&pageName=ReportSectionf1be12cf083e1c0eba15\"\n\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  if (newWindow) newWindow.opener = null\n}\n\nconst App = () => {\n  const [userProfile, setUserProfile] = useState({})\n\n  useEffect(() => {\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    )\n  }, [])\n\n  return (\n    <div className=\"container app_container\">\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <UserProfile userProfile={userProfile} />\n          <Router>\n            <nav>\n              <ul className=\"app_header\">\n                <li>\n                  <Link to=\"/\" className=\"link\">\n                    Home\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/appInspection\" className=\"link\">\n                    Inspection\n                  </Link>\n                </li>\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li>\n                    <Link to=\"/xDaysResult\" className=\"link\">\n                      Past Inspection Results\n                    </Link>\n                  </li>\n                ) : null}\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li\n                    className=\"link\"\n                    onClick={() => {\n                      gotoPowerBI()\n                    }}\n                  >\n                    Power BI\n                  </li>\n                ) : null}\n\n                <button\n                  className=\"fa fa-sign-out\"\n                  onClick={() => {\n                    logout()\n                  }}\n                >\n                  Logout\n                </button>\n                {/* <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>} </div>*/}\n              </ul>\n            </nav>\n\n            <Routes>\n              <Route path=\"/\" element={<Home env={userProfile.environment} />} />\n              <Route path=\"/appInspection\" element={<AppInspection />} />\n              <Route path=\"/xDaysResult\" element={<XDaysResult />} />\n            </Routes>\n          </Router>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./css/main.css\"\nimport \"./css/index.css\"\nimport \"./css/defectList.css\"\nimport \"./css/defectOptions.css\"\nimport \"./css/checkList.css\"\nimport \"./css/uploadDoc.css\"\nimport \"./css/photoBlock.css\"\nimport \"./css/searchKey.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/mainMenu.css\"\nimport \"./css/searchedMC.css\"\nimport \"./css/userProfile.css\"\nimport \"./css/supplierInfo.css\"\nimport \"./css/itemTable.css\"\nimport \"./css/itemTotal.css\"\nimport \"./css/misc.css\"\nimport \"./css/mfrSelection.css\"\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport \"./css/result.css\"\nimport \"./css/changeTrack.css\"\nimport \"./css/sharePoint.css\"\nimport \"./css/showSharePointFiles.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/app.css\"\nimport \"./css/xDaysResult.css\"\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}