{"version":3,"sources":["components/ItemTable.js","components/ItemTotal.js","components/DefectOptions.js","components/DefectList.js","components/ShowAlert.js","components/CheckList.js","components/Spinner.js","components/UploadForm.js","components/SearchKey.js","components/MainMenu.js","components/SearchedMC.js","components/SupplierInfo.js","components/MfrSelection.js","components/Misc.js","components/Result.js","components/ChangeTrack.js","components/SharePoint.js","components/ShowSharePointFiles.js","components/ShowSpinner.js","AppInspection.js","Home.js","XDaysResult.js","components/UserProfile.js","App.js","index.js"],"names":["ItemTable","props","useEffect","listener","event","code","preventDefault","document","getElementById","click","addEventListener","removeEventListener","setItems","items","setDisplayAlert","mcTable","addMC","editMode","currentSU","currentMF","sortTable","sort","order","newItems","a","b","mc_no","item_no","useState","mc","setMC","handleInputChange","value","target","displayAlert","message","position","timeout","color","className","type","id","name","justify","placeholder","onChange","readOnly","onClick","found","find","x","duplicate","sameMF","su_no","mf_no","undefined","validateMC","align","length","map","item","order_qty","ItemTotal","setItemSearchString","itemsTotal","shippedTotal","sampleTotal","getSampleSize","aqlTable","setItemsTotal","setShippedTotal","setSampleTotal","inspectTotal","setInspectTotal","setAqlSampleTotal","aqlSampleTotal","undoTable","resetInspectQty","el","_total","_shippedTotal","reduce","accumulator","currentValue","parseInt","ship_qty","_sampleTotal","_inspectTotal","inspect_qty","i","_sample_qty","sample_qty","handleInspectQty","newItemsTotal","index","findIndex","r","newEntry","onInput","e","toUpperCase","deleteAllItems","DefectOptions","defects","setDefectLanguage","defectLanguage","defectList","currentProduct","setCurrentProduct","currentDefectArea","setCurrentDefectArea","currentDefectDetail","setCurrentDefectDetail","currentMajor","setCurrentMajor","currentMinor","setCurrentMinor","currentDefectAreaCode","setCurrentDefectAreaCode","currentDefectDetailCode","setCurrentDefectDetailCode","d","productDefect","first","push","filter","product","defect_area","_id","disabled","area_array","split","y","lang","defect_code","detail_array","defect_detail_code","defect_detail","min","max","major_int","isNaN","minor_int","addToDefectList","handleAddDefect","DefectList","isCriticalDefect","defect_lang","area_code","detail","defect_area_code","defect_detail_area","style","major","minor","deleteDefect","colSpan","ShowAlert","alert","class_var","concat","CheckList","checkList","selected","result","nextSelected","handleCheckItemChange","onSubmit","width","category","separator","Spinner","promiseInProgress","usePromiseTracker","area","spinnerMessage","marginTop","height","display","justifyContent","alignItems","fontWeight","UploadForm","inspectionID","setUploads","uploads","downloadDoc","setShowSharePointFiles","sharePointPath","selectedFile","setSelectedFile","multiple","file","files","formData","FormData","append","trackPromise","axios","url","method","data","headers","inspection_id","iteration","charAt","relative_url","then","res","catch","err","response","error","SearchKey","checkDuplicateID","setInspectionID","clearScreen","searchInspByMC","handleKeyChange","MainMenu","handleSave","handleDelete","handleSearch","printReport","setEditMode","userProfile","misc","showFull","updateHistory","submitted","editable","ignore_submit","handleClick","window","confirm","SearchedMC","searchedMC","setShowSearchedMC","newSearchedMC","SupplierInfo","currentSUName","currentMFName","setSelectingSupplier","setShowFull","toLowerCase","MfrSelection","partyTable","setCurrentSU","setCurrentMF","setCurrentSUName","setCurrentMFName","selectingSupplier","su","mf","su_name","mf_name","SU","MF","SU_NAME","MF_NAME","Misc","setInspectionDate","inspectionDate","setMisc","handleChange","element","yes_or_no","newMisc","product_type","lab_test_report","lab_child_safety_report","fibre_content","comments","governance_inspection","props65_report","ship_mode","pack_pct","ship_window","carton_list","carton_total","inspector","qa_type","console","log","dateFormat","date","handleDate","checked","rows","cols","Result","visualResult","calculateFinalResult","calculate_final_result","visual_result","param2","packing_result","final_result","measurement_result","defective_result","sample_threshold","ChangeTrack","showHistory","setShowHistory","convertToLocal","history","Date","parse","updated_time","root","querySelector","setProperty","line","updated_by","updated_mode","SharePoint","getSharePointFiles","showSharePointFiles","setSharePointFiles","src","alt","getTime","newWindow","open","opener","handleClick_view","handleClick_add","ShowSharePointFiles","sharePointFiles","downloadSharePointFile","handleDeleteSPfile","ext","isSupportPicExt","filename","includes","editor","modified","size","folder","unique_id","ShowSpinner","App","showSearchedMC","setDefects","setAlert","setMCTable","setCheckList","setUserProfile","setSearchedMC","itemSearchString","setPartyTable","mfList","setMfList","setAqlTable","main","setMain","setVisualResult","constructTotal","setConstructTotal","setUpdateHistory","checkListTemplate","setCheckListTemplate","setDefectList","criticalDefects","setCriticalDefects","setSharePointPath","_aql","aql","size_start","size_end","sampleQty","Math","round","userAgent","navigator","test","api","fetch","json","j","scroll_y","getElementsByClassName","len","first_found","backgroundColor","firstElementChild","innerHTML","scrollTo","scrollHeight","scrollBy","getElementsByName","children","items1","obj","items2","prev","next","items3","Object","keys","sampleSize","inspectQty","sampleThreshold","defectiveResult","sampleThresholdMajor","sampleThresholdMinor","total_major","total_minor","total_critical","critical","toString","floor","handleSupplierInfo","uuidv4","fillCheckList","setTimeout","JSON","stringify","localStorage","setItem","inspection_date","status","location","delay","ms","Promise","handleSessionTimeOut","defect","t","toTimeString","local","toDateString","local_end","search","substring","newCheckList","file_name","draft","blob","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","parentNode","removeChild","deleteItem","getItem","defect_language","change","file_url","Home","env","title","border","About","setResult","_result","sortInspectionDate","first_name","email","UserProfile","to","gotoPowerBI","clear","path","environment","AppInspection","XDaysResult","ReactDOM","render"],"mappings":"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","file":"static/js/main.38ac960b.chunk.js","sourcesContent":["import { React, useState, useEffect } from \"react\"\n\nconst ItemTable = props => {\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"itemTable_MCBtn\").click()\n      }\n    }\n\n    if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").addEventListener(\"keydown\", listener)\n\n    return () => {\n      if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").removeEventListener(\"keydown\", listener)\n    }\n  }, [])\n\n  const { setItems, items, setDisplayAlert, mcTable, addMC, editMode, currentSU, currentMF } = props\n\n  const sortTable = (sort, order) => {\n    const newItems = [...items]\n    /*table = document.getElementById(\"itemTable\") */\n    if (sort === 0 && order === \"asc\") {\n      newItems.sort(function (a, b) {\n        return a.mc_no > b.mc_no ? 1 : -1\n      })\n    } else if (sort === 0 && order === \"desc\") {\n      newItems.sort(function (a, b) {\n        return a.mc_no < b.mc_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"asc\") {\n      newItems.sort(function (a, b) {\n        return a.item_no > b.item_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"desc\") {\n      newItems.sort(function (a, b) {\n        return a.item_no < b.item_no ? 1 : -1\n      })\n    }\n    setItems(newItems)\n  }\n\n  //* add new MC\n\n  const [mc, setMC] = useState(\"\")\n\n  const handleInputChange = event => {\n    const value = event.target.value\n    setMC(value)\n  }\n\n  const validateMC = () => {\n    //event.preventDefault()\n\n    const found = mcTable.find(x => x.mc_no === mc)\n    const duplicate = items.find(x => x.mc_no === mc)\n    const sameMF = mcTable.find(x => x.mc_no === mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else if (duplicate === undefined) {\n      addMC(mc)\n    } else {\n      displayAlert(\"MC was already entered in the item list, please check ! \")\n    }\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 1, timeout: 1500, color: \"alert__red\" })\n  }\n\n  return (\n    <div>\n      <div className=\"itemTable_Section\">\n        <div>Add MC:</div>\n        &nbsp;\n        <div>{editMode ? <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Additional MC here\" onChange={handleInputChange} /> : <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Include additional MC here\" readOnly onChange={handleInputChange} />}</div>\n        &nbsp;&nbsp;\n        <div>\n          {editMode ? (\n            <i\n              id=\"itemTable_MCBtn\"\n              className=\"fa fa-plus clickable\"\n              onClick={() => {\n                validateMC(mc)\n              }}\n            ></i>\n          ) : null}\n        </div>\n      </div>\n      <div className=\"itemTable_Header\">\n        <div>\n          By MC#&nbsp;\n          <i\n            className=\"fa fa-chevron-circle-up\"\n            onClick={() => {\n              sortTable(0, \"asc\")\n            }}\n          ></i>\n          &nbsp;\n          <i\n            className=\"fa fa-chevron-circle-down\"\n            onClick={() => {\n              sortTable(0, \"desc\")\n            }}\n          ></i>\n        </div>\n        <div>\n          Item&nbsp;\n          <i\n            className=\"fa fa-chevron-circle-up\"\n            onClick={() => {\n              sortTable(1, \"asc\")\n            }}\n          ></i>\n          &nbsp;\n          <i\n            className=\"fa fa-chevron-circle-down\"\n            onClick={() => {\n              sortTable(1, \"desc\")\n            }}\n          ></i>\n        </div>\n        <div align=\"center\">Order</div>\n        <div></div>\n      </div>\n\n      <div id=\"itemTableScroller\" className=\"itemTable_GridContainer\">\n        {items.length > 0\n          ? items.map(item => (\n              <div key={item.id} className=\"itemTable_Detail\">\n                <div>{item.mc_no}</div>\n                <div>{item.item_no}</div>\n                <div align=\"center\">{item.order_qty}</div>\n              </div>\n            ))\n          : null}\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTable\n","import { React, useEffect } from \"react\"\n\nconst ItemTotal = props => {\n  const { setItemSearchString, itemsTotal, editMode, shippedTotal, sampleTotal, getSampleSize, aqlTable, setItemsTotal, setShippedTotal, setSampleTotal, inspectTotal, setInspectTotal, setAqlSampleTotal, aqlSampleTotal, undoTable, resetInspectQty, setDisplayAlert } = props\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"highLightItemBtn\").click()\n      }\n    }\n    var el = document.getElementById('itemTotal_searchString');\n    \n    if(el){      \n      el.addEventListener(\"keydown\", listener)\n      return () => {\n        el.removeEventListener(\"keydown\", listener)\n       }\n      }   \n\n  }, [])\n\n  useEffect(() => {\n    const _total = [...itemsTotal]\n    if (_total.length === 0) {\n      setShippedTotal(0)\n      setSampleTotal(0)\n    } else {\n      for (var i = 0; i < _total.length; i++) {\n        const reducer1 = (accumulator, currentValue) => accumulator + parseInt(currentValue.ship_qty)\n        const _shippedTotal = _total.reduce(reducer1, 0)\n        setShippedTotal(_shippedTotal)\n\n        // calculate total number of samples\n        const reducer2 = (accumulator, currentValue) => accumulator + getSampleSize(aqlTable, currentValue.ship_qty, _shippedTotal)\n        const _sampleTotal = _total.reduce(reducer2, 0)\n        setSampleTotal(_sampleTotal)\n\n        // calculate total number of inspection qty\n        const reducer3 = (accumulator, currentValue) => accumulator + parseInt(currentValue.inspect_qty)\n        const _inspectTotal = _total.reduce(reducer3, 0)\n        setInspectTotal(_inspectTotal)\n\n        // calculate AQL sample size\n        setAqlSampleTotal(getSampleSize(aqlTable, shippedTotal, _shippedTotal))\n      }\n    }\n  }, [itemsTotal, shippedTotal, sampleTotal, aqlTable, setSampleTotal, setShippedTotal, getSampleSize, inspectTotal, setInspectTotal, setAqlSampleTotal])\n\n  useEffect(() => {\n    const _total = [...itemsTotal]\n    for (var i = 0; i < _total.length; i++) {\n      const _sample_qty = getSampleSize(aqlTable, _total[i].ship_qty, shippedTotal)\n      _total[i].sample_qty = _sample_qty\n      //_total[i].inspect_qty = _sample_qty\n    }\n    setItemsTotal(_total)\n\n    // eslint-disable-next-line\n  }, [shippedTotal])\n\n  const handleShipQty = item_no => event => {\n    let value = event.target.value\n    if (value === \"\") {\n      return\n    }\n    if (value > 20000) {\n      value = 20000\n      setDisplayAlert({ message: \"Number of ship units is too large!\", position: 1, timeout: 3000, color: \"alert__red\" })\n    }\n\n    const newItemsTotal = [...itemsTotal]\n    const index = newItemsTotal.findIndex(r => r.item_no === item_no)\n    const newEntry = newItemsTotal.find(r => r.item_no === item_no)\n    newItemsTotal[index] = { ...newEntry, ship_qty: value }\n    setItemsTotal(newItemsTotal)\n  }\n\n  const handleInspectQty = item_no => event => {\n    let value = event.target.value\n    const newItemsTotal = [...itemsTotal]\n    const index = newItemsTotal.findIndex(r => r.item_no === item_no)\n    const newEntry = newItemsTotal.find(r => r.item_no === item_no)\n    newItemsTotal[index] = { ...newEntry, inspect_qty: value }\n    setItemsTotal(newItemsTotal)\n  }\n\n  return (\n    // present the table\n\n    <div>\n      <div className=\"itemTotal_Section\">\n        <div>Highlight item :</div>\n\n        <div>\n          <input type=\"text\" name=\"itemTotal_searchString\" id=\"itemTotal_searchString\" justify=\"left\" onInput={e => (e.target.value = (\"\" + e.target.value).toUpperCase())} placeholder=\"Enter item here\" />\n        </div>\n\n        <div>\n          <i\n            className=\"fa fa-search\"\n            id=\"highLightItemBtn\"\n            onClick={() => {\n              setItemSearchString(document.getElementById(\"itemTotal_searchString\").value)\n            }}\n          ></i>\n        </div>\n\n        <div>\n          Refresh Qty.&nbsp;\n          <i\n            className=\"fa fa-angle-double-right itemTotal_arrow_color\"\n            onClick={() => {\n              resetInspectQty()\n            }}\n          ></i>\n          <i\n            className=\"fa fa-angle-double-right  itemTotal_arrow_color\"\n            onClick={() => {\n              resetInspectQty()\n            }}\n          ></i>\n        </div>\n\n        <div>\n          Undo\n          <i\n            className=\"fa fa-undo\"\n            onClick={() => {\n              undoTable()\n            }}\n          ></i>\n        </div>\n      </div>\n\n      <div className=\"itemTotal_Header\">\n        <div>By Item</div>\n        <div>Ship</div>\n        <div>Sample</div>\n        <div>Inspect</div>\n        <div>Delete</div>\n      </div>\n\n      <div id=\"scroller\" className=\"itemTotal_GridContainer\">\n        {itemsTotal\n          ? itemsTotal.map(item => (\n              <div key={item.item_no} className=\"itemTotal_Detail\">\n                <div>{item.item_no}</div>\n                <div>\n                  <input type=\"text\" id=\"itemTotal_shipQty\" name=\"itemTotal_shipQty\" value={item.ship_qty || \"\"} justify=\"left\" onChange={handleShipQty(item.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                </div>\n                <div>{getSampleSize(aqlTable, item.ship_qty, shippedTotal)}</div>\n                <div>\n                  <input type=\"text\" id=\"itemTotal_InspectQty\" name=\"itemTotal_InspectQty\" value={item.inspect_qty || \"\"} justify=\"left\" placeholder=\"\" onChange={handleInspectQty(item.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                </div>\n                <div>\n                  {editMode ? (\n                    <i\n                      className=\"fa fa-times clickable\"\n                      onClick={() => {\n                        props.deleteAllItems(item.item_no)\n                      }}\n                    ></i>\n                  ) : null}\n                </div>\n              </div>\n            ))\n          : null}\n      </div>\n\n      <div className=\"itemTotal_Total\">\n        <div> Total :</div>\n        <div>{shippedTotal}</div>\n        <div>{aqlSampleTotal}</div>\n        <div className={aqlSampleTotal !== inspectTotal ? \"highlightSection\" : null}>{inspectTotal}</div>\n        <div></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTotal\n","import React, { useState, Fragment } from \"react\"\n\nconst DefectOptions = props => {\n  // remove columns : mc_no and id in prepration for calculating total by item#\n  const { editMode, defects, setDisplayAlert, setDefectLanguage, defectLanguage, defectList } = props\n\n  const [currentProduct, setCurrentProduct] = useState(\"Select\")\n  const [currentDefectArea, setCurrentDefectArea] = useState(\"\")\n  const [currentDefectDetail, setCurrentDefectDetail] = useState(\"\")\n  const [currentMajor, setCurrentMajor] = useState(\"\")\n  const [currentMinor, setCurrentMinor] = useState(\"\")\n  const [currentDefectAreaCode, setCurrentDefectAreaCode] = useState(\"\")\n  const [currentDefectDetailCode, setCurrentDefectDetailCode] = useState(\"\")\n\n  //  prepare for the defect selection - need to associate based on each specific product and then its associted defect.\n  let d = defectList\n  const productDefect = []\n\n  while (d.length > 0) {\n    const first = d[0]\n    productDefect.push(first)\n    d = d.filter(x => (x.product !== first.product || x.defect_area !== first.defect_area) && x._id !== first._id)\n  }\n\n  const handleSelectChangeProduct = event => {\n    const { value } = event.target\n    if (disableProductSelect() === \"disabled\") {\n      if (value !== defects[0].product) {\n        setDisplayAlert({ message: \"Product '\" + defects[0].product + \"' has already been chosen !! Please empty all defects if you decide to change product ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n      }\n      document.getElementById(\"defectOptionsProduct\").value = defects[0].product\n      document.getElementById(\"defectOptionsDefectArea\").value = \"Select\"\n      setCurrentProduct(defects[0].product)\n    } else {\n      setCurrentProduct(value)\n    }\n\n    setCurrentDefectArea(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n    setCurrentDefectAreaCode(\"\")\n    setCurrentDefectDetailCode(\"\")\n  }\n\n  function disableProductSelect() {\n    if (defects.length > 0) {\n      return \"disabled\"\n    } else return null\n  }\n\n  const handleSelectChangeDefect = event => {\n    const { value } = event.target\n    const area_array = value.split(\"-\")\n    setCurrentDefectAreaCode(area_array[0])\n    setCurrentDefectArea(area_array[1])\n    setCurrentDefectDetail(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleSelectChangeDefectDetail = event => {\n    const { value } = event.target\n    const detail_array = value.split(\"-\")\n    setCurrentDefectDetailCode(detail_array[0])\n    setCurrentDefectDetail(detail_array[1])\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleCurrentMajorChange = event => {\n    const { value } = event.target\n    setCurrentMajor(value)\n  }\n\n  const handleCurrentMinorChange = event => {\n    const { value } = event.target\n    setCurrentMinor(value)\n  }\n\n  const handleChangeDefectLanguage = event => {\n    const { value } = event.target\n    if (defects.length > 0) {\n      setDefectLanguage(value)\n      //setDisplayAlert({ message: \"Language has already been chosen !! Please empty all defects if you decide to change language ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else {\n      setDefectLanguage(value)\n    }\n  }\n\n  const handleAddDefect = event => {\n    //event.preventDefault()\n    const major_int = isNaN(parseInt(currentMajor)) // check if empty, return true if empty\n    const minor_int = isNaN(parseInt(currentMinor)) // check if empty, return true if empty\n\n    if (currentProduct === \"Select\" || currentDefectArea === \"Select\" || currentDefectDetail === \"Select\") {\n      props.setDisplayAlert({ message: \"Please make sure you select Product, Defect and Defect Detail ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else if (major_int || minor_int || (currentMajor < 1 && currentMinor < 1)) {\n      props.setDisplayAlert({ message: \"Please make sure you enter either Major and Minor quantity ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else {\n      props.addToDefectList(currentProduct, currentDefectArea, currentDefectDetail, currentMajor, currentMinor, currentDefectAreaCode, currentDefectDetailCode, defectLanguage)\n    }\n  }\n\n  return (\n    // present the table\n\n    <Fragment>\n      <div className=\"defectOption_header\">\n        <div>Language</div>\n        <div>&nbsp;&nbsp;&nbsp;&nbsp;</div>\n        <div>\n          <select className=\"defectOption_language\" onChange={handleChangeDefectLanguage} value={defectLanguage}>\n            <option value=\"en\">English</option>\n            <option value=\"zh\">Chinese</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"defectOption\">\n        <div className=\"defectOption_product\">\n          <select onChange={handleSelectChangeProduct} id=\"defectOptionsProduct\">\n            {/* <option disabled={disableProductSelect()}  value=\"Select\">Select</option> */}\n            <option value=\"Select\">Select</option>\n            <option value=\"Fashion Jewelry\" disabled={editMode ? \"\" : \"disabled\"}>\n              Fashion Jewelry\n            </option>\n            <option value=\"Footwear\" disabled={editMode ? \"\" : \"disabled\"}>\n              Footware\n            </option>\n            <option value=\"Handbags\" disabled={editMode ? \"\" : \"disabled\"}>\n              Handbags\n            </option>\n            <option value=\"Hardlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Hardlines\n            </option>\n            <option value=\"Softlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Softlines\n            </option>\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectArea\">\n          <select onChange={handleSelectChangeDefect} id=\"defectOptionsDefectArea\">\n            <option value=\"Select\">Select</option>\n            {productDefect\n              .filter(y => y.product === currentProduct && y.lang === defectLanguage)\n              .map(x => (\n                <option key={x._id} value={x.defect_code + \"-\" + x.defect_area}>\n                  {x.defect_code + \"-\" + x.defect_area}\n                </option>\n              ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectDetail\">\n          <select onChange={handleSelectChangeDefectDetail}>\n            <option value=\"Select\">Select</option>\n            {defectList\n              .filter(y => y.product === currentProduct && y.defect_area === currentDefectArea && y.lang === defectLanguage)\n              .map(x => (\n                <option key={x._id} value={x.defect_detail_code + \"-\" + x.defect_detail}>\n                  {x.defect_detail_code + \"-\" + x.defect_detail}\n                </option>\n              ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_major\">\n          <input type=\"number\" name=\"major\" placeholder=\" Major\" value={currentMajor} min=\"0\" max=\"5\" onChange={handleCurrentMajorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div className=\"defectOption_minor\">\n          <input type=\"number\" name=\"minor\" placeholder=\" Minor\" value={currentMinor} min=\"0\" max=\"5\" onChange={handleCurrentMinorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div>\n          {editMode ? (\n            <button\n              onClick={() => {\n                handleAddDefect()\n              }}\n            >\n              Add\n            </button>\n          ) : null}\n        </div>\n        <div></div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectOptions\n","import React, { Fragment } from \"react\"\n\nconst DefectList = props => {\n  const { defects, editMode, isCriticalDefect, defectLanguage, defectList }   = props\n\n  function defect_lang(product, area_code, detail) {\n      //console.log(\"input\", product, area_code, detail)\n      const defect = defectList.filter(x => x.product === product && x.defect_code === area_code && x.defect_detail_code === detail  && x.lang === defectLanguage)      \n      return defect[0]\n  }\n\n  return (\n    // present the table\n    // adding span below appends ... to the off-limit text\n    <Fragment>\n      <div className=\"defectList\">\n        <div className=\"defectList_gridHeader\">\n          <div>Product</div>\n          <div>Defect</div>\n          <div>Defect Detail</div>\n          <div className=\"defectList_major_header\">\n            Major/<br></br>Critical\n          </div>\n          <div className=\"defectList_minor_header\">Minor</div>\n          <div>Delete</div>\n        </div>\n\n        {defects.length > 0 ? (\n          defects.map(x => (\n            <div className=\"defectList_gridDetail\" key={x.id}>\n              <div className=\"defectList_gridItem defectList_product\">{x.product}</div>\n              <div className=\"defectList_gridItem defectList_defectArea\">{x.defect_area_code + \"-\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_area}</div>\n              <div className=\"defectList_gridItem  defectList_defectDetail\" style={{ color: isCriticalDefect(x.product, x.defect_detail_area) ? \"red\" : \"inherit\" }}>\n                <span>{x.defect_detail_area + \"-\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_detail}</span>\n              </div>\n              <div className=\"defectList_major\">{x.major}</div>\n              <div className=\"defectList_minor\">{x.minor}</div>\n              <div className=\"defectList_deleteButton\">\n                {editMode ? (\n                  <button\n                    onClick={() => {\n                      props.deleteDefect(x.id)\n                    }}\n                  >\n                    &times;\n                  </button>\n                ) : null}\n              </div>\n              <div></div>\n            </div>\n          ))\n        ) : (\n          <div>\n            <div colSpan={3}>No Defects</div>\n          </div>\n        )}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectList\n","import React from \"react\"\n\nconst ShowAlert = props => {\n  const alert = props.alert\n  const class_var = \"alert \".concat(alert.color)\n\n  return (\n    // present the table\n    <h5 className={class_var}>{alert.message}</h5>\n  )\n}\nexport default ShowAlert\n","import React from \"react\"\n\nconst CheckList = props => {\n  const { editMode, checkList } = props\n\n  checkList.sort((a, b) => a.id - b.id);   // must sort to present in order... \n\n  const handleInputChange = (id, x) => {\n    if (editMode) {\n      const selected = [\"Select\", \"OK\", \"NA\", \"X\", \"NI\"]\n      let index = selected.findIndex(y => y === x.result)\n      if (index === 4) {\n        index = 1\n      } else {\n        index = index + 1\n      }\n      const nextSelected = selected[index]\n      props.handleCheckItemChange(id, { ...x, result: nextSelected })\n    }\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault() //  props.updateItem(item.id, item)\n      }}\n    >\n      <div className=\"checkList_header\">Basic Check List</div>\n      <div className=\"checkFormGrid\">\n        <div>\n          <table id=\"checkListTable\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id > 0 && y.id <= 42)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 43 && y.id <= 68)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 81)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            // bgcolor=\"white\"\n                            className=\"checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </form>\n  )\n}\n\nexport default CheckList\n","import React from \"react\"\nimport { usePromiseTracker } from \"react-promise-tracker\"\nimport Loader from \"react-loader-spinner\"\n\nexport const Spinner = props => {\n  const { promiseInProgress } = usePromiseTracker({ area: props.area })\n  const { spinnerMessage } = props\n\n  return (\n    promiseInProgress && (\n      <div\n        style={{\n          marginTop: \"0.5rem\",\n          width: \"100%\",\n          height: \"30\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"green\",\n          fontWeight: \"bold\"\n        }}\n      >\n        {/* <Loader type=\"ThreeDots\" color=\"#2BAD60\" height=\"50\" width=\"100\" /> */}\n        {/* <Loader type=\"Circles\" color=\"rgba(129, 160, 250, 255)\" height=\"40\" width=\"100\" /> */}\n        {spinnerMessage}\n        <Loader type=\"Circles\" color=\"green\" height=\"30\" width=\"100\" />\n      </div>\n    )\n  )\n}\n","import React, { Fragment, useState } from \"react\"\nimport axios from \"axios\"\nimport { Spinner } from \"./Spinner\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst UploadForm = props => {\n  const { setDisplayAlert, inspectionID, setUploads, uploads, downloadDoc, editMode, currentSU, currentMF, setShowSharePointFiles, sharePointPath } = props\n  const [selectedFile, setSelectedFile] = useState()\n\n  const handleFile = event => {\n    setSelectedFile({ file: event.target.files })\n  }\n\n  const handleUpload = event => {\n    //event.preventDefault()\n\n    //displayAlert('Do not hit \"UPLOAD\" button again ! Upload in progress')\n\n    const formData = new FormData()\n\n    try {\n      const files = selectedFile.file\n\n      for (let i = 0; i < files.length; i++) {\n        formData.append(`files[]`, files[i])\n        //console.log(files[i], \"hello  ---$$$\")\n      }\n\n      trackPromise(\n        axios({\n          url: \"/api/upload\",\n          method: \"POST\",\n          data: formData,\n          headers: {\n            inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type.charAt(0),\n            //relative_url: \"2022InspRpt/SU\" + currentSU + \"MF\" + currentMF\n            relative_url: sharePointPath.concat(\"/\", \"SU\", currentSU, \"MF\", currentMF)\n          }\n        })\n          .then(res => {\n            for (var i = 0; i < res.data.length; i++) {\n              //const _id = res.data[i]._id\n              //const inspection_id = inspectionID\n              //const file_name = res.data[i].file_name\n              //const mime_type = res.data[i].mime_type\n              setShowSharePointFiles(true)\n            }\n            document.getElementById(\"sharePoint_file\").value = null\n            document.getElementById(\"sharePoint_refresh\").click()\n          })\n          .catch(err => {\n            //console.log(err.response.data)\n            displayAlert(err.response.data)\n          }),\n        \"sharePointUpload\"\n      )\n    } catch (error) {\n      displayAlert(\"Please select files and try again !!\")\n    }\n  }\n\n  function getExtension(file_name) {\n    var parts = file_name.split(\".\")\n    return parts[parts.length - 1]\n  }\n\n  function showMimeIcon(file_name) {\n    const iconTypes = [\n      { ext: \"jpeg\", icon: \"file-image-o\" },\n      { ext: \"jpg\", icon: \"file-image-o\" },\n      { ext: \"bmp\", icon: \"file-image-o\" },\n      { ext: \"png\", icon: \"file-image-o\" },\n      { ext: \"jif\", icon: \"file-image-o\" },\n      { ext: \"mp4\", icon: \"file-movie-o\" },\n      { ext: \"avi\", icon: \"file-movie-o\" },\n      { ext: \"mpg\", icon: \"file-movie-o\" },\n      { ext: \"txt\", icon: \"file-text-o\" },\n      { ext: \"xlsx\", icon: \"file-excel-o\" },\n      { ext: \"xls\", icon: \"file-excel-o\" },\n      { ext: \"doc\", icon: \"file-word-o\" },\n      { ext: \"docx\", icon: \"file-word-o\" },\n      { ext: \"ppt\", icon: \"file-powepoint-o\" },\n      { ext: \"pdf\", icon: \"file-pdf-o\" },\n      { ext: \"pptx\", icon: \"file-pdf-o\" },\n      { ext: \"zip\", icon: \"file-zip-o\" }\n    ]\n\n    const fileExtension = getExtension(file_name)\n    const iconType = iconTypes.find(x => x.ext === fileExtension.toLowerCase()).icon\n    const iconFont = iconType ? iconType : \"fa-fa-file\" // file type not registered\n    return \"fa fa-\" + iconFont + \" addSpace\"\n  }\n\n  const deleteUpload = id => {\n    const newUploadTable = [...uploads]\n    const index = newUploadTable.findIndex(r => r._id === id)\n    const uploadItem = newUploadTable.find(r => r._id === id)\n    newUploadTable[index] = { ...uploadItem, enable: false }\n    //console.log(newUploadTable)\n    setUploads(newUploadTable)\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 3, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"uploadDoc\">\n        {editMode ? (\n          <form>\n            <input type=\"file\" multiple name=\"file\" id=\"sharePoint_file\" onChange={handleFile} />\n            <button type=\"button\" onClick={handleUpload}>\n              Upload files\n            </button>         \n          </form>            \n        ) : null}\n\n        {/* <table id=\"uploadFiles\">\n          <tbody>\n            {uploads\n              .filter(y => y.enable)\n              .map(x => (\n                <tr key={x._id}>\n                  <td>\n                    <button\n                      className=\"button-delete small-button\"\n                      onClick={() => {\n                        deleteUpload(x._id)\n                      }}\n                    >\n                      &times;\n                    </button>\n                    <a href=\"/#\" onClick={downloadDoc(x._id, x.file_name)}>\n                      <i className={showMimeIcon(x.file_name)} />\n                      {x.file_name}\n                    </a>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table> */}\n \n     </div>\n      <Spinner area=\"sharePointUpload\" />\n    </Fragment>\n  )\n}\n\nexport default UploadForm\n","import React, { Fragment } from \"react\"\n//import axios from \"axios\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchKey = props => {\n  const { checkDuplicateID, mcTable, setDisplayAlert, inspectionID, setInspectionID, clearScreen, searchInspByMC, currentMF, currentSU, editMode } = props\n\n  const handleKeyChange = event => {\n    const id = event.target.id\n    const { value } = event.target\n\n    switch (id) {\n      case \"searchKey_mc\":\n        setInspectionID({ ...inspectionID, mc: value })\n        if (value.length >= 3) searchInspByMC(value)\n        // pass first few characters of MC entered\n        else clearScreen()\n        break\n      case \"searchKey_iteration\":\n        setInspectionID({ ...inspectionID, iteration: value })\n        break\n      case \"searchKey_type\":\n        setInspectionID({ ...inspectionID, type: value })\n        break\n      default:\n        break\n    }\n  }\n\n  const validateMC = id => {\n    clearScreen()\n\n    const found = mcTable.find(x => x.mc_no === id.mc)\n    const sameMF = mcTable.find(x => x.mc_no === id.mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else {\n      checkDuplicateID(id)\n    }\n  }\n\n  function isInvalidID() {\n    if (inspectionID.mc === \"\" || inspectionID.iteration === \"Select\" || inspectionID.iteration === \"\" || inspectionID.type === \"Select\") return true\n    else return false\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"searchKey\">\n        <div className=\"searchKey_pair\">\n          <label>MC# : </label>\n          <input type=\"text\" name=\"searchKey_mc\" id=\"searchKey_mc\" onChange={handleKeyChange} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Iteration : </label>\n          <input type=\"number\" name=\"searchKey_iteration\" id=\"searchKey_iteration\" placeholder=\"Iteration\" min=\"1\" max=\"9\" onChange={handleKeyChange} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Type : </label>\n          <select name=\"searchKey_type\" id=\"searchKey_type\" onChange={handleKeyChange}>\n            <option value=\"Select\">Select</option>\n            <option value=\"1st Line\">1st In-line</option>\n            <option value=\"2nd Line\">2nd In-Line</option>\n            <option value=\"3rd Line\">3rd In-Line</option>\n            <option value=\"4th Line\">4th In-Line</option>\n            <option value=\"5th Line\">5th In-Line</option>\n            <option value=\"1st Pre-final\">1st Pre-final</option>\n            <option value=\"2nd Pre-final\">2nd Pre-final</option>\n            <option value=\"Pre-Production Meeting\">Pre-Production Meeting</option>\n            <option value=\"Final\">Final</option>\n            <option value=\"Re-inspection for Failure\">Re-inspection for Failure</option>\n          </select>\n        </div>\n        <div></div>\n        {!editMode ? (\n          <div>\n            {!isInvalidID() ? (\n              <div>\n                <button\n                  onClick={() => {\n                    validateMC(inspectionID)\n                  }}\n                >\n                  Create Inspection\n                </button>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n      </div>\n      <Spinner area=\"searchKey\" />\n    </Fragment>\n  )\n}\n\nexport default SearchKey\n","import React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { handleSave, handleDelete, handleSearch, inspectionID, printReport, editMode, setEditMode, userProfile, misc, showFull, clearScreen, updateHistory } = props\n\n  const submitted = misc.submitted\n  const editable = userProfile.ignore_submit === undefined ? false : userProfile.ignore_submit\n\n  const handleClick = event => {\n    const id = event.target.id\n\n    setEditMode(false)\n\n    if (id === \"save\") {\n      submitted ? handleSave(true) : handleSave(false)\n    }\n\n    if (id === \"edit\") {\n      setEditMode(true)\n    }\n\n    if (id === \"delete\") {\n      handleDelete(inspectionID)\n    }\n    if (id === \"search\") {\n      setEditMode(false)\n      handleSearch(inspectionID)\n    }\n    if (id === \"print\") {\n      printReport(\"Inspection_Report.xlsx\", false)\n    }\n    if (id === \"print_draft\") {\n      // print draft watermark\n      printReport(\"Inspection_Report.xlsx\", true)\n    }\n\n    if (id === \"cancel\") {\n      setEditMode(false)\n      clearScreen()\n    }\n  }\n  return (\n    <Fragment>\n      <div className=\"mainMenu\">\n        <div className=\"mainMenu_inspectionKey\">\n          Inspection Key : &nbsp;&nbsp;\n          {/* {(submitted || \"\") && showFull ? <i className=\"fa fa-lock mainMenu_lock\"></i> : null} */}\n          {(submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-lock mainMenu_lock\"\n              onClick={() => {\n                if (editable) {\n                  var confirm = window.confirm(\"Are you sure you want to unlock this inspeciton ? \")\n                  if (confirm === true) {\n                    handleSave(false)\n                  }\n                } else {\n                  alert(\"You have no rights to unlock this inspeciton !\")\n                }\n              }}\n            ></i>\n          ) : null}\n          {(!submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-unlock mainMenu_unlock\"\n              onClick={() => {\n                var confirm = window.confirm(\"Are you sure you want to submit or lock this inspeciton ? \")\n                if (confirm === true) {\n                  handleSave(true)\n                }\n              }}\n            ></i>\n          ) : null}\n        </div>\n        {editMode || \"\" ? (\n          <button id=\"save\" onClick={handleClick}>\n            Save\n          </button>\n        ) : null}\n        {!editMode ? (\n          <button id=\"search\" onClick={handleClick}>\n            Search\n          </button>\n        ) : null}\n        {!editMode && showFull && (!submitted || editable) ? (\n          <button id=\"edit\" onClick={handleClick}>\n            Edit&nbsp;\n            {(submitted || \"\") && showFull ? <i className=\"fa fa-lock\"></i> : null}\n          </button>\n        ) : null}\n        {editMode ? (\n          <button id=\"cancel\" onClick={handleClick}>\n            Cancel\n          </button>\n        ) : null}\n        {!editMode && submitted ? (\n          <button id=\"print\" onClick={handleClick}>\n            Print\n          </button>\n        ) : null}\n        {!editMode && !submitted && showFull ? (\n          <button id=\"print_draft\" onClick={handleClick}>\n            Print Draft\n          </button>\n        ) : null}\n\n        {(showFull || \"\") && editable && showFull && updateHistory.length > 0 ? (\n          <button id=\"delete\" onClick={handleClick} className=\"deleteButton\">\n            Delete\n          </button>\n        ) : null}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchedMC = props => {\n  const { setInspectionID, handleSearch, searchedMC, setShowSearchedMC, mcTable, currentSU, currentMF } = props\n\n  const newSearchedMC = []\n  for (var i = 0; i < searchedMC.length; i++) {\n    const mc_no = searchedMC[i].mc\n    const rec = mcTable.find(x => x.mc_no === mc_no && x.su_no === currentSU && x.mf_no === currentMF)\n    if (rec) {\n      newSearchedMC.push(searchedMC[i])\n    }\n  }\n\n  const handleClick = id => {\n    setInspectionID(id)\n    handleSearch(id)\n    // Set search fields in SearchKey.js\n    document.getElementById(\"searchKey_mc\").value = id.mc\n    document.getElementById(\"searchKey_iteration\").value = id.iteration\n    document.getElementById(\"searchKey_type\").value = id.type\n    setShowSearchedMC(false)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      <div className=\"searchedMC\">\n        <div className=\"searchedMC_header1 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        <div className=\"searchedMC_header2 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        <div className=\"searchedMC_header3 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        {newSearchedMC.length > 0\n          ? newSearchedMC.map(x => (\n              <div\n                className=\"searchedMC_detail\"\n                key={x.id}\n                onClick={() => {\n                  handleClick({ mc: x.mc, iteration: x.iteration, type: x.type })\n                }}\n              >\n                <div></div>\n                <div>{x.mc}</div>\n                <div>{x.iteration}</div>\n                <div>{x.type}</div>\n              </div>\n            ))\n          : null}\n      </div>\n      <Spinner area=\"mfrSelection\" />\n    </Fragment>\n  )\n}\n\nexport default SearchedMC\n","import React, { Fragment } from \"react\"\n\nconst SupplierInfo = props => {\n  const { currentSU, currentMF, currentSUName, currentMFName, setSelectingSupplier, setShowFull } = props\n\n  const changeSelectingSuppler = () => {\n    setSelectingSupplier(true)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {!!currentSU ? (\n        <div className=\"supplierInfo\">\n          <button\n            onClick={() => {\n              setShowFull(false)\n              changeSelectingSuppler()\n            }}\n          >\n            Select\n          </button>\n          <div className=\"supplierInfo_capitalize supplierInfoSU\">\n            {currentSUName.toLowerCase()} ({currentSU})\n          </div>\n          <div className=\"supplierInfo_capitalize supplierInfoMF\">\n            {currentMFName.toLowerCase()} ({currentMF})\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default SupplierInfo\n","import React, { Fragment } from \"react\"\n\nconst MfrSelection = props => {\n  const { partyTable, setCurrentSU, setCurrentMF, setCurrentSUName, setCurrentMFName, selectingSupplier, setSelectingSupplier } = props\n\n  const handleClick = (su, mf, su_name, mf_name) => {\n    setCurrentSU(su)\n    setCurrentMF(mf)\n    setCurrentSUName(su_name)\n    setCurrentMFName(mf_name)\n    setSelectingSupplier(false)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {partyTable && selectingSupplier ? <div className=\"mfrSelection_header\">Select a manufacturer:</div> : null}\n      {partyTable && selectingSupplier\n        ? partyTable.map(x => (\n            <div\n              className=\"mfrSelection\"\n              key={x.SU.concat(x.MF)}\n              onClick={() => {\n                handleClick(x.SU, x.MF, x.SU_NAME, x.MF_NAME)\n              }}\n            >\n              <div className=\"mfrSelectionSU\">\n                {x.SU_NAME} ({x.SU}){\" \"}\n              </div>\n              <div className=\"mfrSelectionMF\">\n                {x.MF_NAME} ({x.MF}){\" \"}\n              </div>\n            </div>\n          ))\n        : null}\n\n      \n    </Fragment>\n  )\n}\nexport default MfrSelection\n","import React from \"react\"\nimport DatePicker from \"react-datepicker\"\n\nconst Misc = props => {\n  const { setInspectionDate, inspectionDate, setMisc, misc, editMode } = props\n\n  const handleDate = date => {\n    setInspectionDate(date)\n  }\n\n  // Misc Fields (Text) Capture\n  const handleChange = (element, yes_or_no) => event => {\n    let value = event.target.value\n\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 2: //b\n          newMisc = { ...newMisc, product_type: value }\n          break\n        case 3: //c\n          newMisc = { ...newMisc, lab_test_report: value }\n          break\n        case 4: //d\n          newMisc = { ...newMisc, lab_child_safety_report: value }\n          break\n        case 5: //e\n          newMisc = { ...newMisc, fibre_content: value }\n          break\n        case 6: //f\n          newMisc = { ...newMisc, comments: value }\n          break\n        case 7: //g\n          newMisc = { ...newMisc, governance_inspection: yes_or_no }\n          break\n        case 8: //h\n          newMisc = { ...newMisc, props65_report: value }\n          break\n        case 9: //i\n          newMisc = { ...newMisc, ship_mode: value }\n          break\n        case 10: //j\n          newMisc = { ...newMisc, pack_pct: value }\n          break\n        case 11: //k\n          newMisc = { ...newMisc, ship_window: value }\n          break\n        case 12: //l\n          newMisc = { ...newMisc, carton_list: value }\n          break\n        case 13: //m\n          newMisc = { ...newMisc, carton_total: value }\n          break\n        case 14: //n\n          newMisc = { ...newMisc, inspector: value }\n          break\n        case 15: //n\n          newMisc = { ...newMisc, qa_type: value }\n          break\n\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <div className=\"misc\">\n      <div className=\"misc_a\">\n        <div className=\"misc_title misc_grid_a\">\n          <div>Inspection Date (A)</div>\n          <DatePicker className=\"datePicker\" dateFormat=\"MM/dd/yy\" selected={inspectionDate} onChange={date => handleDate(date)} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n      </div>\n\n      <div className=\"misc_g misc_grid_g\">\n        <div className=\"misc_title\">Governance Inspection (G)</div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_yes\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"Yes\"} onChange={handleChange(7, \"Yes\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>Yes</div>\n        <div></div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_no\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"No\"} onChange={handleChange(7, \"No\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>No</div>\n      </div>\n\n      <div className=\"misc_j misc_grid_j\">\n        <div className=\"misc_title\">Pack % During Inspection (J)</div>\n        <input type=\"text\" id=\"misc_packPct\" name=\"misc_packPct\" value={misc.pack_pct || \"\"} justify=\"left\" placeholder=\"%\" onChange={handleChange(10)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_k misc_grid_k\">\n        <div className=\"misc_title\">Ship Window (K)</div>\n        <input type=\"text\" id=\"misc_shipWindow\" name=\"misc_shipWindow\" value={misc.ship_window || \"\"} justify=\"left\" placeholder=\"Ship Window\" onChange={handleChange(11)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_b misc_grid_b\">\n        <div className=\"misc_title\">Product Type (B)</div>\n        <input type=\"text\" id=\"misc_productType\" name=\"misc_productType\" value={misc.product_type || \"\"} justify=\"left\" placeholder=\"Product Type\" onChange={handleChange(2)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_o misc_grid_o\">\n          <div className=\"misc_title\">QA Type (O)</div>\n\n          <select id=\"misc_qaType\" name=\"misc_qaType\" value={misc.qa_type || \"Select\"} justify=\"left\" placeholder=\"QA Type\" onChange={handleChange(15)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"MQA\" disabled={editMode ? \"\" : \"disabled\"}>\n              MQA\n            </option>\n            <option value=\"SQA\" disabled={editMode ? \"\" : \"disabled\"}>\n              SQA\n            </option>\n          </select>\n      </div>\n\n      <div className=\"misc_n misc_grid_n\">\n        <div className=\"misc_title\">Inspector (N)</div>\n        <input type=\"text\" id=\"misc_inspector\" name=\"misc_inspector\" value={misc.inspector || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(14)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n    \n      <div className=\"misc_c misc_grid_c\">\n        <div className=\"misc_title\">Lab Test Report (C)</div>\n\n        <select id=\"misc_labTest\" name=\"misc_labTest\" value={misc.lab_test_report || \"Select\"} justify=\"left\" placeholder=\"Test result\" onChange={handleChange(3)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending         \n          </option>\n          <option value=\"Pass\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pass\n          </option>\n          <option value=\"Fail\" disabled={editMode ? \"\" : \"disabled\"}>\n            Fail\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_d misc_grid_d\">\n        <div className=\"misc_title\">Child Safety Report (D)</div>\n\n        <select id=\"misc_childSafetyReport\" name=\"misc_childSafetyReport\" value={misc.lab_child_safety_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(4)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_h misc_grid_h\">\n        <div className=\"misc_title\">Props 65 Report (H)</div>\n        <select id=\"misc_props65Report\" name=\"misc_props65Report\" value={misc.props65_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(8)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_i misc_grid_i\">\n        <div className=\"misc_title\">Ship Mode (I)</div>\n\n        <select id=\"misc_shipMode\" name=\"misc_shipMode\" value={misc.ship_mode || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(9)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"Ocean\" disabled={editMode ? \"\" : \"disabled\"}>\n            Ocean\n          </option>\n          <option value=\"Air\" disabled={editMode ? \"\" : \"disabled\"}>\n            Air\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_e misc_grid_e\">\n        <div className=\"misc_title\">Fibre Content (E)</div>\n        <input type=\"text\" id=\"misc_fibreContent\" name=\"misc_fibreContent\" value={misc.fibre_content || \"\"} justify=\"left\" placeholder=\"Fibre Content\" onChange={handleChange(5)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_f misc_grid_f\">\n        <div className=\"misc_title\">Comments (F)</div>\n        <textarea rows=\"5\" cols=\"50\" id=\"misc_comments\" name=\"misc_comments\" value={misc.comments || \"\"} justify=\"left\" placeholder=\"Comments\" onChange={handleChange(6)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      \n\n      <div className=\"misc_l misc_grid_l\">\n        <div className=\"misc_title\">Carton List (L)</div>\n        <textarea rows=\"3\" cols=\"50\" id=\"misc_cartonList\" name=\"misc_cartonList\" value={misc.carton_list || \"\"} justify=\"left\" placeholder=\"Carton List\" onChange={handleChange(12)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_m misc_grid_m\">\n        <div className=\"misc_title\">Carton Total (M)</div>\n        <input type=\"text\" id=\"misc_cartonTotal\" name=\"misc_cartonTotal\" value={misc.carton_total || \"\"} justify=\"left\" placeholder=\"Carton Total\" onChange={handleChange(13)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n\n    </div>\n\n  )\n}\nexport default Misc\n","import React, { Fragment } from \"react\"\n\nconst Result = props => {\n  const { setMisc, misc, editMode, visualResult, calculateFinalResult } = props\n\n  function calculate_final_result(result) {\n    if (result === \"Failed\" || visualResult.visual_result === \"Failed\") {\n      return \"Failed\"\n    } else {\n      return visualResult.visual_result\n    }\n  }\n\n  const handleChange = (element, param2) => event => {\n    let value = event.target.value\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 1: //a  Packing\n          newMisc = { ...newMisc, packing_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(misc.measurement_result) }\n          }\n          break\n        case 2: //b  Measurement\n          newMisc = { ...newMisc, measurement_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(misc.packing_result) }\n          }\n          break\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"result\">\n        <div className=\"result_f result_grid_f\"> Inspection Result Summary</div>\n        <div></div>\n        <div></div>\n\n        <div className=\"result_a result_grid_a\">\n          <div className=\"result_title\">Packing</div>\n          <select id=\"result_packingResult\" name=\"misc_packingResult\" value={misc.packing_result || \"Select\"} justify=\"left\" placeholder=\"Packing Result\" onChange={handleChange(1)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_b result_grid_b\">\n          <div className=\"result_title\">Measurement</div>\n          <select id=\"result_measurementResult\" name=\"misc_measurementResult\" value={misc.measurement_result || \"Select\"} justify=\"left\" placeholder=\"Measurement result\" onChange={handleChange(2)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_c result_grid_c\">\n          <div className=\"result_title\">Critical / Major / Minor</div>\n          <input type=\"text\" id=\"result_defectiveResult\" name=\"result_defectiveResult\" value={visualResult.defective_result || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_d result_grid_d\">\n          <div className=\"result_title\">Sample Threshold (Major / Minor)</div>\n          <input type=\"text\" id=\"result_sampleThreshold\" name=\"result_sampleThreshold\" value={visualResult.sample_threshold || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_e result_grid_e\">\n          <div className=\"result_title\">Final Result</div>\n          <input type=\"text\" id=\"result_finalResult\" name=\"result_finalResult\" value={calculateFinalResult()} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_g result_grid_g\">\n          <div className=\"result_title\">Visual Result</div>\n          <input type=\"text\" id=\"result_visualResult\" name=\"result_visualResult\" value={visualResult.visual_result || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default Result\n","import { React, Fragment } from \"react\"\n\nconst ChangeTrack = props => {\n  const { updateHistory, showHistory, setShowHistory, convertToLocal } = props\n\n  var history = [...updateHistory]\n\n  history.sort(function (a, b) {\n \n    // note : must change the string back to date object for comparison\n    if (Date.parse(a.updated_time) > Date.parse(b.updated_time))\n      return -1\n    else \n      return 1\n  })\n\n  let root = document.querySelector(\":root\")\n\n  return (\n    <Fragment>\n      <div className=\"changeTrack_section_upper\">\n        <div>Change History</div>\n        <div></div>\n        <div>\n          Show &nbsp;\n          <i\n            className=\"fa fa-plus\"\n            onClick={() => {\n              setShowHistory(true)\n            }}\n          ></i>\n          &nbsp;&nbsp;Hide &nbsp;\n          <i\n            className=\"fa fa-minus\"\n            onClick={() => {\n              setShowHistory(false)\n            }}\n          ></i>\n        </div>\n        <div></div>\n        <div>\n          Expand &nbsp;\n          <i\n            className=\"fa fa-plus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"100rem\")\n            }}\n          ></i>\n          &nbsp;&nbsp; Collapse &nbsp;\n          <i\n            className=\"fa fa-minus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"4.3rem\")\n            }}\n          ></i>\n        </div>\n        <div></div>\n      </div>\n      {showHistory ? (\n        <div className=\"changeTrack_section_bottom\">\n          <div className=\"changeTrack_grid_header\">\n            <div>Local Time</div>\n            <div>Updated By</div>\n            <div>Mode</div>\n            <div>Result Details</div>\n            <div></div>\n          </div>\n\n          <div className=\"changeTrack_grid_outer_detail\">\n            {history.length > 0\n              ? history.map(line => (\n                  <div key={line.id} className=\"changeTrack_grid_detail\">\n                    <div>{convertToLocal(line.updated_time)}</div>\n                    <div>{line.updated_by}</div>\n                    <div>{line.updated_mode}</div>\n                    <div>{line.misc}</div>\n                  </div>\n                ))\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\n\nexport default ChangeTrack\n","import React, { Fragment } from \"react\"\n\nconst SharePoint = props => {\n  const { inspectionID, currentSU, currentMF, editMode, getSharePointFiles, setShowSharePointFiles, showSharePointFiles, setSharePointFiles, sharePointPath } = props\n\n  const handleClick_add = () => {\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/\".concat(sharePointPath, \"/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F\", sharePointPath, \"%2F\", \"SU\", currentSU, \"MF\", currentMF,\n     \"&dt=\", (new Date()).getTime())\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleClick_view = () => {\n    //const url = \"https://macysinc.sharepoint.com/sites/OSO/2022inspRpt/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F2022inspRpt%2F\".concat(\"SU\").concat(currentSU) + \"MF\" + currentMF + \"&view=7&q=\" + inspectionID.mc + \"&FilterField1=Inspection_x0020_ID&FilterValue1=\" + inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type[0]\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/\".concat(sharePointPath, \"/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F\", sharePointPath, \"%2F\", \"SU\", currentSU, \"MF\", currentMF, \n    \"&view=7&q=\", inspectionID.mc, \"&FilterField1=Inspection_x0020_ID&FilterValue1=\", inspectionID.mc,  \"-\", inspectionID.iteration, \"-\", inspectionID.type[0], \n    \"&dt=\", (new Date()).getTime())\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")    \n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleToggleSharePointFiles = () => {\n    if (showSharePointFiles === true) {\n      setShowSharePointFiles(false)\n      setSharePointFiles([])\n    } else {\n      setShowSharePointFiles(true)\n      getSharePointFiles()\n    }\n  }\n\n  const handleGetSharePointFiles = () => {\n    if (showSharePointFiles) {\n      setSharePointFiles([])\n      getSharePointFiles()\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"sharePoint_section\">Document Management on SharePoint</div>\n      <div className=\"sharePoint_grid\">\n        <div className=\"sharePoint_cell\">\n          <img src=\"../static/img/sharePointx.jpg\" alt=\"sharePoint\" className=\"sharePoint_photo\" />\n        </div>\n\n        <div></div>\n\n        <div className=\"sharePoint_cell\">\n          View files&nbsp;\n          <i\n            className=\"fa  fa-sign-in clickable\"\n            onClick={() => {\n              handleClick_view()\n            }}\n          ></i>\n        </div>\n\n        {editMode ? (\n          <div className=\"sharePoint_cell\">\n            Add files&nbsp;\n            <i\n              className=\"fa  fa-sign-in clickable\"\n              onClick={() => {\n                handleClick_add()\n              }}\n            ></i>\n          </div>\n        ) : (\n          <div className=\"sharePoint_cell\"></div>\n        )}\n\n        <div className=\"sharePoint_cell\">\n          Instant View : &nbsp;&nbsp;\n          {showSharePointFiles ? \"Collapse\" : \"Expand\"}\n          &nbsp;\n          <i\n            className={\"fa \" + (showSharePointFiles ? \"fa-minus\" : \"fa-plus\")}\n            onClick={() => {\n              handleToggleSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n          <i   id='sharePoint_refresh'\n            className=\"fa fa-refresh\"\n            onClick={() => {\n              handleGetSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default SharePoint\n","import React, { Fragment } from \"react\"\n\nconst ShowSharePointFiles = props => {\n  const { sharePointFiles, downloadSharePointFile, showSharePointFiles, convertToLocal, editMode, handleDeleteSPfile } = props\n\n  const ext = [\".jpg\", \".png\"]\n  function isSupportPicExt(filename) {\n    for (let i = 0; i < ext.length; i++) {\n      if (filename.toLowerCase().includes(ext[i])) {\n        return true\n      }\n    }\n    return false\n  }\n\n  // const openPhoto = url => {\n  //   const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  //   if (newWindow) newWindow.opener = null\n  // }\n\n  return (\n    <Fragment>\n      {showSharePointFiles ? (\n        <div className=\"showSharePointFiles_section\">\n          <div className=\"showSharePointFiles_grid_header\">\n            <div>File Name</div>\n            <div>Last Editor</div>\n            <div>Last Edit Time</div>\n            <div>File Size</div>\n            <div>Download</div>\n            <div>File Type</div>\n            <div>Delete</div>\n          </div>\n\n          <div>\n            {sharePointFiles.length > 0\n              ? sharePointFiles.map(line =>\n                  line.filename === \"No files\" ? (\n                    <div className=\"sharePointFiles_no_files\">{line.filename}</div>\n                  ) : (\n                    <div key={line.unique_id} className=\"showSharePointFiles_grid_detail\">\n                      <div>{line.filename}</div>\n                      <div>{line.editor}</div>\n                      <div>{convertToLocal(line.modified)}</div>\n                      <div>{line.size}</div>\n                      <div>\n                        <i\n                          className=\"fa fa-download\"\n                          onClick={() => {\n                            downloadSharePointFile(line.filename)\n                          }}\n                        ></i>\n                      </div>\n                      {isSupportPicExt(line.filename) ? (\n                        <div className=\"sharePointFiles_photoBlock\" >\n                          <img  src={\"/showPhoto?folder=\" + line.folder + \"&filename=\" + line.filename} alt=\"\" />\n                        </div>\n                      ) : (\n                        <div>\n                          <i className=\"fa fa-file\"></i>\n                        </div>\n                      )}\n\n                      {editMode ? (\n                        <div>                 \n                          <button id=\"sharePointFiles_deleteButton\"\n                            onClick={() => {\n                              handleDeleteSPfile(line.unique_id) \n                              //props.deleteDefect(x.id)\n                            }}\n                          >\n                            &times;\n                          </button>\n                          </div>\n                        ) : <div>&nbsp;</div>} \n                   \n\n\n     \n\n                    </div>\n                  )\n                )\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default ShowSharePointFiles\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst ShowSpinner = props => {\n  const { position } = props\n\n  return (\n    <Fragment>\n      {position === 1 ? <Spinner area=\"getUserProfile\" spinnerMessage=\"Loading your profile, please wait... \" /> : null}\n      {position === 2 ? (\n        <div>\n          <Spinner area=\"printReport\" spinnerMessage=\"Preparing the report, please wait... \" />\n          <Spinner area=\"saveInspection\" spinnerMessage=\"Saving the changes, please wait... \" />\n          <Spinner area=\"deleteInspection\" spinnerMessage=\"Deleting, please wait... \" />\n          <Spinner area=\"createInspection\" spinnerMessage=\"Loading, please wait... \" />\n        </div>\n      ) : null}\n      {position === 3 ? (\n        <div>\n          <Spinner area=\"sharePointFiles\" spinnerMessage=\"Loading SharePoint info, please wait... \" />\n          <Spinner area=\"downloadSharePointfiles\" spinnerMessage=\"Downloading SharePoint info, please wait... \" />          \n        </div>\n      ) : null}\n         {position === 4 ? (\n        <div>\n          <Spinner area=\"sharePointUpload\" spinnerMessage=\"Uploading file(s) to SharePoint, please wait... \" />\n        </div>\n      ) : null}\n      {position === 10 ? <Spinner area=\"pastInspection\" spinnerMessage=\"Loading past inspections, please wait... \" /> : null}\n    </Fragment>\n  )\n}\nexport default ShowSpinner\n","import React, { useState, Fragment, useEffect } from \"react\"\n\nimport axios from \"axios\"\nimport ItemTable from \"./components/ItemTable\"\nimport ItemTotal from \"./components/ItemTotal\"\nimport DefectOptions from \"./components/DefectOptions\"\nimport DefectList from \"./components/DefectList\"\nimport ShowAlert from \"./components/ShowAlert\"\nimport CheckList from \"./components/CheckList\"\nimport UploadForm from \"./components/UploadForm\"\nimport SearchKey from \"./components/SearchKey\"\nimport MainMenu from \"./components/MainMenu\"\nimport SearchedMC from \"./components/SearchedMC\"\nimport SupplierInfo from \"./components/SupplierInfo\"\n// import PhotoBlock from \"./components/PhotoBlock\"\nimport MfrSelection from \"./components/MfrSelection\"\nimport Misc from \"./components/Misc\"\nimport Result from \"./components/Result\"\nimport ChangeTrack from \"./components/ChangeTrack\"\nimport SharePoint from \"./components/SharePoint\"\nimport ShowSharePointFiles from \"./components/ShowSharePointFiles\"\n\nimport { v4 as uuidv4 } from \"uuid\"\nimport { trackPromise } from \"react-promise-tracker\"\nimport ShowSpinner from \"./components/ShowSpinner\"\n\nconst App = () => {\n  //const initialFormState = { id: null, mc_no: \"\", item_no: \"\", order_qty: \"\", ship_qty: \"\" }\n  const initialInspectionID = { mc: \"\", iteration: \"Select\", type: \"Select\" }\n\n  // Setting state\n  const [items, setItems] = useState([])\n  const [showSearchedMC, setShowSearchedMC] = useState(false)\n  const [defects, setDefects] = useState([])\n  // set position 100 as impossible range as equivalent to empty\n  const [alert, setAlert] = useState({ position: 100 })\n  const [mcTable, setMCTable] = useState([])\n  const [checkList, setCheckList] = useState([])\n  const [inspectionDate, setInspectionDate] = useState(new Date())\n  const [inspectionID, setInspectionID] = useState(initialInspectionID)\n  const [uploads, setUploads] = useState([])\n  const [userProfile, setUserProfile] = useState([])\n  const [currentSU, setCurrentSU] = useState(\"\")\n  const [currentMF, setCurrentMF] = useState(\"\")\n  const [searchedMC, setSearchedMC] = useState([])\n  const [itemSearchString, setItemSearchString] = useState(\"\")\n  const [partyTable, setPartyTable] = useState([])\n  const [currentSUName, setCurrentSUName] = useState(\"\")\n  const [currentMFName, setCurrentMFName] = useState(\"\")\n  const [selectingSupplier, setSelectingSupplier] = useState(true)\n  const [mfList, setMfList] = useState([])\n  const [aqlTable, setAqlTable] = useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [misc, setMisc] = useState({})\n  const [main, setMain] = useState({})\n  const [showFull, setShowFull] = useState(false)\n  const [itemsTotal, setItemsTotal] = useState([])\n  const [shippedTotal, setShippedTotal] = useState(0)\n  const [sampleTotal, setSampleTotal] = useState(0)\n  const [visualResult, setVisualResult] = useState({})\n\n  const [constructTotal, setConstructTotal] = useState(false)\n  const [inspectTotal, setInspectTotal] = useState(0)\n  const [aqlSampleTotal, setAqlSampleTotal] = useState(0)\n  const [updateHistory, setUpdateHistory] = useState([])\n  const [showHistory, setShowHistory] = useState(false)\n  const [sharePointFiles, setSharePointFiles] = useState([])\n  const [showSharePointFiles, setShowSharePointFiles] = useState(false)\n  const [checkListTemplate, setCheckListTemplate] = useState([])\n\n  const [defectLanguage, setDefectLanguage] = useState(\"en\")\n  const [defectList, setDefectList] = useState([])\n  const [criticalDefects, setCriticalDefects] = useState([])\n  \n  const [sharePointPath, setSharePointPath] = useState()\n  \n    \n  // Data\n\n  useEffect(() => {\n    let root = document.querySelector(\":root\")\n    const userAgent = navigator.userAgent.toLowerCase()\n    const isTablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent)\n\n    // Remove padding of scroll width if it is tablet to make columns of ChangeTrack section aligned\n    if (isTablet) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    } else {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"6.7fr\")\n    }\n\n    // check Safari browser\n    if (userAgent.includes(\"safari\") && userAgent.includes(\"macintosh\")) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    }\n\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n          setMCTable(response[\"mcTable\"])\n          setPartyTable(response[\"partyTable\"])\n          setMfList(response[\"mfList\"])\n          setAqlTable(response[\"aqlTable\"])\n          setCheckListTemplate(response[\"checkListTemplate\"])\n          setSharePointPath(response[\"sharePointPath\"])         \n        })\n        .catch(error => {\n          console.log(error)\n        }),\n      \"getUserProfile\"\n    )\n\n    fetch(\"/api/getDefectTable\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setDefectList(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    fetch(\"/api/getCriticalDefects\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setCriticalDefects(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  useEffect(() => {\n    var x = document.getElementsByClassName(\"itemTotal_Detail\")\n    var len = x.length\n    var first_found = -1\n    var i, j, long, scroll_y\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      const currentChild = x[i].firstElementChild.innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"scroller\").scrollTo(0, 0)\n      long = document.getElementById(\"scroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"scroller\").scrollBy(0, scroll_y)\n    } else {\n      document.getElementsByName(\"itemTotal_searchString\")[0].value = \"\"\n      //document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"Not found! Try again!\"\n      document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"\"\n    }\n\n    //document.getElementsByName('mc_no')[0].value =  search_string    // trigger highlight in item table - itemTable block.\n\n    x = document.getElementsByClassName(\"itemTable_Detail\")\n    len = x.length\n    first_found = -1\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      const currentChild = x[i].children[1].innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"itemTableScroller\").scrollTo(0, 0)\n      long = document.getElementById(\"itemTableScroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"itemTableScroller\").scrollBy(0, scroll_y)\n    }\n  }, [itemSearchString, items])\n\n  // calcuate itemsTotal based on items\n\n  useEffect(() => {\n    if (constructTotal) {\n      const items1 = items\n        ? items.map(function (obj) {\n            return {\n              item_no: obj.item_no,\n              //order_qty: obj.order_qty,\n              ship_qty: obj.ship_qty\n            }\n          })\n        : null\n\n      // use reduce to calculate total by item#\n      const items2 = items\n        ? items1.reduce((prev, next) => {\n            if (next.item_no in prev) {\n              prev[next.item_no].ship_qty = parseInt(prev[next.item_no].ship_qty) + parseInt(next.ship_qty)\n            } else {\n              prev[next.item_no] = next\n            }\n            return prev\n          }, {})\n        : null\n\n      // present each item total\n      const items3 = Object.keys(items2).map(item_no => items2[item_no])\n\n      var _shippedTotal = 0\n      for (var i = 0; i < items3.length; i += 1) {\n        _shippedTotal = _shippedTotal + items3[i].ship_qty\n      }\n\n      let newItemsTotal = [...items3]\n      for (i = 0; i < newItemsTotal.length; i += 1) {\n        const ship_qty = newItemsTotal[i].ship_qty\n        const sampleSize = getSampleSize(aqlTable, ship_qty, _shippedTotal)\n        let inspectQty = sampleSize\n        newItemsTotal[i] = { ...newItemsTotal[i], sample_qty: sampleSize, inspect_qty: inspectQty }\n      }\n\n      setItemsTotal(newItemsTotal)\n      setConstructTotal(false)\n    }\n  }, [items, constructTotal, aqlTable, shippedTotal])\n\n  function getSampleSize(_aql, ship_qty, shippedTotal) {\n    if (shippedTotal === 0 || isNaN(ship_qty)) {\n      return 0\n    }\n    const aql = _aql.filter(x => x.size_start <= shippedTotal && x.size_end >= shippedTotal)\n    const sampleQty = (ship_qty / shippedTotal) * aql[0][\"25sample\"]\n    return Math.round(sampleQty) //  > 0.5 roundup to integer\n  }\n\n  // ****\n\n  // updateMiscResult\n\n  useEffect(() => {\n    var sampleThreshold = \"\"\n    var defectiveResult = \"\"\n    var visualResult = \"\"\n\n    var sampleThresholdMajor = 0\n    var sampleThresholdMinor = 0\n\n    var total_major = 0\n    var total_minor = 0\n    var total_critical = 0\n\n    for (var i = 0; i < defects.length; i += 1) {\n      if (defects[i].critical) {\n        total_critical = total_critical + parseInt(defects[i].major)\n      } else if (parseInt(defects[i].major) > 0) {\n        total_major = total_major + parseInt(defects[i].major)\n      }\n\n      if (parseInt(defects[i].minor) > 0) {\n        total_minor = total_minor + parseInt(defects[i].minor)\n      }\n    }\n\n    if (shippedTotal) {\n      const aql = aqlTable.filter(x => x.size_start <= shippedTotal && x.size_end >= shippedTotal)\n      sampleThreshold = aql[0][\"25accept\"].toString() + \" / \" + aql[0][\"40accept\"].toString()\n      sampleThresholdMajor = aql[0][\"25accept\"]\n      sampleThresholdMinor = aql[0][\"40accept\"]\n    }\n\n    // Check Inspection Result -  1) If Critical -> Failed,  2) Major + (Minor/4) > Threshold of Major -> Failed, 3) Packing Failed or Measurement Failed -> Failed\n\n    if (total_critical + total_major + total_minor > 0) {\n      defectiveResult = \" \" + total_critical.toString() + \" / \" + total_major.toString() + \" / \" + total_minor.toString()\n\n      if (total_major + Math.floor(total_minor / 4) > sampleThresholdMajor) {\n        visualResult = \"Failed\"\n      } else if (total_minor > sampleThresholdMinor) {\n        visualResult = \"Failed\"\n      }\n    }\n\n    if (total_critical > 0) {\n      visualResult = \"Failed\"\n    }\n\n    if (visualResult !== \"Failed\" && defectiveResult.length > 0) {\n      visualResult = \"Passed\"\n    }\n\n    setVisualResult({ visual_result: visualResult, defective_result: defectiveResult, sample_threshold: sampleThreshold })\n  }, [defects, aqlTable, shippedTotal])\n\n  const handleSupplierInfo = (su, mf) => {\n    partyTable.map(x => (x.SU === su ? setCurrentSUName(x.SU_NAME) : null))\n    partyTable.map(x => (x.MF === mf ? setCurrentMFName(x.MF_NAME) : null))\n  }\n\n  // CRUD operations\n  const addMC = mc => {\n    mcTable.map(x => (x.mc_no === mc ? ((x.id = uuidv4()), setItems(prev => prev.concat(x))) : null))\n    handleSupplierInfo(currentSU, currentMF)\n    setConstructTotal(true)\n    setShowFull(true)\n    setEditMode(true)\n    fillCheckList() // since it's empty\n  }\n\n  const deleteAllItems = item_no => {\n    // setEditing(false)\n    setItems(items.filter(item => item.item_no !== item_no))\n    setItemsTotal(itemsTotal.filter(item => item.item_no !== item_no))\n  }\n\n  const deleteItem = id => {\n    // setEditing(false)\n    //setItems(items.filter(item => item.id !== id))\n  }\n\n  const addToDefectList = (product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language) => {\n    setDefects(prev => prev.concat({ id: uuidv4(), product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language, critical: isCriticalDefect(product, defect_detail_area) }))\n  }\n\n  const deleteDefect = id => {\n    // setEditing(false)\n    setDefects(defects.filter(defect => defect.id !== id))\n  }\n\n  const setDisplayAlert = alert => {\n    //{ message: \"hi\", position: 0, timeout: 3000, color: \"alert__green\" }\n    setAlert(alert)\n    setTimeout(function () {\n      setAlert({ position: 100 })\n    }, alert.timeout)\n  }\n\n  const handleCheckItemChange = (id, change) => {\n    const newCheckList = [...checkList]\n    const index = newCheckList.findIndex(r => r.id === id)\n    newCheckList[index] = change\n    setCheckList(newCheckList)\n    //setCheckList([...checkList], { id: change })\n  }\n\n  const undoTable = () => {\n    setItems(JSON.parse(localStorage.getItem(\"items\")))\n    setItemsTotal(JSON.parse(localStorage.getItem(\"itemsTotal\")))\n  }\n\n  const resetInspectQty = () => {\n    const _total = [...itemsTotal]\n    for (var i = 0; i < _total.length; i++) {\n      const _sample_qty = getSampleSize(aqlTable, _total[i].ship_qty, shippedTotal)\n      _total[i].sample_qty = _sample_qty\n      _total[i].inspect_qty = _sample_qty\n    }\n    setItemsTotal(_total)\n  }\n\n  const handleSave = submitted => {\n    // Convert inspection date to time 00.00.00\n    const main = { su_no: currentSU, mf_no: currentMF, inspection_date: inspectionDate.toDateString(), submitted: submitted }\n    const _id = { mc: inspectionID.mc, iteration: inspectionID.iteration, type: inspectionID.type }\n    let newMisc = { ...misc }\n    newMisc = { ...newMisc, final_result: calculateFinalResult(), visual_result: visualResult, defectLanguage: defectLanguage, submitted: submitted }\n\n    trackPromise(\n      axios({\n        url: \"/api/save\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: _id, main: main, misc: newMisc, mf: currentMF, checkList: checkList, items: items, itemsTotal: itemsTotal, defects: defects, uploads: uploads, updateHistory: updateHistory })\n      })\n        .then(res => {\n          clearScreen()\n          setDisplayAlert({ message: \"Saved Successfully !\", position: 0, timeout: 1000, color: \"alert__green\" })\n        })\n        .catch(err => {\n          console.log(err.response.data)\n          setDisplayAlert({ message: \"There was an error in saving, please contact the admin !!\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"saveInspection\"\n    )\n  }\n\n  const handleSearch = id => {\n    //console.log(\"entering api/search\")\n\n    trackPromise(\n      axios({\n        url: \"/api/search\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        // .then(response => {\n        //   console.log(\"status\", response.status)\n        // })\n        .then(response => response.data)\n        .then(response => {\n          setShowFull(true)\n          setItems(response[\"items\"])\n          setItemsTotal(response[\"itemsTotal\"])\n\n          localStorage.setItem(\"items\", JSON.stringify(response[\"items\"]))\n          localStorage.setItem(\"itemsTotal\", JSON.stringify(response[\"itemsTotal\"]))\n\n          setInspectionDate(response[\"main\"].inspection_date ? new Date(response[\"main\"].inspection_date) : null)\n          setMain(response[\"main\"])\n          setMisc(response[\"misc\"] ? response[\"misc\"] : {})\n          if (response[\"misc\"][\"defectLanguage\"] === undefined) {\n            setDefectLanguage(\"en\")\n          } else {\n            setDefectLanguage(response[\"misc\"][\"defectLanguage\"])\n          }\n\n          setCheckList(response[\"checkList\"])\n\n          handleSupplierInfo(response[\"main\"].su_no, response[\"main\"].mf_no)\n\n          if (response[\"defects\"] === undefined) {\n            setDefects([])\n          } else {\n            //console.log(response[\"defects\"])\n            setDefects(response[\"defects\"])\n          }\n\n          if (response[\"uploads\"] === undefined) {\n            setUploads(\"\")\n          } else {\n            //console.log(response[\"uploads\"])\n            setUploads(response[\"uploads\"])\n          }\n          if (response[\"update_history\"] === undefined) {\n            setUpdateHistory([])\n          } else {\n            setUpdateHistory(response[\"update_history\"])\n          }\n          setSharePointFiles(false)\n          setShowSharePointFiles(false)\n          setShowHistory(false)\n        })\n        .catch(err => {\n          //console.log(\"err\", err.response.status)\n          if (err.response.status === 406) {\n            setDisplayAlert({ message: \"Not a valid MC for this manufacturer !\", position: 0, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 501) {\n            window.location = \"/login/timeout\"\n          } else setDisplayAlert({ message: \"No such Inspection ID, please try again !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"searchKey\"\n    )\n  }\n\n  const handleDelete = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete this inspection ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/delete\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (clearScreen(), setDisplayAlert({ message: \"Deleted successfully !\", position: 0, timeout: 1500, color: \"alert__green\" })) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the inspection ID !\", position: 0, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  const clearScreen = () => {\n    setItems([])\n    setDefects([])\n    setCheckList([])\n    setSearchedMC([])\n    setUploads([])\n    setShowSearchedMC(false)\n    setMisc([])\n    setUpdateHistory([])\n    setShowFull(false)\n    setEditMode(false)\n    setShowHistory(false)\n    setSharePointFiles([])\n    setShowSharePointFiles(false)\n    setShowHistory(true)\n  }\n\n  // ** implement delay function\n  const delay = ms => new Promise(res => setTimeout(res, ms))\n\n  const handleSessionTimeOut = async () => {\n    setDisplayAlert({ message: \"Session timeout, please login again !\", position: 0, timeout: 3000, color: \"alert__red\" })\n    await delay(3000)\n    window.location = \"/login/timeout\"\n  }\n\n  const searchInspByMC = mc => {\n    setShowSearchedMC(true)\n\n    trackPromise(\n      //fetch(\"/api/searchInspByMC\", {\n      axios({\n        url: \"/api/searchInspByMC\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ mc: mc, mfList: mfList })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSearchedMC(response)\n          setSharePointFiles(false)\n        })\n        .catch(err => {\n          //console.log('err', err)\n          err.response.status === 501 ? handleSessionTimeOut() : setDisplayAlert({ message: \"Something went wrong !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"mfrSelection\"\n    )\n  }\n\n  const downloadDoc = (_id, file_name) => event => {\n    //event.preventDefault()\n\n    fetch(\"/download/\" + _id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        \"Content-Disposition\": \"attachment\"\n      }\n    })\n      .then(response => response.blob())\n      .then(blob => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]))\n        const link = document.createElement(\"a\")\n        link.href = url\n        link.setAttribute(\"download\", file_name)\n\n        // Append to html link element page\n        document.body.appendChild(link)\n\n        // Start download\n        link.click()\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link)\n      })\n  }\n\n  const downloadSharePointFile = file_name => {\n    //event.preventDefault()\n    \n    const file_url = \"/sites/OSO/\".concat(sharePointPath,'/', 'SU', currentSU, 'MF', currentMF, '/', file_name)\n\n    trackPromise(\n      fetch(\"/downloadSharePointFile\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          file_url: file_url\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"downloadSharePointfiles\"\n    )\n  }\n\n  const printReport = (file_name, draft) => {\n    //event.preventDefault()\n    if (misc.qa_type === undefined) {\n      setDisplayAlert({ message: \"QA Type must be chosen !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n\n    file_name = \"MMG Inspection Report - \" + inspectionID[\"mc\"] + \"-\" + inspectionID[\"iteration\"] + \"-\" + inspectionID[\"type\"] + (draft ? \" (Draft) \" : \"\") + \".xlsx\"\n\n    trackPromise(\n      fetch(\"/printreport\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          inspectionID: JSON.stringify({ inspectionID })\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"printReport\"\n    )\n  }\n\n  const getSharePointFiles = () => {\n    trackPromise(\n      axios({\n        url: \"/api/getsharepointfiles\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type[0] })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSharePointFiles(response)\n        })\n        .catch(err => {\n          if (err.response.status === 404) {\n            setDisplayAlert({ message: \"Folder on SharePoint was not created !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          }\n        }),\n      \"sharePointFiles\"\n    )\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  const checkDuplicateID = id => {\n    trackPromise(\n      axios({\n        url: \"/api/checkDuplicateID\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      }).then(res => (res.status === 200 ? displayAlert(\"This key has been used by previous inspection ! Please check and or consider a new iteration!\") : addMC(id.mc))),\n      \"createInspection\"\n    )\n  }\n\n  const handleDeleteSPfile = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete the SharePoint file ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/deleteSPfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (setDisplayAlert({ message: \"SharePoint file deleted successfully !\", position: 3, timeout: 3000, color: \"alert__green\" }), document.getElementById(\"sharePoint_refresh\").click()) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the SP file !\", position: 4, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  function isCriticalDefect(product, defect) {\n    for (var i = 0; i < criticalDefects.length; i += 1) {\n      if (criticalDefects[i].product === product && criticalDefects[i].defect_detail_code === defect) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function calculateFinalResult() {\n    let final_result = \"\"\n    if (misc.measurement_result === \"Failed\" || misc.packing_result === \"Failed\" || visualResult.visual_result === \"Failed\") {\n      final_result = \"Failed\"\n    } else if (visualResult.visual_result === \"\") {\n      final_result = \"\"\n    } else {\n      final_result = \"Passed\"\n    }\n    return final_result\n  }\n\n  // convert to local time\n  function convertToLocal(date) {\n    const t = new Date(date).toTimeString()\n    const d = new Date(date).toDateString()\n    var local = d + \" \" + t\n    var local_end = local.search(\"GMT+\") -1\n    local = local.substring(0, local_end)\n    return local      \n  }\n\n  const fillCheckList = () => {\n    // Populate values to the checklist template.\n    const newCheckList = [...checkListTemplate]\n    newCheckList.sort((a, b) => a.id - b.id) // must sort to present in order...\n    setCheckList(newCheckList)\n  }\n\n  return (\n    <Fragment>\n      {/* <UserProfile userProfile={userProfile} /> */}\n      <SupplierInfo currentSU={currentSU} currentMF={currentMF} currentSUName={currentSUName} currentMFName={currentMFName} setSelectingSupplier={setSelectingSupplier} setShowFull={setShowFull} />\n      <MfrSelection partyTable={partyTable} setCurrentSU={setCurrentSU} setCurrentMF={setCurrentMF} setCurrentSUName={setCurrentSUName} setCurrentMFName={setCurrentMFName} selectingSupplier={selectingSupplier} setSelectingSupplier={setSelectingSupplier} />\n\n      <ShowSpinner position={1} />\n      <MainMenu handleSave={handleSave} handleSearch={handleSearch} inspectionID={inspectionID} handleDelete={handleDelete} printReport={printReport} editMode={editMode} setEditMode={setEditMode} userProfile={userProfile} main={main} misc={misc} showFull={showFull} clearScreen={clearScreen} updateHistory={updateHistory} />\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <Fragment>\n            {/* <h2>Search Inspection</h2> */}\n            <SearchKey checkDuplicateID={checkDuplicateID} mcTable={mcTable} setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setInspectionID={setInspectionID} clearScreen={clearScreen} searchInspByMC={searchInspByMC} currentSU={currentSU} currentMF={currentMF} editMode={editMode} />\n\n            {showSearchedMC ? <SearchedMC inspectionID={inspectionID} setInspectionID={setInspectionID} handleSearch={handleSearch} searchInspByMC={searchInspByMC} searchedMC={searchedMC} setShowSearchedMC={setShowSearchedMC} mcTable={mcTable} currentSU={currentSU} currentMF={currentMF} /> : null}\n          </Fragment>\n        </div>\n      </div>\n      {alert.position === 0 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <ShowSpinner position={2} />\n\n      {/* Result  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Result setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode} isCriticalDefect={isCriticalDefect} defects={defects} aqlTable={aqlTable} shippedTotal={shippedTotal} visualResult={visualResult} calculateFinalResult={calculateFinalResult}></Result>\n          </Fragment>\n        </div>\n      </div>\n\n      {/* Misc section with inspection Date  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Misc setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode}></Misc>\n          </Fragment>\n        </div>\n      </div>\n\n      {alert.position === 1 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <div className=\"itemTable_2col\">\n            <ItemTable items={items} deleteItem={deleteItem} setItems={setItems} setDisplayAlert={setDisplayAlert} mcTable={mcTable} addMC={addMC} editMode={editMode} currentSU={currentSU} currentMF={currentMF} />\n            <div></div>\n            <ItemTotal items={items} deleteAllItems={deleteAllItems} setItemSearchString={setItemSearchString} aqlTable={aqlTable} editMode={editMode} showFull={showFull} shippedTotal={shippedTotal} sampleTotal={sampleTotal} itemsTotal={itemsTotal} getSampleSize={getSampleSize} setItemsTotal={setItemsTotal} setShippedTotal={setShippedTotal} setSampleTotal={setSampleTotal} inspectTotal={inspectTotal} setInspectTotal={setInspectTotal} setAqlSampleTotal={setAqlSampleTotal} aqlSampleTotal={aqlSampleTotal} undoTable={undoTable} resetInspectQty={resetInspectQty} setDisplayAlert={setDisplayAlert} />\n          </div>\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectOptions items={items} addToDefectList={addToDefectList} setDisplayAlert={setDisplayAlert} editMode={editMode} defects={defects} defectLanguage={defectLanguage} setDefectLanguage={setDefectLanguage} defectList={defectList} />\n        </div>\n      </div>\n      {alert.position === 2 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectList defects={defects} deleteDefect={deleteDefect} editMode={editMode} isCriticalDefect={isCriticalDefect} defectLanguage={defectLanguage} defectList={defectList} />\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <CheckList checkList={checkList} handleCheckItemChange={handleCheckItemChange} editMode={editMode} />\n        </div>\n      </div>\n      {alert.position === 3 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <SharePoint currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} editMode={editMode} getSharePointFiles={getSharePointFiles} setShowSharePointFiles={setShowSharePointFiles} showSharePointFiles={showSharePointFiles} setSharePointFiles={setSharePointFiles} \n          />\n          <ShowSpinner position={3} />\n        </div>\n      </div>\n\n      {alert.position === 4 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ShowSharePointFiles sharePointFiles={sharePointFiles} downloadSharePointFile={downloadSharePointFile} showSharePointFiles={showSharePointFiles} convertToLocal={convertToLocal} editMode={editMode} handleDeleteSPfile={handleDeleteSPfile} />\n        </div>\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        {/* <div className={\"flex-row  hideSection\"}> */}\n        <div className=\"flex-large \">\n          <UploadForm setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setUploads={setUploads} uploads={uploads} downloadDoc={downloadDoc} editMode={editMode} currentSU={currentSU} currentMF={currentMF} setShowSharePointFiles={setShowSharePointFiles} \n          sharePointPath={sharePointPath}  />\n          <ShowSpinner position={4} />\n        </div>\n\n        {/* <div className=\"flex-large\">\n          <PhotoBlock uploadTable={uploads} downloadDoc={downloadDoc} currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} />\n        </div> */}\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ChangeTrack updateHistory={updateHistory} showHistory={showHistory} setShowHistory={setShowHistory} convertToLocal={convertToLocal} />\n        </div>\n      </div>\n      <div>&nbsp;</div>\n      <div>&nbsp;</div>\n    </Fragment>\n  )\n}\nexport default App\n","import React from \"react\"\r\n\r\nconst Home = props => {\r\n  const { env } = props\r\n\r\n  return (\r\n    <div className=\"welcome\">\r\n      <div>\r\n        {/* <img src=\"static/img/frontpageMap.jpg\" aria-hidden alt=\"MMG Inspection Map\"  />                 */}\r\n        {env === \"DEV\" ? <iframe src=\"http://localhost:5000/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe> : <iframe src=\"https://mmgapp2.herokuapp.com/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home\r\n","import { React, useState, useEffect, Fragment } from \"react\"\r\nimport axios from \"axios\"\r\n//import { Spinner } from \"./components/Spinner\"\r\nimport { trackPromise } from \"react-promise-tracker\"\r\nimport ShowSpinner from \"./components/ShowSpinner\"\r\n\r\nconst About = props => {\r\n  //const { setItems, items, setDisplayAlert, mcTable, addMC, editMode, currentSU, currentMF } = props\r\n\r\n  const [result, setResult] = useState([])\r\n\r\n  function sortInspectionDate(_result) {\r\n    _result.sort(function (a, b) {\r\n      // note : must change the string back to date object for comparison\r\n      if (Date.parse(a[\"main\"].inspection_date) > Date.parse(b[\"main\"].inspection_date)) return -1\r\n      else return 1\r\n    })\r\n\r\n    return _result\r\n  }\r\n\r\n  useEffect(() => {\r\n    trackPromise(\r\n      axios({\r\n        url: \"/api/pastXdaysResult\",\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          api: \"yes\"\r\n        }\r\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\r\n      })\r\n        .then(response => response.data)\r\n        .then(response => {\r\n          const _result = sortInspectionDate(response)\r\n          setResult(_result)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        }),\r\n      \"pastInspection\"\r\n    )\r\n    return () => {\r\n      setResult({}) // This worked for me\r\n    }\r\n  }, [])\r\n\r\n  // convert to local time\r\n  function convertToLocalDate(date) {\r\n    //const t = new Date(date).toTimeString()\r\n    //return d + \" \" + t\r\n    const d = new Date(date).toDateString()\r\n    return d\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"xDaysResult\">\r\n        {result.length > 0 ? (\r\n          <div className=\"xDaysResult_gridHeader\">\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection Date</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Supplier</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Manufacturer</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection ID</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Result</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\"></div>\r\n          </div>\r\n        ) : null}\r\n\r\n        {result.length > 0\r\n          ? result.map(item => (\r\n              <div key={item.id} className=\"xDaysResult_gridDetail\">\r\n                <div className=\"xDaysResult_gridItem\">{convertToLocalDate(item[\"main\"].inspection_date)}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].su_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].mf_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"_id\"].mc + \"-\" + item[\"_id\"].iteration + \"-\" + item[\"_id\"].type} </div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"misc\"].final_result}</div>\r\n                <div></div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n      {/* <Spinner area=\"pastInspection\" /> */}\r\n      <ShowSpinner position={10} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default About\r\n","//import React, { useState, Fragment } from \"react\"\nimport React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { userProfile } = props\n  return (\n    <Fragment>\n      <div className=\"userProfile\">\n        <div className=\"userProfile_title\">\n          <div>\n            <img src=\"static/img/macys-header.jpg\" aria-hidden alt=\"\" width=\"30\" height=\"30\" />\n          </div>\n          <div>MMG Inspection App</div>\n        </div>\n        <div className=\"userProfile_personal\">\n          <div className=\"userProfile_name\">{userProfile.first_name ? \"Hi, \" + userProfile.first_name : null} </div>\n          <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>}</div>\n        </div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import { Route, Routes, HashRouter as Router, Link } from \"react-router-dom\"\nimport React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport AppInspection from \"./AppInspection\"\nimport Home from \"./Home\"\nimport XDaysResult from \"./XDaysResult\"\nimport UserProfile from \"./components/UserProfile\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst logout = () => {\n  localStorage.clear()\n  window.location = \"/logout\"\n}\n\nconst gotoPowerBI = () => {\n  const url = \"https://app.powerbi.com/reportEmbed?reportId=f0a7cd56-e22b-490a-9ad7-012d4a0d5251&autoAuth=true&filterPanelEnabled=False&pageName=ReportSectionf1be12cf083e1c0eba15\"\n\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  if (newWindow) newWindow.opener = null\n}\n\nconst App = () => {\n  const [userProfile, setUserProfile] = useState({})\n\n  useEffect(() => {\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    )\n  }, [])\n\n  return (\n    <div className=\"container app_container\">\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <UserProfile userProfile={userProfile} />\n          <Router>\n            <nav>\n              <ul className=\"app_header\">\n                <li>\n                  <Link to=\"/\" className=\"link\">\n                    Home\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/appInspection\" className=\"link\">\n                    Inspection\n                  </Link>\n                </li>\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li>\n                    <Link to=\"/xDaysResult\" className=\"link\">\n                      Past Inspection Results\n                    </Link>\n                  </li>\n                ) : null}\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li\n                    className=\"link\"\n                    onClick={() => {\n                      gotoPowerBI()\n                    }}\n                  >\n                    Power BI\n                  </li>\n                ) : null}\n\n                <button\n                  className=\"fa fa-sign-out\"\n                  onClick={() => {\n                    logout()\n                  }}\n                >\n                  Logout\n                </button>\n                {/* <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>} </div>*/}\n              </ul>\n            </nav>\n\n            <Routes>\n              <Route path=\"/\" element={<Home env={userProfile.environment} />} />\n              <Route path=\"/appInspection\" element={<AppInspection />} />\n              <Route path=\"/xDaysResult\" element={<XDaysResult />} />\n            </Routes>\n          </Router>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./css/main.css\"\nimport \"./css/index.css\"\nimport \"./css/defectList.css\"\nimport \"./css/defectOptions.css\"\nimport \"./css/checkList.css\"\nimport \"./css/uploadDoc.css\"\nimport \"./css/photoBlock.css\"\nimport \"./css/searchKey.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/mainMenu.css\"\nimport \"./css/searchedMC.css\"\nimport \"./css/userProfile.css\"\nimport \"./css/supplierInfo.css\"\nimport \"./css/itemTable.css\"\nimport \"./css/itemTotal.css\"\nimport \"./css/misc.css\"\nimport \"./css/mfrSelection.css\"\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport \"./css/result.css\"\nimport \"./css/changeTrack.css\"\nimport \"./css/sharePoint.css\"\nimport \"./css/showSharePointFiles.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/app.css\"\nimport \"./css/xDaysResult.css\"\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}