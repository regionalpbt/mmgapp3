{"version":3,"sources":["components/ItemTable.js","components/ItemTotal.js","components/DefectOptions.js","components/DefectList.js","components/ShowAlert.js","components/CheckList.js","components/UploadForm.js","components/Spinner.js","components/SearchKey.js","components/MainMenu.js","components/SearchedMC.js","components/SupplierInfo.js","components/MfrSelection.js","components/Misc.js","components/Result.js","components/ChangeTrack.js","components/SharePoint.js","components/ShowSharePointFiles.js","components/ShowSpinner.js","AppInspection.js","Home.js","XDaysResult.js","components/UserProfile.js","App.js","index.js"],"names":["ItemTable","props","useEffect","listener","event","code","preventDefault","document","getElementById","click","addEventListener","removeEventListener","setItems","items","setDisplayAlert","mcTable","addMC","editMode","currentSU","currentMF","sortTable","sort","order","newItems","a","b","mc_no","item_no","useState","mc","setMC","handleInputChange","value","target","displayAlert","message","position","timeout","color","className","type","id","name","justify","placeholder","onChange","readOnly","onClick","found","find","x","duplicate","sameMF","su_no","mf_no","undefined","validateMC","align","length","map","item","order_qty","ItemTotal","setItemSearchString","itemsTotal","shippedTotal","sampleTotal","getSampleSize","aqlTable","setItemsTotal","setShippedTotal","setSampleTotal","inspectTotal","setInspectTotal","setAqlSampleTotal","aqlSampleTotal","undoTable","resetInspectQty","el","_total","_shippedTotal","reduce","accumulator","currentValue","parseInt","ship_qty","_sampleTotal","_inspectTotal","inspect_qty","i","_sample_qty","sample_qty","handleInspectQty","newItemsTotal","index","findIndex","r","newEntry","onInput","e","toUpperCase","deleteAllItems","DefectOptions","defects","setDefectLanguage","defectLanguage","defectList","currentProduct","setCurrentProduct","currentDefectArea","setCurrentDefectArea","currentDefectDetail","setCurrentDefectDetail","currentMajor","setCurrentMajor","currentMinor","setCurrentMinor","currentDefectAreaCode","setCurrentDefectAreaCode","currentDefectDetailCode","setCurrentDefectDetailCode","d","productDefect","first","push","filter","product","defect_area","_id","disabled","area_array","split","y","lang","defect_code","detail_array","defect_detail_code","defect_detail","min","max","major_int","isNaN","minor_int","addToDefectList","handleAddDefect","DefectList","isCriticalDefect","defect_lang","area_code","detail","defect_area_code","defect_detail_area","style","major","minor","deleteDefect","colSpan","ShowAlert","alert","class_var","concat","CheckList","checkList","selected","result","nextSelected","handleCheckItemChange","onSubmit","width","category","separator","UploadForm","inspectionID","setUploads","uploads","downloadDoc","selectedFile","setSelectedFile","showMimeIcon","file_name","fileExtension","parts","getExtension","iconType","ext","icon","toLowerCase","multiple","file","files","formData","FormData","append","axios","url","method","data","headers","inspection_id","iteration","charAt","relative_url","then","res","console","log","catch","err","response","error","enable","newUploadTable","uploadItem","deleteUpload","href","Spinner","promiseInProgress","usePromiseTracker","area","spinnerMessage","marginTop","height","display","justifyContent","alignItems","fontWeight","SearchKey","checkDuplicateID","setInspectionID","clearScreen","searchInspByMC","handleKeyChange","MainMenu","handleSave","handleDelete","handleSearch","printReport","setEditMode","userProfile","misc","showFull","updateHistory","submitted","editable","ignore_submit","handleClick","window","confirm","SearchedMC","searchedMC","setShowSearchedMC","newSearchedMC","SupplierInfo","currentSUName","currentMFName","setSelectingSupplier","setShowFull","MfrSelection","partyTable","setCurrentSU","setCurrentMF","setCurrentSUName","setCurrentMFName","selectingSupplier","su","mf","su_name","mf_name","SU","MF","SU_NAME","MF_NAME","Misc","setInspectionDate","inspectionDate","setMisc","handleChange","element","yes_or_no","newMisc","product_type","lab_test_report","lab_child_safety_report","fibre_content","comments","governance_inspection","props65_report","ship_mode","pack_pct","ship_window","carton_list","carton_total","inspector","qa_type","dateFormat","date","handleDate","checked","rows","cols","Result","visualResult","calculateFinalResult","calculate_final_result","visual_result","param2","packing_result","final_result","measurement_result","defective_result","sample_threshold","ChangeTrack","showHistory","setShowHistory","convertToLocal","history","Date","parse","updated_time","root","querySelector","setProperty","line","updated_by","updated_mode","SharePoint","getSharePointFiles","setShowSharePointFiles","showSharePointFiles","setSharePointFiles","src","alt","getTime","newWindow","open","opener","handleClick_view","handleClick_add","ShowSharePointFiles","sharePointFiles","downloadSharePointFile","handleDeleteSPfile","isSupportPicExt","filename","includes","editor","modified","size","folder","unique_id","ShowSpinner","App","showSearchedMC","setDefects","setAlert","setMCTable","setCheckList","setUserProfile","setSearchedMC","itemSearchString","setPartyTable","mfList","setMfList","setAqlTable","main","setMain","setVisualResult","constructTotal","setConstructTotal","setUpdateHistory","checkListTemplate","setCheckListTemplate","setDefectList","criticalDefects","setCriticalDefects","_aql","aql","size_start","size_end","sampleQty","Math","round","userAgent","navigator","test","trackPromise","api","fetch","json","j","scroll_y","getElementsByClassName","len","first_found","backgroundColor","firstElementChild","innerHTML","scrollTo","scrollHeight","scrollBy","getElementsByName","children","items1","obj","items2","prev","next","items3","Object","keys","sampleSize","inspectQty","sampleThreshold","defectiveResult","sampleThresholdMajor","sampleThresholdMinor","total_major","total_minor","total_critical","critical","toString","floor","handleSupplierInfo","uuidv4","fillCheckList","setTimeout","JSON","stringify","localStorage","setItem","inspection_date","status","location","delay","ms","Promise","handleSessionTimeOut","defect","t","toTimeString","toDateString","newCheckList","draft","blob","URL","createObjectURL","Blob","link","createElement","setAttribute","body","appendChild","parentNode","removeChild","deleteItem","getItem","defect_language","change","file_url","Home","env","title","border","About","setResult","_result","sortInspectionDate","first_name","email","UserProfile","to","gotoPowerBI","clear","path","environment","AppInspection","XDaysResult","ReactDOM","render"],"mappings":"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","file":"static/js/main.e6d640e1.chunk.js","sourcesContent":["import { React, useState, useEffect } from \"react\"\n\nconst ItemTable = props => {\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"itemTable_MCBtn\").click()\n      }\n    }\n\n    if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").addEventListener(\"keydown\", listener)\n\n    return () => {\n      if (document.getElementById(\"itemTable_MC\")) document.getElementById(\"itemTable_MC\").removeEventListener(\"keydown\", listener)\n    }\n  }, [])\n\n  const { setItems, items, setDisplayAlert, mcTable, addMC, editMode, currentSU, currentMF } = props\n\n  const sortTable = (sort, order) => {\n    const newItems = [...items]\n    /*table = document.getElementById(\"itemTable\") */\n    if (sort === 0 && order === \"asc\") {\n      newItems.sort(function (a, b) {\n        return a.mc_no > b.mc_no ? 1 : -1\n      })\n    } else if (sort === 0 && order === \"desc\") {\n      newItems.sort(function (a, b) {\n        return a.mc_no < b.mc_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"asc\") {\n      newItems.sort(function (a, b) {\n        return a.item_no > b.item_no ? 1 : -1\n      })\n    } else if (sort === 1 && order === \"desc\") {\n      newItems.sort(function (a, b) {\n        return a.item_no < b.item_no ? 1 : -1\n      })\n    }\n    setItems(newItems)\n  }\n\n  //* add new MC\n\n  const [mc, setMC] = useState(\"\")\n\n  const handleInputChange = event => {\n    const value = event.target.value\n    setMC(value)\n  }\n\n  const validateMC = () => {\n    //event.preventDefault()\n\n    const found = mcTable.find(x => x.mc_no === mc)\n    const duplicate = items.find(x => x.mc_no === mc)\n    const sameMF = mcTable.find(x => x.mc_no === mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else if (duplicate === undefined) {\n      addMC(mc)\n    } else {\n      displayAlert(\"MC was already entered in the item list, please check ! \")\n    }\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 1, timeout: 1500, color: \"alert__red\" })\n  }\n\n  return (\n    <div>\n      <div className=\"itemTable_Section\">\n        <div>Add MC:</div>\n        &nbsp;\n        <div>{editMode ? <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Additional MC here\" onChange={handleInputChange} /> : <input type=\"text\" id=\"itemTable_MC\" name=\"mc\" justify=\"left\" placeholder=\"Include additional MC here\" readOnly onChange={handleInputChange} />}</div>\n        &nbsp;&nbsp;\n        <div>\n          {editMode ? (\n            <i\n              id=\"itemTable_MCBtn\"\n              className=\"fa fa-plus clickable\"\n              onClick={() => {\n                validateMC(mc)\n              }}\n            ></i>\n          ) : null}\n        </div>\n      </div>\n      <div className=\"itemTable_Header\">\n        <div>\n          By MC#&nbsp;\n          <i\n            className=\"fa fa-chevron-circle-up\"\n            onClick={() => {\n              sortTable(0, \"asc\")\n            }}\n          ></i>\n          &nbsp;\n          <i\n            className=\"fa fa-chevron-circle-down\"\n            onClick={() => {\n              sortTable(0, \"desc\")\n            }}\n          ></i>\n        </div>\n        <div>\n          Item&nbsp;\n          <i\n            className=\"fa fa-chevron-circle-up\"\n            onClick={() => {\n              sortTable(1, \"asc\")\n            }}\n          ></i>\n          &nbsp;\n          <i\n            className=\"fa fa-chevron-circle-down\"\n            onClick={() => {\n              sortTable(1, \"desc\")\n            }}\n          ></i>\n        </div>\n        <div align=\"center\">Order</div>\n        <div></div>\n      </div>\n\n      <div id=\"itemTableScroller\" className=\"itemTable_GridContainer\">\n        {items.length > 0\n          ? items.map(item => (\n              <div key={item.id} className=\"itemTable_Detail\">\n                <div>{item.mc_no}</div>\n                <div>{item.item_no}</div>\n                <div align=\"center\">{item.order_qty}</div>\n              </div>\n            ))\n          : null}\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTable\n","import { React, useEffect } from \"react\"\n\nconst ItemTotal = props => {\n  const { setItemSearchString, itemsTotal, editMode, shippedTotal, sampleTotal, getSampleSize, aqlTable, setItemsTotal, setShippedTotal, setSampleTotal, inspectTotal, setInspectTotal, setAqlSampleTotal, aqlSampleTotal, undoTable, resetInspectQty, setDisplayAlert } = props\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        //console.log(\"Enter key was pressed. Run your function.\");\n        event.preventDefault()\n        document.getElementById(\"highLightItemBtn\").click()\n      }\n    }\n    var el = document.getElementById('itemTotal_searchString');\n    \n    if(el){      \n      el.addEventListener(\"keydown\", listener)\n      return () => {\n        el.removeEventListener(\"keydown\", listener)\n       }\n      }   \n\n  }, [])\n\n  useEffect(() => {\n    const _total = [...itemsTotal]\n    if (_total.length === 0) {\n      setShippedTotal(0)\n      setSampleTotal(0)\n    } else {\n      for (var i = 0; i < _total.length; i++) {\n        const reducer1 = (accumulator, currentValue) => accumulator + parseInt(currentValue.ship_qty)\n        const _shippedTotal = _total.reduce(reducer1, 0)\n        setShippedTotal(_shippedTotal)\n\n        // calculate total number of samples\n        const reducer2 = (accumulator, currentValue) => accumulator + getSampleSize(aqlTable, currentValue.ship_qty, _shippedTotal)\n        const _sampleTotal = _total.reduce(reducer2, 0)\n        setSampleTotal(_sampleTotal)\n\n        // calculate total number of inspection qty\n        const reducer3 = (accumulator, currentValue) => accumulator + parseInt(currentValue.inspect_qty)\n        const _inspectTotal = _total.reduce(reducer3, 0)\n        setInspectTotal(_inspectTotal)\n\n        // calculate AQL sample size\n        setAqlSampleTotal(getSampleSize(aqlTable, shippedTotal, _shippedTotal))\n      }\n    }\n  }, [itemsTotal, shippedTotal, sampleTotal, aqlTable, setSampleTotal, setShippedTotal, getSampleSize, inspectTotal, setInspectTotal, setAqlSampleTotal])\n\n  useEffect(() => {\n    const _total = [...itemsTotal]\n    for (var i = 0; i < _total.length; i++) {\n      const _sample_qty = getSampleSize(aqlTable, _total[i].ship_qty, shippedTotal)\n      _total[i].sample_qty = _sample_qty\n      //_total[i].inspect_qty = _sample_qty\n    }\n    setItemsTotal(_total)\n\n    // eslint-disable-next-line\n  }, [shippedTotal])\n\n  const handleShipQty = item_no => event => {\n    let value = event.target.value\n    if (value === \"\") {\n      return\n    }\n    if (value > 20000) {\n      value = 20000\n      setDisplayAlert({ message: \"Number of ship units is too large!\", position: 1, timeout: 3000, color: \"alert__red\" })\n    }\n\n    const newItemsTotal = [...itemsTotal]\n    const index = newItemsTotal.findIndex(r => r.item_no === item_no)\n    const newEntry = newItemsTotal.find(r => r.item_no === item_no)\n    newItemsTotal[index] = { ...newEntry, ship_qty: value }\n    setItemsTotal(newItemsTotal)\n  }\n\n  const handleInspectQty = item_no => event => {\n    let value = event.target.value\n    const newItemsTotal = [...itemsTotal]\n    const index = newItemsTotal.findIndex(r => r.item_no === item_no)\n    const newEntry = newItemsTotal.find(r => r.item_no === item_no)\n    newItemsTotal[index] = { ...newEntry, inspect_qty: value }\n    setItemsTotal(newItemsTotal)\n  }\n\n  return (\n    // present the table\n\n    <div>\n      <div className=\"itemTotal_Section\">\n        <div>Highlight item :</div>\n\n        <div>\n          <input type=\"text\" name=\"itemTotal_searchString\" id=\"itemTotal_searchString\" justify=\"left\" onInput={e => (e.target.value = (\"\" + e.target.value).toUpperCase())} placeholder=\"Enter item here\" />\n        </div>\n\n        <div>\n          <i\n            className=\"fa fa-search\"\n            id=\"highLightItemBtn\"\n            onClick={() => {\n              setItemSearchString(document.getElementById(\"itemTotal_searchString\").value)\n            }}\n          ></i>\n        </div>\n\n        <div>\n          Refresh Qty.&nbsp;\n          <i\n            className=\"fa fa-angle-double-right itemTotal_arrow_color\"\n            onClick={() => {\n              resetInspectQty()\n            }}\n          ></i>\n          <i\n            className=\"fa fa-angle-double-right  itemTotal_arrow_color\"\n            onClick={() => {\n              resetInspectQty()\n            }}\n          ></i>\n        </div>\n\n        <div>\n          Undo\n          <i\n            className=\"fa fa-undo\"\n            onClick={() => {\n              undoTable()\n            }}\n          ></i>\n        </div>\n      </div>\n\n      <div className=\"itemTotal_Header\">\n        <div>By Item</div>\n        <div>Ship</div>\n        <div>Sample</div>\n        <div>Inspect</div>\n        <div>Delete</div>\n      </div>\n\n      <div id=\"scroller\" className=\"itemTotal_GridContainer\">\n        {itemsTotal\n          ? itemsTotal.map(item => (\n              <div key={item.item_no} className=\"itemTotal_Detail\">\n                <div>{item.item_no}</div>\n                <div>\n                  <input type=\"text\" id=\"itemTotal_shipQty\" name=\"itemTotal_shipQty\" value={item.ship_qty || \"\"} justify=\"left\" onChange={handleShipQty(item.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                </div>\n                <div>{getSampleSize(aqlTable, item.ship_qty, shippedTotal)}</div>\n                <div>\n                  <input type=\"text\" id=\"itemTotal_InspectQty\" name=\"itemTotal_InspectQty\" value={item.inspect_qty || \"\"} justify=\"left\" placeholder=\"\" onChange={handleInspectQty(item.item_no)} readOnly={editMode ? \"\" : \"readOnly\"} />\n                </div>\n                <div>\n                  {editMode ? (\n                    <i\n                      className=\"fa fa-times clickable\"\n                      onClick={() => {\n                        props.deleteAllItems(item.item_no)\n                      }}\n                    ></i>\n                  ) : null}\n                </div>\n              </div>\n            ))\n          : null}\n      </div>\n\n      <div className=\"itemTotal_Total\">\n        <div> Total :</div>\n        <div>{shippedTotal}</div>\n        <div>{aqlSampleTotal}</div>\n        <div className={aqlSampleTotal !== inspectTotal ? \"highlightSection\" : null}>{inspectTotal}</div>\n        <div></div>\n      </div>\n    </div>\n  )\n}\n\nexport default ItemTotal\n","import React, { useState, Fragment } from \"react\"\n\nconst DefectOptions = props => {\n  // remove columns : mc_no and id in prepration for calculating total by item#\n  const { editMode, defects, setDisplayAlert, setDefectLanguage, defectLanguage, defectList } = props\n\n  const [currentProduct, setCurrentProduct] = useState(\"Select\")\n  const [currentDefectArea, setCurrentDefectArea] = useState(\"\")\n  const [currentDefectDetail, setCurrentDefectDetail] = useState(\"\")\n  const [currentMajor, setCurrentMajor] = useState(\"\")\n  const [currentMinor, setCurrentMinor] = useState(\"\")\n  const [currentDefectAreaCode, setCurrentDefectAreaCode] = useState(\"\")\n  const [currentDefectDetailCode, setCurrentDefectDetailCode] = useState(\"\")\n\n  //  prepare for the defect selection - need to associate based on each specific product and then its associted defect.\n  let d = defectList\n  const productDefect = []\n\n  while (d.length > 0) {\n    const first = d[0]\n    productDefect.push(first)\n    d = d.filter(x => (x.product !== first.product || x.defect_area !== first.defect_area) && x._id !== first._id)\n  }\n\n  const handleSelectChangeProduct = event => {\n    const { value } = event.target\n    if (disableProductSelect() === \"disabled\") {\n      if (value !== defects[0].product) {\n        setDisplayAlert({ message: \"Product '\" + defects[0].product + \"' has already been chosen !! Please empty all defects if you decide to change product ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n      }\n      document.getElementById(\"defectOptionsProduct\").value = defects[0].product\n      document.getElementById(\"defectOptionsDefectArea\").value = \"Select\"\n      setCurrentProduct(defects[0].product)\n    } else {\n      setCurrentProduct(value)\n    }\n\n    setCurrentDefectArea(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n    setCurrentDefectAreaCode(\"\")\n    setCurrentDefectDetailCode(\"\")\n  }\n\n  function disableProductSelect() {\n    if (defects.length > 0) {\n      return \"disabled\"\n    } else return null\n  }\n\n  const handleSelectChangeDefect = event => {\n    const { value } = event.target\n    const area_array = value.split(\"-\")\n    setCurrentDefectAreaCode(area_array[0])\n    setCurrentDefectArea(area_array[1])\n    setCurrentDefectDetail(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleSelectChangeDefectDetail = event => {\n    const { value } = event.target\n    const detail_array = value.split(\"-\")\n    setCurrentDefectDetailCode(detail_array[0])\n    setCurrentDefectDetail(detail_array[1])\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleCurrentMajorChange = event => {\n    const { value } = event.target\n    setCurrentMajor(value)\n  }\n\n  const handleCurrentMinorChange = event => {\n    const { value } = event.target\n    setCurrentMinor(value)\n  }\n\n  const handleChangeDefectLanguage = event => {\n    const { value } = event.target\n    if (defects.length > 0) {\n      setDefectLanguage(value)\n      //setDisplayAlert({ message: \"Language has already been chosen !! Please empty all defects if you decide to change language ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else {\n      setDefectLanguage(value)\n    }\n  }\n\n  const handleAddDefect = event => {\n    //event.preventDefault()\n    const major_int = isNaN(parseInt(currentMajor)) // check if empty, return true if empty\n    const minor_int = isNaN(parseInt(currentMinor)) // check if empty, return true if empty\n\n    if (currentProduct === \"Select\" || currentDefectArea === \"Select\" || currentDefectDetail === \"Select\") {\n      props.setDisplayAlert({ message: \"Please make sure you select Product, Defect and Defect Detail ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else if (major_int || minor_int || (currentMajor < 1 && currentMinor < 1)) {\n      props.setDisplayAlert({ message: \"Please make sure you enter either Major and Minor quantity ! \", position: 2, timeout: 2500, color: \"alert__red\" })\n    } else {\n      props.addToDefectList(currentProduct, currentDefectArea, currentDefectDetail, currentMajor, currentMinor, currentDefectAreaCode, currentDefectDetailCode, defectLanguage)\n    }\n  }\n\n  return (\n    // present the table\n\n    <Fragment>\n      <div className=\"defectOption_header\">\n        <div>Language</div>\n        <div>&nbsp;&nbsp;&nbsp;&nbsp;</div>\n        <div>\n          <select className=\"defectOption_language\" onChange={handleChangeDefectLanguage} value={defectLanguage}>\n            <option value=\"en\">English</option>\n            <option value=\"zh\">Chinese</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"defectOption\">\n        <div className=\"defectOption_product\">\n          <select onChange={handleSelectChangeProduct} id=\"defectOptionsProduct\">\n            {/* <option disabled={disableProductSelect()}  value=\"Select\">Select</option> */}\n            <option value=\"Select\">Select</option>\n            <option value=\"Fashion Jewelry\" disabled={editMode ? \"\" : \"disabled\"}>\n              Fashion Jewelry\n            </option>\n            <option value=\"Footwear\" disabled={editMode ? \"\" : \"disabled\"}>\n              Footware\n            </option>\n            <option value=\"Handbags\" disabled={editMode ? \"\" : \"disabled\"}>\n              Handbags\n            </option>\n            <option value=\"Hardlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Hardlines\n            </option>\n            <option value=\"Softlines\" disabled={editMode ? \"\" : \"disabled\"}>\n              Softlines\n            </option>\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectArea\">\n          <select onChange={handleSelectChangeDefect} id=\"defectOptionsDefectArea\">\n            <option value=\"Select\">Select</option>\n            {productDefect\n              .filter(y => y.product === currentProduct && y.lang === defectLanguage)\n              .map(x => (\n                <option key={x._id} value={x.defect_code + \"-\" + x.defect_area}>\n                  {x.defect_code + \"-\" + x.defect_area}\n                </option>\n              ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_defectDetail\">\n          <select onChange={handleSelectChangeDefectDetail}>\n            <option value=\"Select\">Select</option>\n            {defectList\n              .filter(y => y.product === currentProduct && y.defect_area === currentDefectArea && y.lang === defectLanguage)\n              .map(x => (\n                <option key={x._id} value={x.defect_detail_code + \"-\" + x.defect_detail}>\n                  {x.defect_detail_code + \"-\" + x.defect_detail}\n                </option>\n              ))}\n          </select>\n        </div>\n\n        <div className=\"defectOption_major\">\n          <input type=\"number\" name=\"major\" placeholder=\" Major\" value={currentMajor} min=\"0\" max=\"5\" onChange={handleCurrentMajorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div className=\"defectOption_minor\">\n          <input type=\"number\" name=\"minor\" placeholder=\" Minor\" value={currentMinor} min=\"0\" max=\"5\" onChange={handleCurrentMinorChange} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n\n        <div>\n          {editMode ? (\n            <button\n              onClick={() => {\n                handleAddDefect()\n              }}\n            >\n              Add\n            </button>\n          ) : null}\n        </div>\n        <div></div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectOptions\n","import React, { Fragment } from \"react\"\n\nconst DefectList = props => {\n  const { defects, editMode, isCriticalDefect, defectLanguage, defectList }   = props\n\n  function defect_lang(product, area_code, detail) {\n      //console.log(\"input\", product, area_code, detail)\n      const defect = defectList.filter(x => x.product === product && x.defect_code === area_code && x.defect_detail_code === detail  && x.lang === defectLanguage)      \n      return defect[0]\n  }\n\n  return (\n    // present the table\n    // adding span below appends ... to the off-limit text\n    <Fragment>\n      <div className=\"defectList\">\n        <div className=\"defectList_gridHeader\">\n          <div>Product</div>\n          <div>Defect</div>\n          <div>Defect Detail</div>\n          <div className=\"defectList_major_header\">\n            Major/<br></br>Critical\n          </div>\n          <div className=\"defectList_minor_header\">Minor</div>\n          <div>Delete</div>\n        </div>\n\n        {defects.length > 0 ? (\n          defects.map(x => (\n            <div className=\"defectList_gridDetail\" key={x.id}>\n              <div className=\"defectList_gridItem defectList_product\">{x.product}</div>\n              <div className=\"defectList_gridItem defectList_defectArea\">{x.defect_area_code + \"-\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_area}</div>\n              <div className=\"defectList_gridItem  defectList_defectDetail\" style={{ color: isCriticalDefect(x.product, x.defect_detail_area) ? \"red\" : \"inherit\" }}>\n                <span>{x.defect_detail_area + \"-\" + defect_lang(x.product, x.defect_area_code, x.defect_detail_area).defect_detail}</span>\n              </div>\n              <div className=\"defectList_major\">{x.major}</div>\n              <div className=\"defectList_minor\">{x.minor}</div>\n              <div className=\"defectList_deleteButton\">\n                {editMode ? (\n                  <button\n                    onClick={() => {\n                      props.deleteDefect(x.id)\n                    }}\n                  >\n                    &times;\n                  </button>\n                ) : null}\n              </div>\n              <div></div>\n            </div>\n          ))\n        ) : (\n          <div>\n            <div colSpan={3}>No Defects</div>\n          </div>\n        )}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectList\n","import React from \"react\"\n\nconst ShowAlert = props => {\n  const alert = props.alert\n  const class_var = \"alert \".concat(alert.color)\n\n  return (\n    // present the table\n    <h5 className={class_var}>{alert.message}</h5>\n  )\n}\nexport default ShowAlert\n","import React from \"react\"\n\nconst CheckList = props => {\n  const { editMode, checkList } = props\n\n  const handleInputChange = (id, x) => {\n    if (editMode) {\n      const selected = [\"Select\", \"OK\", \"NA\", \"X\", \"NI\"]\n      let index = selected.findIndex(y => y === x.result)\n      if (index === 4) {\n        index = 1\n      } else {\n        index = index + 1\n      }\n      const nextSelected = selected[index]\n      props.handleCheckItemChange(id, { ...x, result: nextSelected })\n    }\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault() //  props.updateItem(item.id, item)\n      }}\n    >\n      <div className=\"checkList_header\">Basic Check List</div>\n      <div className=\"checkFormGrid\">\n        <div>\n          <table id=\"checkListTable\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id > 0 && y.id <= 42)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 43 && y.id <= 68)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            className=\"checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"checkFormGridCell\">\n          <table id=\"checkListTable\" className=\"fixed\">\n            <thead>\n              <tr>\n                <th width=\"40%\">Category</th>\n                <th width=\"40%\">Item</th>\n                <th width=\"20%\">Result</th>\n                {/* <th>Drop Down Result</th> */}\n              </tr>\n            </thead>\n            <tbody>\n              {checkList\n                ? checkList\n                    .filter(y => y.id >= 81)\n                    .map(x => (\n                      <tr key={x.id}>\n                        {x.category ? <td>{x.category}</td> : null}\n                        {x.category ? (\n                          <td>{x.item}</td>\n                        ) : x.id === 0 ? (\n                          <td className=\"checkCellSeparation\" colSpan=\"3\"></td>\n                        ) : x.separator ? (\n                          <td className=\"checkCellSeparationHeader\" colSpan=\"3\">\n                            {x.separator}\n                          </td>\n                        ) : (\n                          <td colSpan=\"2\">{x.item}</td>\n                        )}\n\n                        {x.category || x.item ? (\n                          <td\n                            // bgcolor=\"white\"\n                            className=\"checkCellResult\"\n                            onClick={() => {\n                              handleInputChange(x.id, x)\n                            }}\n                          >\n                            {x.result}\n                          </td>\n                        ) : null}\n                      </tr>\n                    ))\n                : null}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </form>\n  )\n}\n\nexport default CheckList\n","import React, { Fragment, useState } from \"react\"\nimport axios from \"axios\"\n\nconst UploadForm = props => {\n  const { setDisplayAlert, inspectionID, setUploads, uploads, downloadDoc, editMode, currentSU, currentMF} = props\n  const [selectedFile, setSelectedFile] = useState()\n\n  const handleFile = event => {\n    setSelectedFile({ file: event.target.files })\n  }\n\n  const handleUpload = event => {\n    //event.preventDefault()\n\n    displayAlert('Do not hit \"UPLOAD\" button again ! Upload in progress')\n\n    const formData = new FormData()    \n\n    try {\n      const files = selectedFile.file\n\n      for (let i = 0; i < files.length; i++) {\n        formData.append(`files[]`, files[i])        \n        //console.log(files[i], \"hello  ---$$$\")\n      }\n\n      axios({\n        url: \"/api/upload\",\n        method: \"POST\",\n        data: formData,\n        headers: {\n          inspection_id: inspectionID.mc + '-' + inspectionID.iteration + '-' + inspectionID.type.charAt(0),\n          relative_url : \"2022inspRpt/SU\" + currentSU + \"MF\" + currentMF           \n        }\n      })\n        .then(res => {\n          for (var i = 0; i < res.data.length; i++) {\n            const _id = res.data[i]._id\n            //const inspection_id = inspectionID\n            const file_name = res.data[i].file_name\n            //const mime_type = res.data[i].mime_type\n            console.log(\"file_name\", file_name)\n            document.getElementById(\"sharePoint_refresh\").click()\n            //setUploads(prev => prev.concat({ _id, enable: true, file_name, inspection_id, mime_type }))\n          }\n        })\n        .catch(err => {\n          //console.log(err.response.data)\n          displayAlert(err.response.data)\n        })\n    } catch (error) {\n      displayAlert(\"Please select files and try again !!\")\n    }\n  }\n\n  function getExtension(file_name) {\n    var parts = file_name.split(\".\")\n    return parts[parts.length - 1]\n  }\n\n  function showMimeIcon(file_name) {\n    const iconTypes = [\n      { ext: \"jpeg\", icon: \"file-image-o\" },\n      { ext: \"jpg\", icon: \"file-image-o\" },\n      { ext: \"bmp\", icon: \"file-image-o\" },\n      { ext: \"png\", icon: \"file-image-o\" },\n      { ext: \"jif\", icon: \"file-image-o\" },\n      { ext: \"mp4\", icon: \"file-movie-o\" },\n      { ext: \"avi\", icon: \"file-movie-o\" },\n      { ext: \"mpg\", icon: \"file-movie-o\" },\n      { ext: \"txt\", icon: \"file-text-o\" },\n      { ext: \"xlsx\", icon: \"file-excel-o\" },\n      { ext: \"xls\", icon: \"file-excel-o\" },\n      { ext: \"doc\", icon: \"file-word-o\" },\n      { ext: \"docx\", icon: \"file-word-o\" },\n      { ext: \"ppt\", icon: \"file-powepoint-o\" },\n      { ext: \"pdf\", icon: \"file-pdf-o\" },\n      { ext: \"pptx\", icon: \"file-pdf-o\" },\n      { ext: \"zip\", icon: \"file-zip-o\" }\n    ]\n\n    const fileExtension = getExtension(file_name)\n    const iconType = iconTypes.find(x => x.ext === fileExtension.toLowerCase()).icon\n    const iconFont = iconType ? iconType : \"fa-fa-file\" // file type not registered\n    return \"fa fa-\" + iconFont + \" addSpace\"\n  }\n\n  const deleteUpload = id => {\n    const newUploadTable = [...uploads]\n    const index = newUploadTable.findIndex(r => r._id === id)\n    const uploadItem = newUploadTable.find(r => r._id === id)\n    newUploadTable[index] = { ...uploadItem, enable: false }\n    //console.log(newUploadTable)\n    setUploads(newUploadTable)\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 3, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"uploadDoc\">\n        {editMode ? (\n          <form>\n            <input type=\"file\" multiple name=\"file\" onChange={handleFile} />\n            <button type=\"button\" onClick={handleUpload}>\n              Upload files\n            </button>\n          </form>\n        ) : null}\n\n        <table id=\"uploadFiles\">\n          <tbody>\n            {uploads\n              .filter(y => y.enable)\n              .map(x => (\n                <tr key={x._id}>\n                  <td>\n                    <button\n                      className=\"button-delete small-button\"\n                      onClick={() => {\n                        deleteUpload(x._id)\n                      }}\n                    >\n                      &times;\n                    </button>\n                    <a href=\"/#\" onClick={downloadDoc(x._id, x.file_name)}>\n                      <i className={showMimeIcon(x.file_name)} />\n                      {x.file_name}\n                    </a>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default UploadForm\n","import React from \"react\"\nimport { usePromiseTracker } from \"react-promise-tracker\"\nimport Loader from \"react-loader-spinner\"\n\nexport const Spinner = props => {\n  const { promiseInProgress } = usePromiseTracker({ area: props.area })\n  const { spinnerMessage } = props\n\n  return (\n    promiseInProgress && (\n      <div\n        style={{\n          marginTop: \"0.5rem\",\n          width: \"100%\",\n          height: \"30\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"green\",\n          fontWeight: \"bold\"\n        }}\n      >\n        {/* <Loader type=\"ThreeDots\" color=\"#2BAD60\" height=\"50\" width=\"100\" /> */}\n        {/* <Loader type=\"Circles\" color=\"rgba(129, 160, 250, 255)\" height=\"40\" width=\"100\" /> */}\n        {spinnerMessage}\n        <Loader type=\"Circles\" color=\"green\" height=\"30\" width=\"100\" />\n      </div>\n    )\n  )\n}\n","import React, { Fragment } from \"react\"\n//import axios from \"axios\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchKey = props => {\n  const { checkDuplicateID, mcTable, setDisplayAlert, inspectionID, setInspectionID, clearScreen, searchInspByMC, currentMF, currentSU, editMode } = props\n\n  const handleKeyChange = event => {\n    const id = event.target.id\n    const { value } = event.target\n\n    switch (id) {\n      case \"searchKey_mc\":\n        setInspectionID({ ...inspectionID, mc: value })\n        if (value.length >= 3) searchInspByMC(value)\n        // pass first few characters of MC entered\n        else clearScreen()\n        break\n      case \"searchKey_iteration\":\n        setInspectionID({ ...inspectionID, iteration: value })\n        break\n      case \"searchKey_type\":\n        setInspectionID({ ...inspectionID, type: value })\n        break\n      default:\n        break\n    }\n  }\n\n  const validateMC = id => {\n    clearScreen()\n\n    const found = mcTable.find(x => x.mc_no === id.mc)\n    const sameMF = mcTable.find(x => x.mc_no === id.mc && x.su_no === currentSU && x.mf_no === currentMF)\n\n    if (!found) {\n      displayAlert(\"This MC doesn't exist\")\n    } else if (!sameMF) {\n      displayAlert(\"This MC exists but not for this manufacturer!\")\n    } else {\n      checkDuplicateID(id)\n    }\n  }\n\n  function isInvalidID() {\n    if (inspectionID.mc === \"\" || inspectionID.iteration === \"Select\" || inspectionID.iteration === \"\" || inspectionID.type === \"Select\") return true\n    else return false\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  return (\n    <Fragment>\n      <div className=\"searchKey\">\n        <div className=\"searchKey_pair\">\n          <label>MC# : </label>\n          <input type=\"text\" name=\"searchKey_mc\" id=\"searchKey_mc\" onChange={handleKeyChange} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Iteration : </label>\n          <input type=\"number\" name=\"searchKey_iteration\" id=\"searchKey_iteration\" placeholder=\"Iteration\" min=\"1\" max=\"9\" onChange={handleKeyChange} />\n        </div>\n        <div className=\"searchKey_pair\">\n          <label>Type : </label>\n          <select name=\"searchKey_type\" id=\"searchKey_type\" onChange={handleKeyChange}>\n            <option value=\"Select\">Select</option>\n            <option value=\"1st Line\">1st In-line</option>\n            <option value=\"2nd Line\">2nd In-Line</option>\n            <option value=\"3rd Line\">3rd In-Line</option>\n            <option value=\"4th Line\">4th In-Line</option>\n            <option value=\"5th Line\">5th In-Line</option>\n            <option value=\"1st Pre-final\">1st Pre-final</option>\n            <option value=\"2nd Pre-final\">2nd Pre-final</option>\n            <option value=\"Pre-Production Meeting\">Pre-Production Meeting</option>\n            <option value=\"Final\">Final</option>\n            <option value=\"Re-inspection for Failure\">Re-inspection for Failure</option>\n          </select>\n        </div>\n        <div></div>\n        {!editMode ? (\n          <div>\n            {!isInvalidID() ? (\n              <div>\n                <button\n                  onClick={() => {\n                    validateMC(inspectionID)\n                  }}\n                >\n                  Create Inspection\n                </button>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n      </div>\n      <Spinner area=\"searchKey\" />\n    </Fragment>\n  )\n}\n\nexport default SearchKey\n","import React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { handleSave, handleDelete, handleSearch, inspectionID, printReport, editMode, setEditMode, userProfile, misc, showFull, clearScreen, updateHistory } = props\n\n  const submitted = misc.submitted\n  const editable = userProfile.ignore_submit === undefined ? false : userProfile.ignore_submit\n\n  const handleClick = event => {\n    const id = event.target.id\n\n    setEditMode(false)\n\n    if (id === \"save\") {\n      submitted ? handleSave(true) : handleSave(false)\n    }\n\n    if (id === \"edit\") {\n      setEditMode(true)\n    }\n\n    if (id === \"delete\") {\n      handleDelete(inspectionID)\n    }\n    if (id === \"search\") {\n      setEditMode(false)\n      handleSearch(inspectionID)\n    }\n    if (id === \"print\") {\n      printReport(\"Inspection_Report.xlsx\", false)\n    }\n    if (id === \"print_draft\") {\n      // print draft watermark\n      printReport(\"Inspection_Report.xlsx\", true)\n    }\n\n    if (id === \"cancel\") {\n      setEditMode(false)\n      clearScreen()\n    }\n  }\n  return (\n    <Fragment>\n      <div className=\"mainMenu\">\n        <div className=\"mainMenu_inspectionKey\">\n          Inspection Key : &nbsp;&nbsp;\n          {/* {(submitted || \"\") && showFull ? <i className=\"fa fa-lock mainMenu_lock\"></i> : null} */}\n          {(submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-lock mainMenu_lock\"\n              onClick={() => {\n                if (editable) {\n                  var confirm = window.confirm(\"Are you sure you want to unlock this inspeciton ? \")\n                  if (confirm === true) {\n                    handleSave(false)\n                  }\n                } else {\n                  alert(\"You have no rights to unlock this inspeciton !\")\n                }\n              }}\n            ></i>\n          ) : null}\n          {(!submitted || \"\") && showFull ? (\n            <i\n              className=\"fa fa-unlock mainMenu_unlock\"\n              onClick={() => {\n                var confirm = window.confirm(\"Are you sure you want to submit or lock this inspeciton ? \")\n                if (confirm === true) {\n                  handleSave(true)\n                }\n              }}\n            ></i>\n          ) : null}\n        </div>\n        {editMode || \"\" ? (\n          <button id=\"save\" onClick={handleClick}>\n            Save\n          </button>\n        ) : null}\n        {!editMode ? (\n          <button id=\"search\" onClick={handleClick}>\n            Search\n          </button>\n        ) : null}\n        {!editMode && showFull && (!submitted || editable) ? (\n          <button id=\"edit\" onClick={handleClick}>\n            Edit&nbsp;\n            {(submitted || \"\") && showFull ? <i className=\"fa fa-lock\"></i> : null}\n          </button>\n        ) : null}\n        {editMode ? (\n          <button id=\"cancel\" onClick={handleClick}>\n            Cancel\n          </button>\n        ) : null}\n        {!editMode && submitted ? (\n          <button id=\"print\" onClick={handleClick}>\n            Print\n          </button>\n        ) : null}\n        {!editMode && !submitted && showFull ? (\n          <button id=\"print_draft\" onClick={handleClick}>\n            Print Draft\n          </button>\n        ) : null}\n\n        {(showFull || \"\") && editable && showFull && updateHistory.length > 0 ? (\n          <button id=\"delete\" onClick={handleClick} className=\"deleteButton\">\n            Delete\n          </button>\n        ) : null}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst SearchedMC = props => {\n  const { setInspectionID, handleSearch, searchedMC, setShowSearchedMC, mcTable, currentSU, currentMF } = props\n\n  const newSearchedMC = []\n  for (var i = 0; i < searchedMC.length; i++) {\n    const mc_no = searchedMC[i].mc\n    const rec = mcTable.find(x => x.mc_no === mc_no && x.su_no === currentSU && x.mf_no === currentMF)\n    if (rec) {\n      newSearchedMC.push(searchedMC[i])\n    }\n  }\n\n  const handleClick = id => {\n    setInspectionID(id)\n    handleSearch(id)\n    // Set search fields in SearchKey.js\n    document.getElementById(\"searchKey_mc\").value = id.mc\n    document.getElementById(\"searchKey_iteration\").value = id.iteration\n    document.getElementById(\"searchKey_type\").value = id.type\n    setShowSearchedMC(false)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      <div className=\"searchedMC\">\n        <div className=\"searchedMC_header1 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        <div className=\"searchedMC_header2 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        <div className=\"searchedMC_header3 searchedMC_header\">\n          <div></div>\n          <div>MC</div>\n          <div>Iteration</div>\n          <div>Type</div>\n        </div>\n        {newSearchedMC.length > 0\n          ? newSearchedMC.map(x => (\n              <div\n                className=\"searchedMC_detail\"\n                key={x.id}\n                onClick={() => {\n                  handleClick({ mc: x.mc, iteration: x.iteration, type: x.type })\n                }}\n              >\n                <div></div>\n                <div>{x.mc}</div>\n                <div>{x.iteration}</div>\n                <div>{x.type}</div>\n              </div>\n            ))\n          : null}\n      </div>\n      <Spinner area=\"mfrSelection\" />\n    </Fragment>\n  )\n}\n\nexport default SearchedMC\n","import React, { Fragment } from \"react\"\n\nconst SupplierInfo = props => {\n  const { currentSU, currentMF, currentSUName, currentMFName, setSelectingSupplier, setShowFull } = props\n\n  const changeSelectingSuppler = () => {\n    setSelectingSupplier(true)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {!!currentSU ? (\n        <div className=\"supplierInfo\">\n          <button\n            onClick={() => {\n              setShowFull(false)\n              changeSelectingSuppler()\n            }}\n          >\n            Select\n          </button>\n          <div className=\"supplierInfo_capitalize supplierInfoSU\">\n            {currentSUName.toLowerCase()} ({currentSU})\n          </div>\n          <div className=\"supplierInfo_capitalize supplierInfoMF\">\n            {currentMFName.toLowerCase()} ({currentMF})\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default SupplierInfo\n","import React, { Fragment } from \"react\"\n\nconst MfrSelection = props => {\n  const { partyTable, setCurrentSU, setCurrentMF, setCurrentSUName, setCurrentMFName, selectingSupplier, setSelectingSupplier } = props\n\n  const handleClick = (su, mf, su_name, mf_name) => {\n    setCurrentSU(su)\n    setCurrentMF(mf)\n    setCurrentSUName(su_name)\n    setCurrentMFName(mf_name)\n    setSelectingSupplier(false)\n  }\n\n  return (\n    // present the table\n    <Fragment>\n      {partyTable && selectingSupplier ? <div className=\"mfrSelection_header\">Select a manufacturer:</div> : null}\n      {partyTable && selectingSupplier\n        ? partyTable.map(x => (\n            <div\n              className=\"mfrSelection\"\n              key={x.SU.concat(x.MF)}\n              onClick={() => {\n                handleClick(x.SU, x.MF, x.SU_NAME, x.MF_NAME)\n              }}\n            >\n              <div className=\"mfrSelectionSU\">\n                {x.SU_NAME} ({x.SU}){\" \"}\n              </div>\n              <div className=\"mfrSelectionMF\">\n                {x.MF_NAME} ({x.MF}){\" \"}\n              </div>\n            </div>\n          ))\n        : null}\n\n      \n    </Fragment>\n  )\n}\nexport default MfrSelection\n","import React from \"react\"\nimport DatePicker from \"react-datepicker\"\n\nconst Misc = props => {\n  const { setInspectionDate, inspectionDate, setMisc, misc, editMode } = props\n\n  const handleDate = date => {\n    setInspectionDate(date)\n  }\n\n  // Misc Fields (Text) Capture\n  const handleChange = (element, yes_or_no) => event => {\n    let value = event.target.value\n\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 2: //b\n          newMisc = { ...newMisc, product_type: value }\n          break\n        case 3: //c\n          newMisc = { ...newMisc, lab_test_report: value }\n          break\n        case 4: //d\n          newMisc = { ...newMisc, lab_child_safety_report: value }\n          break\n        case 5: //e\n          newMisc = { ...newMisc, fibre_content: value }\n          break\n        case 6: //f\n          newMisc = { ...newMisc, comments: value }\n          break\n        case 7: //g\n          newMisc = { ...newMisc, governance_inspection: yes_or_no }\n          break\n        case 8: //h\n          newMisc = { ...newMisc, props65_report: value }\n          break\n        case 9: //i\n          newMisc = { ...newMisc, ship_mode: value }\n          break\n        case 10: //j\n          newMisc = { ...newMisc, pack_pct: value }\n          break\n        case 11: //k\n          newMisc = { ...newMisc, ship_window: value }\n          break\n        case 12: //l\n          newMisc = { ...newMisc, carton_list: value }\n          break\n        case 13: //m\n          newMisc = { ...newMisc, carton_total: value }\n          break\n        case 14: //n\n          newMisc = { ...newMisc, inspector: value }\n          break\n        case 15: //n\n          newMisc = { ...newMisc, qa_type: value }\n          break\n\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <div className=\"misc\">\n      <div className=\"misc_a\">\n        <div className=\"misc_title misc_grid_a\">\n          <div>Inspection Date (A)</div>\n          <DatePicker className=\"datePicker\" dateFormat=\"MM/dd/yy\" selected={inspectionDate} onChange={date => handleDate(date)} readOnly={editMode ? \"\" : \"readOnly\"} />\n        </div>\n      </div>\n\n      <div className=\"misc_g misc_grid_g\">\n        <div className=\"misc_title\">Governance Inspection (G)</div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_yes\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"Yes\"} onChange={handleChange(7, \"Yes\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>Yes</div>\n        <div></div>\n        <div>\n          <input type=\"radio\" id=\"misc_governance_inspection_no\" name=\"misc_governance_inspection\" value={misc.governance_inspection || \"\"} checked={misc.governance_inspection === \"No\"} onChange={handleChange(7, \"No\")} disabled={editMode ? \"\" : \"disabled\"} />\n        </div>\n        <div>No</div>\n      </div>\n\n      <div className=\"misc_j misc_grid_j\">\n        <div className=\"misc_title\">Pack % During Inspection (J)</div>\n        <input type=\"text\" id=\"misc_packPct\" name=\"misc_packPct\" value={misc.pack_pct || \"\"} justify=\"left\" placeholder=\"%\" onChange={handleChange(10)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_k misc_grid_k\">\n        <div className=\"misc_title\">Ship Window (K)</div>\n        <input type=\"text\" id=\"misc_shipWindow\" name=\"misc_shipWindow\" value={misc.ship_window || \"\"} justify=\"left\" placeholder=\"Ship Window\" onChange={handleChange(11)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_b misc_grid_b\">\n        <div className=\"misc_title\">Product Type (B)</div>\n        <input type=\"text\" id=\"misc_productType\" name=\"misc_productType\" value={misc.product_type || \"\"} justify=\"left\" placeholder=\"Product Type\" onChange={handleChange(2)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_o misc_grid_o\">\n          <div className=\"misc_title\">QA Type (O)</div>\n\n          <select id=\"misc_qaType\" name=\"misc_qaType\" value={misc.qa_type || \"Select\"} justify=\"left\" placeholder=\"QA Type\" onChange={handleChange(15)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"MQA\" disabled={editMode ? \"\" : \"disabled\"}>\n              MQA\n            </option>\n            <option value=\"SQA\" disabled={editMode ? \"\" : \"disabled\"}>\n              SQA\n            </option>\n          </select>\n      </div>\n\n      <div className=\"misc_n misc_grid_n\">\n        <div className=\"misc_title\">Inspector (N)</div>\n        <input type=\"text\" id=\"misc_inspector\" name=\"misc_inspector\" value={misc.inspector || \"\"} justify=\"left\" placeholder=\"Inspector\" onChange={handleChange(14)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n    \n      <div className=\"misc_c misc_grid_c\">\n        <div className=\"misc_title\">Lab Test Report (C)</div>\n\n        <select id=\"misc_labTest\" name=\"misc_labTest\" value={misc.lab_test_report || \"Select\"} justify=\"left\" placeholder=\"Test result\" onChange={handleChange(3)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending         \n          </option>\n          <option value=\"Pass\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pass\n          </option>\n          <option value=\"Fail\" disabled={editMode ? \"\" : \"disabled\"}>\n            Fail\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_d misc_grid_d\">\n        <div className=\"misc_title\">Child Safety Report (D)</div>\n\n        <select id=\"misc_childSafetyReport\" name=\"misc_childSafetyReport\" value={misc.lab_child_safety_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(4)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_h misc_grid_h\">\n        <div className=\"misc_title\">Props 65 Report (H)</div>\n        <select id=\"misc_props65Report\" name=\"misc_props65Report\" value={misc.props65_report || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(8)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"N/A\" disabled={editMode ? \"\" : \"disabled\"}>\n            N/A\n          </option>\n          <option value=\"Pending\" disabled={editMode ? \"\" : \"disabled\"}>\n            Pending\n          </option>\n          <option value=\"Accept\" disabled={editMode ? \"\" : \"disabled\"}>\n            Accept\n          </option>\n          <option value=\"Reject\" disabled={editMode ? \"\" : \"disabled\"}>\n            Reject\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_i misc_grid_i\">\n        <div className=\"misc_title\">Ship Mode (I)</div>\n\n        <select id=\"misc_shipMode\" name=\"misc_shipMode\" value={misc.ship_mode || \"Select\"} justify=\"left\" placeholder=\" \" onChange={handleChange(9)}>\n          <option value=\"Select\" disabled=\"disabled\">\n            Select\n          </option>\n          <option value=\"Ocean\" disabled={editMode ? \"\" : \"disabled\"}>\n            Ocean\n          </option>\n          <option value=\"Air\" disabled={editMode ? \"\" : \"disabled\"}>\n            Air\n          </option>\n        </select>\n      </div>\n\n      <div className=\"misc_e misc_grid_e\">\n        <div className=\"misc_title\">Fibre Content (E)</div>\n        <input type=\"text\" id=\"misc_fibreContent\" name=\"misc_fibreContent\" value={misc.fibre_content || \"\"} justify=\"left\" placeholder=\"Fibre Content\" onChange={handleChange(5)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_f misc_grid_f\">\n        <div className=\"misc_title\">Comments (F)</div>\n        <textarea rows=\"5\" cols=\"50\" id=\"misc_comments\" name=\"misc_comments\" value={misc.comments || \"\"} justify=\"left\" placeholder=\"Comments\" onChange={handleChange(6)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      \n\n      <div className=\"misc_l misc_grid_l\">\n        <div className=\"misc_title\">Carton List (L)</div>\n        <textarea rows=\"3\" cols=\"50\" id=\"misc_cartonList\" name=\"misc_cartonList\" value={misc.carton_list || \"\"} justify=\"left\" placeholder=\"Carton List\" onChange={handleChange(12)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n      <div className=\"misc_m misc_grid_m\">\n        <div className=\"misc_title\">Carton Total (M)</div>\n        <input type=\"text\" id=\"misc_cartonTotal\" name=\"misc_cartonTotal\" value={misc.carton_total || \"\"} justify=\"left\" placeholder=\"Carton Total\" onChange={handleChange(13)} readOnly={editMode ? \"\" : \"readOnly\"} />\n      </div>\n\n\n    </div>\n\n  )\n}\nexport default Misc\n","import React, { Fragment } from \"react\"\n\nconst Result = props => {\n  const { setMisc, misc, editMode, visualResult, calculateFinalResult } = props\n\n  function calculate_final_result(result) {\n    if (result === \"Failed\" || visualResult.visual_result === \"Failed\") {\n      return \"Failed\"\n    } else {\n      return visualResult.visual_result\n    }\n  }\n\n  const handleChange = (element, param2) => event => {\n    let value = event.target.value\n    if (misc) {\n      let newMisc = { ...misc }\n      switch (element) {\n        case 1: //a  Packing\n          newMisc = { ...newMisc, packing_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(misc.measurement_result) }\n          }\n          break\n        case 2: //b  Measurement\n          newMisc = { ...newMisc, measurement_result: value }\n          if (value === \"Failed\") {\n            newMisc = { ...newMisc, final_result: \"Failed\" }\n          } else {\n            newMisc = { ...newMisc, final_result: calculate_final_result(misc.packing_result) }\n          }\n          break\n        default:\n          console.log(\"No element\")\n      }\n      setMisc(newMisc)\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"result\">\n        <div className=\"result_f result_grid_f\"> Inspection Result Summary</div>\n        <div></div>\n        <div></div>\n\n        <div className=\"result_a result_grid_a\">\n          <div className=\"result_title\">Packing</div>\n          <select id=\"result_packingResult\" name=\"misc_packingResult\" value={misc.packing_result || \"Select\"} justify=\"left\" placeholder=\"Packing Result\" onChange={handleChange(1)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_b result_grid_b\">\n          <div className=\"result_title\">Measurement</div>\n          <select id=\"result_measurementResult\" name=\"misc_measurementResult\" value={misc.measurement_result || \"Select\"} justify=\"left\" placeholder=\"Measurement result\" onChange={handleChange(2)}>\n            <option value=\"Select\" disabled=\"disabled\">\n              Select\n            </option>\n            <option value=\"Passed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Passed\n            </option>\n            <option value=\"Failed\" disabled={editMode ? \"\" : \"disabled\"}>\n              Failed\n            </option>\n          </select>\n        </div>\n\n        <div className=\"result_c result_grid_c\">\n          <div className=\"result_title\">Critical / Major / Minor</div>\n          <input type=\"text\" id=\"result_defectiveResult\" name=\"result_defectiveResult\" value={visualResult.defective_result || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_d result_grid_d\">\n          <div className=\"result_title\">Sample Threshold (Major / Minor)</div>\n          <input type=\"text\" id=\"result_sampleThreshold\" name=\"result_sampleThreshold\" value={visualResult.sample_threshold || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_e result_grid_e\">\n          <div className=\"result_title\">Final Result</div>\n          <input type=\"text\" id=\"result_finalResult\" name=\"result_finalResult\" value={calculateFinalResult()} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n\n        <div className=\"result_g result_grid_g\">\n          <div className=\"result_title\">Visual Result</div>\n          <input type=\"text\" id=\"result_visualResult\" name=\"result_visualResult\" value={visualResult.visual_result || \"\"} justify=\"left\" placeholder=\"\" readOnly=\"readOnly\" />\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default Result\n","import { React, Fragment } from \"react\"\n\nconst ChangeTrack = props => {\n  const { updateHistory, showHistory, setShowHistory, convertToLocal } = props\n\n  var history = [...updateHistory]\n\n  history.sort(function (a, b) {\n \n    // note : must change the string back to date object for comparison\n    if (Date.parse(a.updated_time) > Date.parse(b.updated_time))\n      return -1\n    else \n      return 1\n  })\n\n  let root = document.querySelector(\":root\")\n\n  return (\n    <Fragment>\n      <div className=\"changeTrack_section_upper\">\n        <div>Change History</div>\n        <div></div>\n        <div>\n          Show &nbsp;\n          <i\n            className=\"fa fa-plus\"\n            onClick={() => {\n              setShowHistory(true)\n            }}\n          ></i>\n          &nbsp;&nbsp;Hide &nbsp;\n          <i\n            className=\"fa fa-minus\"\n            onClick={() => {\n              setShowHistory(false)\n            }}\n          ></i>\n        </div>\n        <div></div>\n        <div>\n          Expand &nbsp;\n          <i\n            className=\"fa fa-plus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"100rem\")\n            }}\n          ></i>\n          &nbsp;&nbsp; Collapse &nbsp;\n          <i\n            className=\"fa fa-minus\"\n            onClick={() => {\n              //change class attribute dynamically\n              root.style.setProperty(\"--changeTrack_max_height\", \"4.3rem\")\n            }}\n          ></i>\n        </div>\n        <div></div>\n      </div>\n      {showHistory ? (\n        <div className=\"changeTrack_section_bottom\">\n          <div className=\"changeTrack_grid_header\">\n            <div>Local Time</div>\n            <div>Updated By</div>\n            <div>Mode</div>\n            <div>Result Details</div>\n            <div></div>\n          </div>\n\n          <div className=\"changeTrack_grid_outer_detail\">\n            {history.length > 0\n              ? history.map(line => (\n                  <div key={line.id} className=\"changeTrack_grid_detail\">\n                    <div>{convertToLocal(line.updated_time)}</div>\n                    <div>{line.updated_by}</div>\n                    <div>{line.updated_mode}</div>\n                    <div>{line.misc}</div>\n                  </div>\n                ))\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\n\nexport default ChangeTrack\n","import React, { Fragment } from \"react\"\n\nconst SharePoint = props => {\n  const { inspectionID, currentSU, currentMF, editMode, getSharePointFiles, setShowSharePointFiles, showSharePointFiles, setSharePointFiles } = props\n\n  const handleClick_add = () => {\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/2022inspRpt/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F2022inspRpt%2F\".concat(\"SU\").concat(currentSU) + \"MF\" + currentMF\n     +\"&dt=\"+(new Date()).getTime()\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleClick_view = () => {\n    const url = \"https://macysinc.sharepoint.com/sites/OSO/2022inspRpt/Forms/AllItems.aspx?id=%2Fsites%2FOSO%2F2022inspRpt%2F\".concat(\"SU\").concat(currentSU) + \"MF\" + currentMF + \"&view=7&q=\" + inspectionID.mc + \"&FilterField1=Inspection_x0020_ID&FilterValue1=\" + inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type[0]\n    +\"&dt=\"+(new Date()).getTime()\n    var newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")    \n    if (newWindow) newWindow.opener = null\n  }\n\n  const handleToggleSharePointFiles = () => {\n    if (showSharePointFiles === true) {\n      setShowSharePointFiles(false)\n      setSharePointFiles([])\n    } else {\n      setShowSharePointFiles(true)\n      getSharePointFiles()\n    }\n  }\n\n  const handleGetSharePointFiles = () => {\n    if (showSharePointFiles) {\n      setSharePointFiles([])\n      getSharePointFiles()\n    }\n  }\n\n  return (\n    <Fragment>\n      <div className=\"sharePoint_section\">Document Management on SharePoint</div>\n      <div className=\"sharePoint_grid\">\n        <div className=\"sharePoint_cell\">\n          <img src=\"../static/img/sharePointx.jpg\" alt=\"sharePoint\" className=\"sharePoint_photo\" />\n        </div>\n\n        <div></div>\n\n        <div className=\"sharePoint_cell\">\n          View files&nbsp;\n          <i\n            className=\"fa  fa-sign-in clickable\"\n            onClick={() => {\n              handleClick_view()\n            }}\n          ></i>\n        </div>\n\n        {editMode ? (\n          <div className=\"sharePoint_cell\">\n            Add files&nbsp;\n            <i\n              className=\"fa  fa-sign-in clickable\"\n              onClick={() => {\n                handleClick_add()\n              }}\n            ></i>\n          </div>\n        ) : (\n          <div className=\"sharePoint_cell\"></div>\n        )}\n\n        <div className=\"sharePoint_cell\">\n          Instant View : &nbsp;&nbsp;\n          {showSharePointFiles ? \"Collapse\" : \"Expand\"}\n          &nbsp;\n          <i\n            className={\"fa \" + (showSharePointFiles ? \"fa-minus\" : \"fa-plus\")}\n            onClick={() => {\n              handleToggleSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n          <i   id='sharePoint_refresh'\n            className=\"fa fa-refresh\"\n            onClick={() => {\n              handleGetSharePointFiles()\n            }}\n          ></i>\n          &nbsp; &nbsp;\n        </div>\n      </div>\n    </Fragment>\n  )\n}\nexport default SharePoint\n","import React, { Fragment } from \"react\"\n\nconst ShowSharePointFiles = props => {\n  const { sharePointFiles, downloadSharePointFile, showSharePointFiles, convertToLocal, editMode, handleDeleteSPfile } = props\n\n  const ext = [\".jpg\", \".png\"]\n  function isSupportPicExt(filename) {\n    for (let i = 0; i < ext.length; i++) {\n      if (filename.toLowerCase().includes(ext[i])) {\n        return true\n      }\n    }\n    return false\n  }\n\n  // const openPhoto = url => {\n  //   const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  //   if (newWindow) newWindow.opener = null\n  // }\n\n  return (\n    <Fragment>\n      {showSharePointFiles ? (\n        <div className=\"showSharePointFiles_section\">\n          <div className=\"showSharePointFiles_grid_header\">\n            <div>File Name</div>\n            <div>Last Editor</div>\n            <div>Last Edit Time</div>\n            <div>File Size</div>\n            <div>Download</div>\n            <div>File Type</div>\n            <div>Delete</div>\n          </div>\n\n          <div>\n            {sharePointFiles.length > 0\n              ? sharePointFiles.map(line =>\n                  line.filename === \"No files\" ? (\n                    <div className=\"sharePointFiles_no_files\">{line.filename}</div>\n                  ) : (\n                    <div key={line.unique_id} className=\"showSharePointFiles_grid_detail\">\n                      <div>{line.filename}</div>\n                      <div>{line.editor}</div>\n                      <div>{convertToLocal(line.modified)}</div>\n                      <div>{line.size}</div>\n                      <div>\n                        <i\n                          className=\"fa fa-download\"\n                          onClick={() => {\n                            downloadSharePointFile(line.filename)\n                          }}\n                        ></i>\n                      </div>\n                      {isSupportPicExt(line.filename) ? (\n                        <div className=\"sharePointFiles_photoBlock\" >\n                          <img  src={\"/showPhoto?folder=\" + line.folder + \"&filename=\" + line.filename} alt=\"\" />\n                        </div>\n                      ) : (\n                        <div>\n                          <i className=\"fa fa-file\"></i>\n                        </div>\n                      )}\n\n                      {editMode ? (\n                        <div>                 \n                          <button id=\"sharePointFiles_deleteButton\"\n                            onClick={() => {\n                              handleDeleteSPfile(line.unique_id) \n                              //props.deleteDefect(x.id)\n                            }}\n                          >\n                            &times;\n                          </button>\n                          </div>\n                        ) : <div>&nbsp;</div>} \n                   \n\n\n     \n\n                    </div>\n                  )\n                )\n              : null}\n          </div>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\nexport default ShowSharePointFiles\n","import React, { Fragment } from \"react\"\nimport { Spinner } from \"./Spinner\"\n\nconst ShowSpinner = props => {\n  const { position } = props\n\n  return (\n    <Fragment>\n      {position === 1 ? <Spinner area=\"getUserProfile\" spinnerMessage=\"Loading your profile, please wait... \" /> : null}\n      {position === 2 ? (\n        <div>\n          <Spinner area=\"printReport\" spinnerMessage=\"Preparing the report, please wait... \" />\n          <Spinner area=\"saveInspection\" spinnerMessage=\"Saving the changes, please wait... \" />\n          <Spinner area=\"deleteInspection\" spinnerMessage=\"Deleting, please wait... \" />\n          <Spinner area=\"createInspection\" spinnerMessage=\"Loading, please wait... \" />\n        </div>\n      ) : null}\n      {position === 3 ? (\n        <div>\n          <Spinner area=\"sharePointFiles\" spinnerMessage=\"Loading SharePoint info, please wait... \" />\n          <Spinner area=\"downloadSharePointfiles\" spinnerMessage=\"Downloading SharePoint info, please wait... \" />\n        </div>\n      ) : null}\n      {position === 10 ? <Spinner area=\"pastInspection\" spinnerMessage=\"Loading past inspections, please wait... \" /> : null}\n    </Fragment>\n  )\n}\nexport default ShowSpinner\n","import React, { useState, Fragment, useEffect } from \"react\"\n\nimport axios from \"axios\"\nimport ItemTable from \"./components/ItemTable\"\nimport ItemTotal from \"./components/ItemTotal\"\nimport DefectOptions from \"./components/DefectOptions\"\nimport DefectList from \"./components/DefectList\"\nimport ShowAlert from \"./components/ShowAlert\"\nimport CheckList from \"./components/CheckList\"\nimport UploadForm from \"./components/UploadForm\"\nimport SearchKey from \"./components/SearchKey\"\nimport MainMenu from \"./components/MainMenu\"\nimport SearchedMC from \"./components/SearchedMC\"\nimport SupplierInfo from \"./components/SupplierInfo\"\n// import PhotoBlock from \"./components/PhotoBlock\"\nimport MfrSelection from \"./components/MfrSelection\"\nimport Misc from \"./components/Misc\"\nimport Result from \"./components/Result\"\nimport ChangeTrack from \"./components/ChangeTrack\"\nimport SharePoint from \"./components/SharePoint\"\nimport ShowSharePointFiles from \"./components/ShowSharePointFiles\"\n\nimport { v4 as uuidv4 } from \"uuid\"\nimport { trackPromise } from \"react-promise-tracker\"\nimport ShowSpinner from \"./components/ShowSpinner\"\n\nconst App = () => {\n  //const initialFormState = { id: null, mc_no: \"\", item_no: \"\", order_qty: \"\", ship_qty: \"\" }\n  const initialInspectionID = { mc: \"\", iteration: \"Select\", type: \"Select\" }\n\n  // Setting state\n  const [items, setItems] = useState([])\n  const [showSearchedMC, setShowSearchedMC] = useState(false)\n  const [defects, setDefects] = useState([])\n  // set position 100 as impossible range as equivalent to empty\n  const [alert, setAlert] = useState({ position: 100 })\n  const [mcTable, setMCTable] = useState([])\n  const [checkList, setCheckList] = useState([])\n  const [inspectionDate, setInspectionDate] = useState(new Date())\n  const [inspectionID, setInspectionID] = useState(initialInspectionID)\n  const [uploads, setUploads] = useState([])\n  const [userProfile, setUserProfile] = useState([])\n  const [currentSU, setCurrentSU] = useState(\"\")\n  const [currentMF, setCurrentMF] = useState(\"\")\n  const [searchedMC, setSearchedMC] = useState([])\n  const [itemSearchString, setItemSearchString] = useState(\"\")\n  const [partyTable, setPartyTable] = useState([])\n  const [currentSUName, setCurrentSUName] = useState(\"\")\n  const [currentMFName, setCurrentMFName] = useState(\"\")\n  const [selectingSupplier, setSelectingSupplier] = useState(true)\n  const [mfList, setMfList] = useState([])\n  const [aqlTable, setAqlTable] = useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [misc, setMisc] = useState({})\n  const [main, setMain] = useState({})\n  const [showFull, setShowFull] = useState(false)\n  const [itemsTotal, setItemsTotal] = useState([])\n  const [shippedTotal, setShippedTotal] = useState(0)\n  const [sampleTotal, setSampleTotal] = useState(0)\n  const [visualResult, setVisualResult] = useState({})\n\n  const [constructTotal, setConstructTotal] = useState(false)\n  const [inspectTotal, setInspectTotal] = useState(0)\n  const [aqlSampleTotal, setAqlSampleTotal] = useState(0)\n  const [updateHistory, setUpdateHistory] = useState([])\n  const [showHistory, setShowHistory] = useState(false)\n  const [sharePointFiles, setSharePointFiles] = useState([])\n  const [showSharePointFiles, setShowSharePointFiles] = useState(false)\n  const [checkListTemplate, setCheckListTemplate] = useState([])\n\n  const [defectLanguage, setDefectLanguage] = useState(\"en\")\n  const [defectList, setDefectList] = useState([])\n\n  const [criticalDefects, setCriticalDefects] = useState([])\n\n  // Data\n\n  useEffect(() => {\n    let root = document.querySelector(\":root\")\n    const userAgent = navigator.userAgent.toLowerCase()\n    const isTablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent)\n\n    // Remove padding of scroll width if it is tablet to make columns of ChangeTrack section aligned\n    if (isTablet) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    } else {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"6.7fr\")\n    }\n\n    // check Safari browser\n    if (userAgent.includes(\"safari\") && userAgent.includes(\"macintosh\")) {\n      root.style.setProperty(\"--changeTrack_scroll_width\", \"7fr\")\n    }\n\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n          setMCTable(response[\"mcTable\"])\n          setPartyTable(response[\"partyTable\"])\n          setMfList(response[\"mfList\"])\n          setAqlTable(response[\"aqlTable\"])\n          setCheckListTemplate(response[\"checkListTemplate\"])\n        })\n        .catch(error => {\n          console.log(error)\n        }),\n      \"getUserProfile\"\n    )\n\n    fetch(\"/api/getDefectTable\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setDefectList(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    fetch(\"/api/getCriticalDefects\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setCriticalDefects(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  useEffect(() => {\n    var x = document.getElementsByClassName(\"itemTotal_Detail\")\n    var len = x.length\n    var first_found = -1\n    var i, j, long, scroll_y\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      const currentChild = x[i].firstElementChild.innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"scroller\").scrollTo(0, 0)\n      long = document.getElementById(\"scroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"scroller\").scrollBy(0, scroll_y)\n    } else {\n      document.getElementsByName(\"itemTotal_searchString\")[0].value = \"\"\n      document.getElementsByName(\"itemTotal_searchString\")[0].placeholder = \"Not found! Try again!\"\n    }\n\n    //document.getElementsByName('mc_no')[0].value =  search_string    // trigger highlight in item table - itemTable block.\n\n    x = document.getElementsByClassName(\"itemTable_Detail\")\n    len = x.length\n    first_found = -1\n\n    for (j = 0; j < len; j++) {\n      x[j].style.backgroundColor = \"#0746f54d\" /*back to original color*/\n    }\n\n    for (i = 0; i < len; i++) {\n      const currentChild = x[i].children[1].innerHTML\n      if (currentChild.includes(itemSearchString) && itemSearchString !== \"\") {\n        x[i].style.backgroundColor = \"yellow\"\n        if (first_found === -1) {\n          first_found = i\n        }\n      }\n    }\n\n    if (first_found > 0) {\n      document.getElementById(\"itemTableScroller\").scrollTo(0, 0)\n      long = document.getElementById(\"itemTableScroller\").scrollHeight\n      scroll_y = (long / len) * first_found\n      document.getElementById(\"itemTableScroller\").scrollBy(0, scroll_y)\n    }\n  }, [itemSearchString, items])\n\n  // calcuate itemsTotal based on items\n\n  useEffect(() => {\n    if (constructTotal) {\n      const items1 = items\n        ? items.map(function (obj) {\n            return {\n              item_no: obj.item_no,\n              //order_qty: obj.order_qty,\n              ship_qty: obj.ship_qty\n            }\n          })\n        : null\n\n      // use reduce to calculate total by item#\n      const items2 = items\n        ? items1.reduce((prev, next) => {\n            if (next.item_no in prev) {\n              prev[next.item_no].ship_qty = parseInt(prev[next.item_no].ship_qty) + parseInt(next.ship_qty)\n            } else {\n              prev[next.item_no] = next\n            }\n            return prev\n          }, {})\n        : null\n\n      // present each item total\n      const items3 = Object.keys(items2).map(item_no => items2[item_no])\n\n      var _shippedTotal = 0\n      for (var i = 0; i < items3.length; i += 1) {\n        _shippedTotal = _shippedTotal + items3[i].ship_qty\n      }\n\n      let newItemsTotal = [...items3]\n      for (i = 0; i < newItemsTotal.length; i += 1) {\n        const ship_qty = newItemsTotal[i].ship_qty\n        const sampleSize = getSampleSize(aqlTable, ship_qty, _shippedTotal)\n        let inspectQty = sampleSize\n        newItemsTotal[i] = { ...newItemsTotal[i], sample_qty: sampleSize, inspect_qty: inspectQty }\n      }\n\n      setItemsTotal(newItemsTotal)\n      setConstructTotal(false)\n    }\n  }, [items, constructTotal, aqlTable, shippedTotal])\n\n  function getSampleSize(_aql, ship_qty, shippedTotal) {\n    if (shippedTotal === 0 || isNaN(ship_qty)) {\n      return 0\n    }\n    const aql = _aql.filter(x => x.size_start <= shippedTotal && x.size_end >= shippedTotal)\n    const sampleQty = (ship_qty / shippedTotal) * aql[0][\"25sample\"]\n    return Math.round(sampleQty) //  > 0.5 roundup to integer\n  }\n\n  // ****\n\n  // updateMiscResult\n\n  useEffect(() => {\n    var sampleThreshold = \"\"\n    var defectiveResult = \"\"\n    var visualResult = \"\"\n\n    var sampleThresholdMajor = 0\n    var sampleThresholdMinor = 0\n\n    var total_major = 0\n    var total_minor = 0\n    var total_critical = 0\n\n    for (var i = 0; i < defects.length; i += 1) {\n      if (defects[i].critical) {\n        total_critical = total_critical + parseInt(defects[i].major)\n      } else if (parseInt(defects[i].major) > 0) {\n        total_major = total_major + parseInt(defects[i].major)\n      }\n\n      if (parseInt(defects[i].minor) > 0) {\n        total_minor = total_minor + parseInt(defects[i].minor)\n      }\n    }\n\n    if (shippedTotal) {\n      const aql = aqlTable.filter(x => x.size_start <= shippedTotal && x.size_end >= shippedTotal)\n      sampleThreshold = aql[0][\"25accept\"].toString() + \" / \" + aql[0][\"40accept\"].toString()\n      sampleThresholdMajor = aql[0][\"25accept\"]\n      sampleThresholdMinor = aql[0][\"40accept\"]\n    }\n\n    // Check Inspection Result -  1) If Critical -> Failed,  2) Major + (Minor/4) > Threshold of Major -> Failed, 3) Packing Failed or Measurement Failed -> Failed\n\n    if (total_critical + total_major + total_minor > 0) {\n      defectiveResult = \" \" + total_critical.toString() + \" / \" + total_major.toString() + \" / \" + total_minor.toString()\n\n      if (total_major + Math.floor(total_minor / 4) > sampleThresholdMajor) {\n        visualResult = \"Failed\"\n      } else if (total_minor > sampleThresholdMinor) {\n        visualResult = \"Failed\"\n      }\n    }\n\n    if (total_critical > 0) {\n      visualResult = \"Failed\"\n    }\n\n    if (visualResult !== \"Failed\" && defectiveResult.length > 0) {\n      visualResult = \"Passed\"\n    }\n\n    setVisualResult({ visual_result: visualResult, defective_result: defectiveResult, sample_threshold: sampleThreshold })\n  }, [defects, aqlTable, shippedTotal])\n\n  const handleSupplierInfo = (su, mf) => {\n    partyTable.map(x => (x.SU === su ? setCurrentSUName(x.SU_NAME) : null))\n    partyTable.map(x => (x.MF === mf ? setCurrentMFName(x.MF_NAME) : null))\n  }\n\n  // CRUD operations\n  const addMC = mc => {\n    mcTable.map(x => (x.mc_no === mc ? ((x.id = uuidv4()), setItems(prev => prev.concat(x))) : null))\n    handleSupplierInfo(currentSU, currentMF)\n    setConstructTotal(true)\n    setShowFull(true)\n    setEditMode(true)\n    fillCheckList() // since it's empty\n  }\n\n  const deleteAllItems = item_no => {\n    // setEditing(false)\n    setItems(items.filter(item => item.item_no !== item_no))\n    setItemsTotal(itemsTotal.filter(item => item.item_no !== item_no))\n  }\n\n  const deleteItem = id => {\n    // setEditing(false)\n    //setItems(items.filter(item => item.id !== id))\n  }\n\n  const addToDefectList = (product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language) => {\n    setDefects(prev => prev.concat({ id: uuidv4(), product, defect_area, defect_detail, major, minor, defect_area_code, defect_detail_area, defect_language, critical: isCriticalDefect(product, defect_detail_area) }))\n  }\n\n  const deleteDefect = id => {\n    // setEditing(false)\n    setDefects(defects.filter(defect => defect.id !== id))\n  }\n\n  const setDisplayAlert = alert => {\n    //{ message: \"hi\", position: 0, timeout: 3000, color: \"alert__green\" }\n    setAlert(alert)\n    setTimeout(function () {\n      setAlert({ position: 100 })\n    }, alert.timeout)\n  }\n\n  const handleCheckItemChange = (id, change) => {\n    const newCheckList = [...checkList]\n    const index = newCheckList.findIndex(r => r.id === id)\n    newCheckList[index] = change\n    setCheckList(newCheckList)\n    //setCheckList([...checkList], { id: change })\n  }\n\n  const undoTable = () => {\n    setItems(JSON.parse(localStorage.getItem(\"items\")))\n    setItemsTotal(JSON.parse(localStorage.getItem(\"itemsTotal\")))\n  }\n\n  const resetInspectQty = () => {\n    const _total = [...itemsTotal]\n    for (var i = 0; i < _total.length; i++) {\n      const _sample_qty = getSampleSize(aqlTable, _total[i].ship_qty, shippedTotal)\n      _total[i].sample_qty = _sample_qty\n      _total[i].inspect_qty = _sample_qty\n    }\n    setItemsTotal(_total)\n  }\n\n  const handleSave = submitted => {\n    // Convert inspection date to time 00.00.00\n    const main = { su_no: currentSU, mf_no: currentMF, inspection_date: inspectionDate.toDateString(), submitted: submitted }\n    const _id = { mc: inspectionID.mc, iteration: inspectionID.iteration, type: inspectionID.type }\n    let newMisc = { ...misc }\n    newMisc = { ...newMisc, final_result: calculateFinalResult(), visual_result: visualResult, defectLanguage: defectLanguage, submitted: submitted }\n\n    trackPromise(\n      axios({\n        url: \"/api/save\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: _id, main: main, misc: newMisc, mf: currentMF, checkList: checkList, items: items, itemsTotal: itemsTotal, defects: defects, uploads: uploads, updateHistory: updateHistory })\n      })\n        .then(res => {\n          clearScreen()\n          setDisplayAlert({ message: \"Saved Successfully !\", position: 0, timeout: 1000, color: \"alert__green\" })\n        })\n        .catch(err => {\n          console.log(err.response.data)\n          setDisplayAlert({ message: \"There was an error in saving, please contact the admin !!\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"saveInspection\"\n    )\n  }\n\n  const handleSearch = id => {\n    //console.log(\"entering api/search\")\n\n    trackPromise(\n      axios({\n        url: \"/api/search\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        // .then(response => {\n        //   console.log(\"status\", response.status)\n        // })\n        .then(response => response.data)\n        .then(response => {\n          setShowFull(true)\n          setItems(response[\"items\"])\n          setItemsTotal(response[\"itemsTotal\"])\n\n          localStorage.setItem(\"items\", JSON.stringify(response[\"items\"]))\n          localStorage.setItem(\"itemsTotal\", JSON.stringify(response[\"itemsTotal\"]))\n\n          setInspectionDate(response[\"main\"].inspection_date ? new Date(response[\"main\"].inspection_date) : null)\n          setMain(response[\"main\"])\n          setMisc(response[\"misc\"] ? response[\"misc\"] : {})\n          if (response[\"misc\"][\"defectLanguage\"] === undefined) {\n            setDefectLanguage(\"en\")\n          } else {\n            setDefectLanguage(response[\"misc\"][\"defectLanguage\"])\n          }\n\n          setCheckList(response[\"checkList\"])\n\n          handleSupplierInfo(response[\"main\"].su_no, response[\"main\"].mf_no)\n\n          if (response[\"defects\"] === undefined) {\n            setDefects([])\n          } else {\n            //console.log(response[\"defects\"])\n            setDefects(response[\"defects\"])\n          }\n\n          if (response[\"uploads\"] === undefined) {\n            setUploads(\"\")\n          } else {\n            //console.log(response[\"uploads\"])\n            setUploads(response[\"uploads\"])\n          }\n          if (response[\"update_history\"] === undefined) {\n            setUpdateHistory([])\n          } else {\n            setUpdateHistory(response[\"update_history\"])\n          }\n          setSharePointFiles(false)\n          setShowSharePointFiles(false)\n          setShowHistory(false)\n        })\n        .catch(err => {\n          //console.log(\"err\", err.response.status)\n          if (err.response.status === 406) {\n            setDisplayAlert({ message: \"Not a valid MC for this manufacturer !\", position: 0, timeout: 2000, color: \"alert__red\" })\n          } else if (err.response.status === 501) {\n            window.location = \"/login/timeout\"\n          } else setDisplayAlert({ message: \"No such Inspection ID, please try again !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"searchKey\"\n    )\n  }\n\n  const handleDelete = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete this inspection ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/delete\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (clearScreen(), setDisplayAlert({ message: \"Deleted successfully !\", position: 0, timeout: 1500, color: \"alert__green\" })) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the inspection ID !\", position: 0, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  const clearScreen = () => {\n    setItems([])\n    setDefects([])\n    setCheckList([])\n    setSearchedMC([])\n    setUploads([])\n    setShowSearchedMC(false)\n    setMisc([])\n    setUpdateHistory([])\n    setShowFull(false)\n    setEditMode(false)\n    setShowHistory(false)\n    setSharePointFiles([])\n    setShowSharePointFiles(false)\n    setShowHistory(true)\n  }\n\n  // ** implement delay function\n  const delay = ms => new Promise(res => setTimeout(res, ms))\n\n  const handleSessionTimeOut = async () => {\n    setDisplayAlert({ message: \"Session timeout, please login again !\", position: 0, timeout: 3000, color: \"alert__red\" })\n    await delay(3000)\n    window.location = \"/login/timeout\"\n  }\n\n  const searchInspByMC = mc => {\n    setShowSearchedMC(true)\n\n    trackPromise(\n      //fetch(\"/api/searchInspByMC\", {\n      axios({\n        url: \"/api/searchInspByMC\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ mc: mc, mfList: mfList })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSearchedMC(response)\n          setSharePointFiles(false)\n        })\n        .catch(err => {\n          //console.log('err', err)\n          err.response.status === 501 ? handleSessionTimeOut() : setDisplayAlert({ message: \"Something went wrong !\", position: 0, timeout: 2000, color: \"alert__red\" })\n        }),\n      \"mfrSelection\"\n    )\n  }\n\n  const downloadDoc = (_id, file_name) => event => {\n    //event.preventDefault()\n\n    fetch(\"/download/\" + _id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        \"Content-Disposition\": \"attachment\"\n      }\n    })\n      .then(response => response.blob())\n      .then(blob => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]))\n        const link = document.createElement(\"a\")\n        link.href = url\n        link.setAttribute(\"download\", file_name)\n\n        // Append to html link element page\n        document.body.appendChild(link)\n\n        // Start download\n        link.click()\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link)\n      })\n  }\n\n  const downloadSharePointFile = file_name => {\n    //event.preventDefault()\n\n    const file_url = \"/sites/OSO/2022InspRpt/\".concat(\"SU\").concat(currentSU) + \"MF\" + currentMF + \"/\" + file_name\n\n    trackPromise(\n      fetch(\"/downloadSharePointFile\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          file_url: file_url\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"downloadSharePointfiles\"\n    )\n  }\n\n  const printReport = (file_name, draft) => {\n    //event.preventDefault()\n    if (misc.qa_type === undefined) {\n      setDisplayAlert({ message: \"QA Type must be chosen !\", position: 0, timeout: 2000, color: \"alert__red\" })\n      return\n    }\n\n    file_name = \"MMG Inspection Report - \" + inspectionID[\"mc\"] + \"-\" + inspectionID[\"iteration\"] + \"-\" + inspectionID[\"type\"] + (draft ? \" (Draft) \" : \"\") + \".xlsx\"\n\n    trackPromise(\n      fetch(\"/printreport\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/octet-stream\",\n          \"Content-Disposition\": \"attachment\",\n          \"Cache-Control\": \"no-cache\",\n          inspectionID: JSON.stringify({ inspectionID })\n        }\n      })\n        .then(response => response.blob())\n        .then(blob => {\n          // Create blob link to download\n          const url = window.URL.createObjectURL(new Blob([blob]))\n          const link = document.createElement(\"a\")\n          link.href = url\n          link.setAttribute(\"download\", file_name)\n\n          // Append to html link element page\n          document.body.appendChild(link)\n\n          // Start download\n          link.click()\n\n          // Clean up and remove the link\n          link.parentNode.removeChild(link)\n        }),\n      \"printReport\"\n    )\n  }\n\n  const getSharePointFiles = () => {\n    trackPromise(\n      axios({\n        url: \"/api/getsharepointfiles\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        },\n        data: JSON.stringify({ folder: \"SU\" + currentSU + \"MF\" + currentMF, inspection_id: inspectionID.mc + \"-\" + inspectionID.iteration + \"-\" + inspectionID.type[0] })\n      })\n        .then(response => response.data)\n        .then(response => {\n          setSharePointFiles(response)\n        })\n        .catch(err => {\n          if (err.response.status === 404) {\n            setDisplayAlert({ message: \"Folder on SharePoint was not created !\", position: 3, timeout: 2000, color: \"alert__red\" })\n          }\n        }),\n      \"sharePointFiles\"\n    )\n  }\n\n  //encapsulate the props function as only message is different in this page\n  const displayAlert = message => {\n    setDisplayAlert({ message: message, position: 0, timeout: 3000, color: \"alert__red\" })\n  }\n\n  const checkDuplicateID = id => {\n    trackPromise(\n      axios({\n        url: \"/api/checkDuplicateID\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      }).then(res => (res.status === 200 ? displayAlert(\"This key has been used by previous inspection ! Please check and or consider a new iteration!\") : addMC(id.mc))),\n      \"createInspection\"\n    )\n  }\n\n  const handleDeleteSPfile = id => {\n    var confirm = window.confirm(\"Are you sure you want to delete the SharePoint file ? \")\n    if (confirm !== true) {\n      return\n    }\n    trackPromise(\n      axios({\n        url: \"/api/deleteSPfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        data: JSON.stringify({ _id: id })\n      })\n        .then(response => (response.status === 200 ? (setDisplayAlert({ message: \"Deleted successfully !\", position: 3, timeout: 3500, color: \"alert__green\" }), document.getElementById(\"sharePoint_refresh\").click()) : null))\n        .catch(err => {\n          setDisplayAlert({ message: \"Error deleting the SP file !\", position: 4, timeout: 1500, color: \"alert__red\" })\n        }),\n      \"deleteInspection\"\n    )\n  }\n\n  function isCriticalDefect(product, defect) {\n    for (var i = 0; i < criticalDefects.length; i += 1) {\n      if (criticalDefects[i].product === product && criticalDefects[i].defect_detail_code === defect) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function calculateFinalResult() {\n    let final_result = \"\"\n    if (misc.measurement_result === \"Failed\" || misc.packing_result === \"Failed\" || visualResult.visual_result === \"Failed\") {\n      final_result = \"Failed\"\n    } else if (visualResult.visual_result === \"\") {\n      final_result = \"\"\n    } else {\n      final_result = \"Passed\"\n    }\n    return final_result\n  }\n\n  // convert to local time\n  function convertToLocal(date) {\n    const t = new Date(date).toTimeString()\n    const d = new Date(date).toDateString()\n    return d + \" \" + t\n  }\n\n  const fillCheckList = () => {\n    // Populate values to the checklist template.\n    const newCheckList = [...checkListTemplate]\n    setCheckList(newCheckList)\n  }\n\n  return (\n    <Fragment>\n      {/* <UserProfile userProfile={userProfile} /> */}\n      <SupplierInfo currentSU={currentSU} currentMF={currentMF} currentSUName={currentSUName} currentMFName={currentMFName} setSelectingSupplier={setSelectingSupplier} setShowFull={setShowFull} />\n      <MfrSelection partyTable={partyTable} setCurrentSU={setCurrentSU} setCurrentMF={setCurrentMF} setCurrentSUName={setCurrentSUName} setCurrentMFName={setCurrentMFName} selectingSupplier={selectingSupplier} setSelectingSupplier={setSelectingSupplier} />\n\n      <ShowSpinner position={1} />\n      <MainMenu handleSave={handleSave} handleSearch={handleSearch} inspectionID={inspectionID} handleDelete={handleDelete} printReport={printReport} editMode={editMode} setEditMode={setEditMode} userProfile={userProfile} main={main} misc={misc} showFull={showFull} clearScreen={clearScreen} updateHistory={updateHistory} />\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <Fragment>\n            {/* <h2>Search Inspection</h2> */}\n            <SearchKey checkDuplicateID={checkDuplicateID} mcTable={mcTable} setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setInspectionID={setInspectionID} clearScreen={clearScreen} searchInspByMC={searchInspByMC} currentSU={currentSU} currentMF={currentMF} editMode={editMode} />\n\n            {showSearchedMC ? <SearchedMC inspectionID={inspectionID} setInspectionID={setInspectionID} handleSearch={handleSearch} searchInspByMC={searchInspByMC} searchedMC={searchedMC} setShowSearchedMC={setShowSearchedMC} mcTable={mcTable} currentSU={currentSU} currentMF={currentMF} /> : null}\n          </Fragment>\n        </div>\n      </div>\n      {alert.position === 0 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <ShowSpinner position={2} />\n\n      {/* Result  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Result setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode} isCriticalDefect={isCriticalDefect} defects={defects} aqlTable={aqlTable} shippedTotal={shippedTotal} visualResult={visualResult} calculateFinalResult={calculateFinalResult}></Result>\n          </Fragment>\n        </div>\n      </div>\n\n      {/* Misc section with inspection Date  */}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <Fragment>\n            <Misc setInspectionDate={setInspectionDate} inspectionDate={inspectionDate} setMisc={setMisc} misc={misc} editMode={editMode}></Misc>\n          </Fragment>\n        </div>\n      </div>\n\n      {alert.position === 1 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large\">\n          <div className=\"itemTable_2col\">\n            <ItemTable items={items} deleteItem={deleteItem} setItems={setItems} setDisplayAlert={setDisplayAlert} mcTable={mcTable} addMC={addMC} editMode={editMode} currentSU={currentSU} currentMF={currentMF} />\n            <div></div>\n            <ItemTotal items={items} deleteAllItems={deleteAllItems} setItemSearchString={setItemSearchString} aqlTable={aqlTable} editMode={editMode} showFull={showFull} shippedTotal={shippedTotal} sampleTotal={sampleTotal} itemsTotal={itemsTotal} getSampleSize={getSampleSize} setItemsTotal={setItemsTotal} setShippedTotal={setShippedTotal} setSampleTotal={setSampleTotal} inspectTotal={inspectTotal} setInspectTotal={setInspectTotal} setAqlSampleTotal={setAqlSampleTotal} aqlSampleTotal={aqlSampleTotal} undoTable={undoTable} resetInspectQty={resetInspectQty} setDisplayAlert={setDisplayAlert} />\n          </div>\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectOptions items={items} addToDefectList={addToDefectList} setDisplayAlert={setDisplayAlert} editMode={editMode} defects={defects} defectLanguage={defectLanguage} setDefectLanguage={setDefectLanguage} defectList={defectList} />\n        </div>\n      </div>\n      {alert.position === 2 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <DefectList defects={defects} deleteDefect={deleteDefect} editMode={editMode} isCriticalDefect={isCriticalDefect} defectLanguage={defectLanguage} defectList={defectList} />\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className={\"flex-large \" + (showFull ? null : \"hideSection\")}>\n          <CheckList checkList={checkList} handleCheckItemChange={handleCheckItemChange} editMode={editMode} />\n        </div>\n      </div>\n      {alert.position === 3 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        {/* <div className={\"flex-row  hideSection\"}> */}\n        <div className=\"flex-large \">\n          <UploadForm setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setUploads={setUploads} uploads={uploads} downloadDoc={downloadDoc} editMode={editMode}\n          currentSU={currentSU}  currentMF={currentMF}  />\n        </div>\n\n        {/* <div className=\"flex-large\">\n          <PhotoBlock uploadTable={uploads} downloadDoc={downloadDoc} currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} />\n        </div> */}\n      </div>\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <SharePoint currentSU={currentSU} currentMF={currentMF} inspectionID={inspectionID} editMode={editMode} getSharePointFiles={getSharePointFiles} setShowSharePointFiles={setShowSharePointFiles} showSharePointFiles={showSharePointFiles} setSharePointFiles={setSharePointFiles} />\n          <ShowSpinner position={3} />\n        </div>\n      </div>\n      {alert.position === 4 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ShowSharePointFiles sharePointFiles={sharePointFiles} downloadSharePointFile={downloadSharePointFile} showSharePointFiles={showSharePointFiles} convertToLocal={convertToLocal} editMode={editMode} handleDeleteSPfile={handleDeleteSPfile} />\n        </div>\n      </div>\n\n      <div className={\"flex-row \" + (showFull ? null : \"hideSection\")}>\n        <div className=\"flex-large \">\n          <ChangeTrack updateHistory={updateHistory} showHistory={showHistory} setShowHistory={setShowHistory} convertToLocal={convertToLocal} />\n        </div>\n      </div>\n      <div>&nbsp;</div>\n      <div>&nbsp;</div>\n    </Fragment>\n  )\n}\nexport default App\n","import React from \"react\"\r\n\r\nconst Home = props => {\r\n  const { env } = props\r\n\r\n  return (\r\n    <div className=\"welcome\">\r\n      <div>\r\n        {/* <img src=\"static/img/frontpageMap.jpg\" aria-hidden alt=\"MMG Inspection Map\"  />                 */}\r\n        {env === \"DEV\" ? <iframe src=\"http://localhost:5000/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe> : <iframe src=\"https://mmgapp2.herokuapp.com/map-marker\" title=\"map\" style={{ width: \"100%\", height: \"103%\", border: 0 }}></iframe>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home\r\n","import { React, useState, useEffect, Fragment } from \"react\"\r\nimport axios from \"axios\"\r\n//import { Spinner } from \"./components/Spinner\"\r\nimport { trackPromise } from \"react-promise-tracker\"\r\nimport ShowSpinner from \"./components/ShowSpinner\"\r\n\r\nconst About = props => {\r\n  //const { setItems, items, setDisplayAlert, mcTable, addMC, editMode, currentSU, currentMF } = props\r\n\r\n  const [result, setResult] = useState([])\r\n\r\n  function sortInspectionDate(_result) {\r\n    _result.sort(function (a, b) {\r\n      // note : must change the string back to date object for comparison\r\n      if (Date.parse(a[\"main\"].inspection_date) > Date.parse(b[\"main\"].inspection_date)) return -1\r\n      else return 1\r\n    })\r\n\r\n    return _result\r\n  }\r\n\r\n  useEffect(() => {\r\n    trackPromise(\r\n      axios({\r\n        url: \"/api/pastXdaysResult\",\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          api: \"yes\"\r\n        }\r\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\r\n      })\r\n        .then(response => response.data)\r\n        .then(response => {\r\n          const _result = sortInspectionDate(response)\r\n          setResult(_result)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        }),\r\n      \"pastInspection\"\r\n    )\r\n    return () => {\r\n      setResult({}) // This worked for me\r\n    }\r\n  }, [])\r\n\r\n  // convert to local time\r\n  function convertToLocalDate(date) {\r\n    //const t = new Date(date).toTimeString()\r\n    //return d + \" \" + t\r\n    const d = new Date(date).toDateString()\r\n    return d\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"xDaysResult\">\r\n        {result.length > 0 ? (\r\n          <div className=\"xDaysResult_gridHeader\">\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection Date</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Supplier</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Manufacturer</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Inspection ID</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\">Result</div>\r\n            <div className=\"xDaysResult_gridHeaderItem\"></div>\r\n          </div>\r\n        ) : null}\r\n\r\n        {result.length > 0\r\n          ? result.map(item => (\r\n              <div key={item.id} className=\"xDaysResult_gridDetail\">\r\n                <div className=\"xDaysResult_gridItem\">{convertToLocalDate(item[\"main\"].inspection_date)}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].su_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"main\"].mf_no}</div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"_id\"].mc + \"-\" + item[\"_id\"].iteration + \"-\" + item[\"_id\"].type} </div>\r\n                <div className=\"xDaysResult_gridItem\">{item[\"misc\"].final_result}</div>\r\n                <div></div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n      {/* <Spinner area=\"pastInspection\" /> */}\r\n      <ShowSpinner position={10} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default About\r\n","//import React, { useState, Fragment } from \"react\"\nimport React, { Fragment } from \"react\"\n\nconst MainMenu = props => {\n  const { userProfile } = props\n  return (\n    <Fragment>\n      <div className=\"userProfile\">\n        <div className=\"userProfile_title\">\n          <div>\n            <img src=\"static/img/macys-header.jpg\" aria-hidden alt=\"\" width=\"30\" height=\"30\" />\n          </div>\n          <div>MMG Inspection App</div>\n        </div>\n        <div className=\"userProfile_personal\">\n          <div className=\"userProfile_name\">{userProfile.first_name ? \"Hi, \" + userProfile.first_name : null} </div>\n          <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>}</div>\n        </div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default MainMenu\n","import { Route, Routes, HashRouter as Router, Link } from \"react-router-dom\"\nimport React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport AppInspection from \"./AppInspection\"\nimport Home from \"./Home\"\nimport XDaysResult from \"./XDaysResult\"\nimport UserProfile from \"./components/UserProfile\"\nimport { trackPromise } from \"react-promise-tracker\"\n\nconst logout = () => {\n  localStorage.clear()\n  window.location = \"/logout\"\n}\n\nconst gotoPowerBI = () => {\n  const url = \"https://app.powerbi.com/reportEmbed?reportId=f0a7cd56-e22b-490a-9ad7-012d4a0d5251&autoAuth=true&filterPanelEnabled=False&pageName=ReportSectionf1be12cf083e1c0eba15\"\n\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  if (newWindow) newWindow.opener = null\n}\n\nconst App = () => {\n  const [userProfile, setUserProfile] = useState({})\n\n  useEffect(() => {\n    trackPromise(\n      axios({\n        url: \"/api/getUserProfile\",\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          api: \"yes\"\n        }\n        //data: JSON.stringify({})   seems like this line has to be removed to avoid error from Heroku as this line is passing empty parameter.\n      })\n        .then(response => response.data)\n        .then(response => {\n          setUserProfile(response[\"userProfile\"])\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    )\n  }, [])\n\n  return (\n    <div className=\"container app_container\">\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <UserProfile userProfile={userProfile} />\n          <Router>\n            <nav>\n              <ul className=\"app_header\">\n                <li>\n                  <Link to=\"/\" className=\"link\">\n                    Home\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"/appInspection\" className=\"link\">\n                    Inspection\n                  </Link>\n                </li>\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li>\n                    <Link to=\"/xDaysResult\" className=\"link\">\n                      Past Inspection Results\n                    </Link>\n                  </li>\n                ) : null}\n\n                {userProfile.email !== undefined && userProfile.email.includes(\"macys.com\") ? (\n                  <li\n                    className=\"link\"\n                    onClick={() => {\n                      gotoPowerBI()\n                    }}\n                  >\n                    Power BI\n                  </li>\n                ) : null}\n\n                <button\n                  className=\"fa fa-sign-out\"\n                  onClick={() => {\n                    logout()\n                  }}\n                >\n                  Logout\n                </button>\n                {/* <div className=\"userProfile_photo\">{userProfile.email ? userProfile.email.includes(\"@macys.com\") ? <img src={\"/api/getPhoto\"} aria-hidden alt=\"Searching for photo...\" width=\"60\" height=\"60\" /> : <img src=\"static/img/anonymous.jpg\" aria-hidden alt=\"No factory photo !!\" width=\"60\" height=\"60\" /> : <div>Searching for photo...</div>} </div>*/}\n              </ul>\n            </nav>\n\n            <Routes>\n              <Route path=\"/\" element={<Home env={userProfile.environment} />} />\n              <Route path=\"/appInspection\" element={<AppInspection />} />\n              <Route path=\"/xDaysResult\" element={<XDaysResult />} />\n            </Routes>\n          </Router>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./css/main.css\"\nimport \"./css/index.css\"\nimport \"./css/defectList.css\"\nimport \"./css/defectOptions.css\"\nimport \"./css/checkList.css\"\nimport \"./css/uploadDoc.css\"\nimport \"./css/photoBlock.css\"\nimport \"./css/searchKey.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/mainMenu.css\"\nimport \"./css/searchedMC.css\"\nimport \"./css/userProfile.css\"\nimport \"./css/supplierInfo.css\"\nimport \"./css/itemTable.css\"\nimport \"./css/itemTotal.css\"\nimport \"./css/misc.css\"\nimport \"./css/mfrSelection.css\"\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport \"./css/result.css\"\nimport \"./css/changeTrack.css\"\nimport \"./css/sharePoint.css\"\nimport \"./css/showSharePointFiles.css\"\nimport \"./css/appInspection.css\"\nimport \"./css/app.css\"\nimport \"./css/xDaysResult.css\"\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}